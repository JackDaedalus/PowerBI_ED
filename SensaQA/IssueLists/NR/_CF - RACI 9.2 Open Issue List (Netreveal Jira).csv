Summary,Issue key,Issue id,Parent id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project lead id,Project description,Priority,Resolution,Assignee,Assignee Id,Reporter,Reporter Id,Creator,Creator Id,Created,Updated,Last Viewed,Resolved,Affects versions,Affects versions,Affects versions,Affects versions,Affects versions,Fix versions,Fix versions,Fix versions,Fix versions,Components,Components,Components,Due date,Labels,Labels,Labels,Description,Environment,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers Id,Watchers Id,Watchers Id,Watchers Id,Watchers Id,Watchers Id,Watchers Id,Log Work,Log Work,Log Work,Log Work,Log Work,Log Work,Log Work,Log Work,Original estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Inward issue link (Blocks),Outward issue link (Blocks),Inward issue link (Cloners (migrated)),Outward issue link (Cloners (migrated)),Outward issue link (Cloners (migrated)),Inward issue link (Cloners),Outward issue link (Cloners),Inward issue link (Continuation),Inward issue link (Continuation),Outward issue link (Continuation),Inward issue link (Contributes),Outward issue link (Contributes),Inward issue link (Dependent),Outward issue link (Dependent),Inward issue link (Duplicate (migrated)),Outward issue link (Duplicate (migrated)),Outward issue link (Duplicate),Inward issue link (Problem/Incident),Outward issue link (Problem/Incident),Inward issue link (Relate),Inward issue link (Relate),Outward issue link (Relate),Outward issue link (Relate),Outward issue link (Relate),Inward issue link (Relates),Outward issue link (Relates),Outward issue link (Supersede),Outward issue link (Support),Inward issue link (Test Zephyr),Outward issue link (Test Zephyr),Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (AF Phase 4 Date),Custom field (AF Phase 5 Date),Custom field (AF Phase 6 Date),Custom field (AS Admin Console),Custom field (AS Config Files Directory),Custom field (AS Log Directory),Custom field (Acceptance Criteria),Custom field (Account (legacy)),Custom field (Accumulo),Custom field (Action with),Custom field (Actor),Custom field (Actual Completion Date),Custom field (Actual Effort),Custom field (Actual Outcome),Custom field (Actual Start Date),Custom field (Actual end),Custom field (Actual start),Custom field (Additional BA Effort),Custom field (Affects module),Custom field (Agreed with Client Date),Custom field (Agreed with Detica Date),Custom field (Analysis - Total Time Remaining),Custom field (Analysis Team Total Estimate),Custom field (Analytics: Analytics Deployed),Custom field (Analytics: Version),Custom field (Analytics: data Types Used),Custom field (App Server Login),Custom field (AppServer Version),Custom field (Application Login/Password admin),Custom field (Application Server),Custom field (Application Server (Compliance)),Custom field (Application Server (Cyber)),Custom field (Apps Dev High-Level Estimate),Custom field (Apps QA High-Level Estimate),Custom field (Architect),Custom field (Area Owner),Custom field (Assessment),Custom field (Assessment Narrative),Custom field (Assigned to team member),Custom field (Associated product issue),Custom field (Associated support incident),Custom field (Atlas project key),Custom field (Atlas project status),Custom field (Baseline Effort),Custom field (Benefit),Custom field (Benefit Assessed Date),Custom field (Bid Manager),Custom field (Browser),Custom field (Bug Severity),Custom field (Build Java Version (Cyber)),Custom field (Busines Unit Manager),Custom field (Business Benefit),Custom field (Business Justification),Custom field (Business Value),Custom field (Business Value (migrated)),Custom field (CAPEX (GBP)),Custom field (CAPEX (£)),Custom field (CE Resolution),Custom field (CS Takeover),Custom field (Call originator),Custom field (Category),Custom field (Change Request in progress (Compliance)),Custom field (Change Request in progress? (Compliance)),Custom field (Change reason),Custom field (Change risk),Custom field (Change type),Custom field (Channel Partner Benefit),Custom field (Client Description),Custom field (Client Reference),Custom field (Closed Date),Custom field (Closure Tag),Custom field (Codebase URL),Custom field (Compass),Custom field (Compliance Product Engineering Resource),Custom field (Composite Estimate),Custom field (Compound Estimate),Custom field (Contact Method),Custom field (Continued Project Delivery?),Custom field (Contract Type),Custom field (Current Investigation Notes),Custom field (Current Project Phase (Assurance Framework)),Custom field (Cust Ref),Custom field (Custom Field 1),Custom field (Custom Field 2),Custom field (Customer),Custom field (Customer Commitment),Custom field (Customer Investigation),Custom field (Customer Priority),Custom field (Customer Visibility),Custom field (Cyber Product Engineer (Non JIRA User)),Custom field (Cyber Product Engineering Resource),Custom field (Data Review),Custom field (Database),Custom field (Database (Compliance)),Custom field (Database (Cyber)),Custom field (Date Reference),Custom field (Date of First Response),Custom field (Decision rationale),Custom field (Deliverable Location),Custom field (Deliverable Name),Custom field (Deliverable Type),Custom field (Delivery Manager),Custom field (Delivery risk),Custom field (Delivery team),Custom field (Dependancies),Custom field (Deployment Status),Custom field (Design approver),Custom field (Details of Continued Project Delivery),Custom field (Dev High-Level Estimate),Custom field (Development),Custom field (Documentation Status),Custom field (Effort Estimate),Custom field (Effort Estimated Date),Custom field (End Date),Custom field (End User Benefit),Custom field (Engineering Spend Category),Custom field (Enhancement type),Custom field (Environment),Custom field (Environment (GEP)),Custom field (Environment Review),Custom field (Epic Link),Epic Link Summary,Custom field (Epic progress),Custom field (Estimate),Custom field (Estimate Comments),Custom field (Estimate Magnitude),Custom field (Estimated Impact),Custom field (Expected Completion Date),Custom field (Expected Outcome),Custom field (External issue ID),Custom field (Failed Client Count),Custom field (Failed Count),Custom field (Failed in Build),Custom field (Failure Category),Custom field (Feature Reason),Custom field (Feature Scope),Custom field (Feature Status),Custom field (Feature complexity),Custom field (Feature value),Custom field (Fixed in Build),Custom field (Flagged),Custom field (Flagged (migrated)),Custom field (Followup Actions),Custom field (Found in Build),Custom field (Functional Hints),Custom field (Functional Spec Document),Custom field (Functionality Area),Custom field (GXP Original Estimate (eg. 3w 4d 12h)),Custom field (Global Rank),Custom field (Global Rank (Obsolete)),Custom field (GoBackToUser),Custom field (Granular Priority),Custom field (HDFS),Custom field (Hadoop Cluster: Accumulo version),Custom field (Hadoop Cluster: Ambari Version),Custom field (Hadoop Cluster: Data Retention),Custom field (Hadoop Cluster: HCat Version),Custom field (Hadoop Cluster: Hadoop Version),Custom field (Hadoop Cluster: Hire Version),Custom field (Hadoop Cluster: Java Version),Custom field (Hadoop Cluster: Number of Master Nodes),Custom field (Hadoop Cluster: Number of Slave Nodes),Custom field (Hadoop Cluster: OS),Custom field (Hadoop Cluster: Oozie Version),Custom field (Hadoop Cluster: Total Disk Space),Custom field (Hadoop Cluster: ZooKeeper Version),Custom field (Hadoop Cluster: hadoop Distro),Custom field (Handover Categorization),Custom field (Hardware Details (Compliance)),Custom field (Hardware Details (Cyber)),Custom field (Hardware Details (Cyber) (migrated)),Custom field (Has Product Engineering been involved?),Custom field (Has Product Engineering been involved? (Compliance)),Custom field (Has the client been sold Compliance Configuration capabilities?),Custom field (How Client Found Error),Custom field (How Error Found),Custom field (IT Lead),Custom field (Impact),Custom field (Impact (migrated 2)),Custom field (Impact Assesment),Custom field (Impact Assessment),Custom field (Implementation changelists),Custom field (Incident Count),Custom field (Infrastructure),Custom field (Ingest Server: Data Retention),Custom field (Ingest Server: Disk Space),Custom field (Ingest Server: Flume Version),Custom field (Ingest Server: Java Version),Custom field (Ingest Server: Kafka Version),Custom field (Ingest Server: OS),Custom field (Investigator Console),Custom field (Investigator Server: 3rd Party Alerting Sources),Custom field (Investigator Server: Apache Version),Custom field (Investigator Server: App Server),Custom field (Investigator Server: Config Files Directory),Custom field (Investigator Server: Data Retention),Custom field (Investigator Server: ElasticSearch Version),Custom field (Investigator Server: Enrichment Sources: File Lookup),Custom field (Investigator Server: Enrichment Sources: Live Look Up),Custom field (Investigator Server: Java Version),Custom field (Investigator Server: OS),Custom field (Investigator Server: Postgres Version),Custom field (Investigator Server: Query Sources : External),Custom field (Investigator Server: Query Sources : Internal),Custom field (Investigator Server: Threat Intel Sources),Custom field (Investigator Server: Ticketing System),Custom field (Investigator Server:MongoDB Version),Custom field (Issue Summary (public)),Custom field (Issue color),Custom field (Issue flags),Custom field (Issue ranking),Custom field (JAMA ID),Custom field (JDK Version),Custom field (JobTracker),Custom field (Justification (migrated)),Custom field (Justification Narrative),Custom field (Key_customfield),Custom field (Legacy Status),Custom field (Locked forms),Custom field (Log Directory),Custom field (Log Directory (Accumulo)),Custom field (Log Directory (Local Machine)),Custom field (Log Directory (Oozie)),Custom field (Log Errors Visible),Custom field (MSP Task),Custom field (Measure),Custom field (MoSCoW priority),Custom field (Mobile Device),Custom field (Moderated priority),Custom field (Module Version Numbers),Custom field (Movement Type Affected),Custom field (NR Project Team),Custom field (Non-quantifiable Benefits),Custom field (Notes),Custom field (Notes (migrated)),Custom field (Oozie),Custom field (Open forms),Custom field (Operating System Details (Compliance)),Custom field (Operating System Details (Cyber)),Custom field (Origin),Custom field (Other Customer Name),Custom field (Owner),Custom field (Patch note),Custom field (Persona),Custom field (Phase),Custom field (Phase (UKTI CDMS)),Custom field (Planned),Custom field (Planned Start Date),Custom field (Platform),Custom field (Port(s) Affected),Custom field (Preconditions),Custom field (Primary CS Engineer),Custom field (Primary Cause),Custom field (Primary Requirement Theme),Custom field (Priority (list)),Custom field (Priority (text)),Custom field (Product Doc Required),Custom field (Product Engineering Resource),Custom field (Product Engineering Resource (Discovery / SNA)),Custom field (Product Integration Status),Custom field (Product Manager (migrated)),Custom field (Production System OS),Custom field (Production System OS (Compliance)),Custom field (Production System OS (Cyber)),Custom field (Project),Custom field (Project Manager (Legacy)),Custom field (Project Test Phase),Custom field (Project code),Custom field (Projectshare URL),Custom field (Promised for version),Custom field (Promised to),Custom field (QA High-Level Estimate),Custom field (QA Lead),Custom field (QA categorisation),Custom field (Quantified Benefit),Custom field (Questions),Custom field (RSM Assignee),Custom field (Rank),Custom field (Rank (Obsolete)),Custom field (Ranking),Custom field (Ranking (Obsolete)),Custom field (Recommended Action),Custom field (Reference Document),Custom field (Reference ID),Custom field (Referral),Custom field (Referral Information),Custom field (Related Services JIRA Project (Compliance)),Custom field (Related Services JIRA Project (Cyber)),Custom field (Release Note Doc Required),Custom field (Release Note Text),Custom field (Release Notes),Custom field (Release Platform Version Number),Custom field (Release Platform Version Number (Compliance)),Custom field (Release Product Version Number (Cyber)),Custom field (Remedial Actions Taken),Custom field (Reopen reason),Custom field (Reopened Count),Custom field (Reopened Date),Custom field (Replicating AIX Environment (Compliance)),Custom field (Report to Customer),Custom field (Reporter Contact Info),Custom field (Reporter ID),Custom field (Reproducible),Custom field (Request Type),Custom field (RequestInfoFromStatus),Custom field (Requested By),Custom field (Requested by (migrated)),Custom field (Requesting customer),Custom field (Requirement Reference),Custom field (Requirement Type),Custom field (Requirements Link),Custom field (Resolution Category),Custom field (Resolution Details),Custom field (Resolved By),Custom field (Resolved By (Legacy)),Custom field (Resolving Team),Custom field (Review Required),Custom field (Reviewed by),Custom field (Reviewer (GEP)),Custom field (Reviewer (Legacy)),Custom field (Root Cause),Custom field (Root Cause Analysis),Custom field (Root cause (migrated)),Custom field (SNApps Dev High-Level Estimate),Custom field (SNApps QA High-Level Estimate),Custom field (SVN Tag),Custom field (Scope of work),Custom field (Screen Name),Custom field (Service Delivery Impact),Custom field (Severity),Custom field (Skillset),Custom field (Source),Custom field (Source Type),Custom field (Source of Client Failure),Custom field (Source of Failure),Custom field (Special Adjustments for/by customer (Compliance)),Custom field (Special Adjustments for/by customer (Cyber)),Sprint,Sprint,Sprint,Custom field (Sprint (text)),Custom field (Stack Traces),Custom field (Start date),Custom field (Status Update),Custom field (Steps to Reproduce),Custom field (Story Points),Custom field (Story Points (migrated)),Custom field (Story point estimate),Custom field (Streamshield),Custom field (Submitted forms),Custom field (Support and Maintenance Code),Custom field (Support resolution),Custom field (Support resolution quality),Custom field (System Impact),Custom field (Target Resolution Date),Custom field (Target end),Custom field (Target start),Custom field (Target version),Custom field (Target version explanation),Custom field (Task Type),Custom field (Team),Custom field (Technical risk),Custom field (Tempo Team (migrated)),Custom field (Test Build Version/s),Custom field (Test Case ID),Custom field (Test Design),Custom field (Test Execution),Custom field (Test ID),Custom field (Test Name),Custom field (Test Notes),Custom field (Test Phase),Custom field (Test Stage),Custom field (Test Steps),Custom field (Test Suite),Custom field (Test Type),Custom field (Test type (migrated)),Custom field (Tested-in Test),Custom field (Theme),Custom field (Timescale),Custom field (To Be Documented),Custom field (Total Impact (man-days)),Custom field (Total forms),Custom field (US Export Control),Custom field (Verification Method),Custom field (Verified),Custom field (Verified By),Custom field (Verified in Build),Custom field (WAS Version),Custom field (WBS Element),Custom field (Work Req Ref),Custom field (Work Type),Custom field (Work Type (migrated)),Custom field (Work ratio),Custom field (Workaround),Custom field (ZooKeeper Log Directory),Custom field ([CHART] Date of First Response),Custom field (syncProxyAssociation),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Parent,Parent summary,Status Category
Couldn't fetch configuration error when new exempt list created,WLMX-1263,729164,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,10/Nov/23 1:58 PM,10/Nov/23 2:09 PM,10/Nov/23 6:20 PM,,9.2,,,,,9.2,,,,,,,,,,,"Steps to reproduce: (on APPS env with WLM, for example any of Full env’s)

# Navigate to Scenario Manager - IETWLMSP / Shared List management and create exempt list (observe that list is not shown on the screen - will create a separate ticket for this)
# Navigate to Scenario Manager - IETWLMSP / Scenario Manager and click configuration Id

Current behaviour: Error appears on screen “Couldn’t fetch configuration”

Expected behaviour: Configuration loaded",,Monika Donder,,,,,,,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FCENGX-1042,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2ie1r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Bug during creation of check,WLMX-1261,729135,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,10/Nov/23 11:38 AM,10/Nov/23 11:43 AM,10/Nov/23 6:20 PM,,9.2,,,,,,,,,,,,,,,,"Steps to reproduce:

# Create new datasource test with one datasource field with name namefield and type Text.
# Add new index “Test index” to EU list, multivalue and on FIRSTNAME column.
# Create new algorithm “Test Concate FTM Copy” based on “Concatenated Free text Match >=70%”
# Create new check in new datasource with the List Checks and Exceptions like in the attached screenshot.

Actual Result: error

Expected result: check created succesfully",,Monika Donder,,,,,,,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WLMX-944,,,,,,,,,10/Nov/23 11:39 AM;712020:b4b55144-b43b-45ac-aa43-a67818644bc2;Screenshot 2023-11-09 at 12.09.57.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/923339,10/Nov/23 11:39 AM;712020:b4b55144-b43b-45ac-aa43-a67818644bc2;Screenshot 2023-11-09 at 12.10.07 (1).png;https://netreveal.atlassian.net/rest/api/3/attachment/content/923340,10/Nov/23 11:41 AM;712020:b4b55144-b43b-45ac-aa43-a67818644bc2;application.log;https://netreveal.atlassian.net/rest/api/3/attachment/content/923361,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2idvr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
The final sequence WLMAGS_Swift_RT-RESPONSE_REST failed due to  wrong trxId value,WLMX-1246,728946,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,4 - Low,,,,Piotr Bartkowiak,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,Piotr Bartkowiak,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,09/Nov/23 1:57 PM,10/Nov/23 7:25 AM,10/Nov/23 6:20 PM,,9.2,,,,,,,,,,,,,,,,"Swift Link rest alert does not work when executing a Block or Execute workflow action. 

The reason is a issue with the final sequence - wrong trxId value  ({{trxId = 1#2#3#4}})

{noformat}    reserved.messageId = 1#2#3#4
    reserved.sequenceName = WLMAGS_Swift_RT-RESPONSE_REST
    reserved.sequenceType = XML
    code = APPROVED
    trxId = 1#2#3#4
    includeResultInResponse = true
09-Nov-2023 12:00:19,570 - User-0 - Session-1918 INFO  RealTimeErrorMessageSuppressor:79 - Executing none of suppressor.
09-Nov-2023 12:00:19,570 - User-0 - Session-1918 ERROR RealTimeLogicFacadeImpl:2105 - 
Unable to execute function [WLMAGS_SwiftRestGetMessageId (DATABASE-QUERY - 10)]: 
PreparedStatementCallback; SQL [select distinct at_message_identifier as ""AtMessageIdentifier"" 
from transaction_worklist where at_transaction_group_id = ?]; ORA-01722: invalid number ; nested exception is java.sql.SQLSyntaxErrorException: ORA-01722: invalid number 
org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [select distinct at_message_identifier as ""AtMessageIdentifier"" from transaction_worklist where at_transaction_group_id = ?]; ORA-01722: invalid number
; nested exception is java.sql.SQLSyntaxErrorException: ORA-01722: invalid number{noformat}",,Piotr Bartkowiak,,,,,,,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,,,,,,,,,,,,,,,,,,,,,,,,,,,,WLMGEP-13028,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2ictr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"""Object Stream file doesn't exists"" errors in logs",WLMX-1238,728639,,Bug,In Retest,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,2 - High,,Jan Kemnitz,712020:044f32c9-f6ce-439e-8468-094a834a8148,Jan Kemnitz,712020:044f32c9-f6ce-439e-8468-094a834a8148,Jan Kemnitz,712020:044f32c9-f6ce-439e-8468-094a834a8148,08/Nov/23 11:21 AM,08/Nov/23 9:19 PM,10/Nov/23 6:20 PM,,9.2,,,,,9.2,,,,,,,,,,,"There are many logs like these ones below in the baeaihome folder. We’ve seen something similar before, but the root cause is yet to be determined.



This error was found on RC environments. Logs from 10.222.17.212

Full stack traces in the file attached below.

ERROR RealTimeLogicFacadeImpl:1909 - Unable to execute function [WLMAGS_Subject_REST-CALL-WLM-PROCESS (WLM-PROCESS - 40)]: Object Stream file doesn't exists: [/opt/baeaiHome/conf/wlm/localRepo/DEFAULT/indexes/1017/1173/idx.idx]
com.norkom.acquisition.exception.RealTimeException: java.io.FileNotFoundException: /opt/baeaiHome/conf/wlm/localRepo/DEFAULT/indexes/1017/1173/idx.idx (No such file or directory)
…
Caused by: java.io.FileNotFoundException: /opt/baeaiHome/conf/wlm/localRepo/DEFAULT/indexes/1017/1173/idx.idx (No such file or directory),

ERROR RealTimeLogicFacadeImpl:1909 - Unable to execute function [SWIFT_MX_WLM-PROCESS (WLM-PROCESS - 0)]: Object Stream file doesn't exists: [/opt/baeaiHome/conf/wlm/localRepo/DEFAULT/indexes/1011/1142/idx.idx]
com.norkom.acquisition.exception.RealTimeException: java.io.FileNotFoundException: /opt/baeaiHome/conf/wlm/localRepo/DEFAULT/indexes/1011/1142/idx.idx (No such file or directory)
…
Caused by: java.io.FileNotFoundException: /opt/baeaiHome/conf/wlm/localRepo/DEFAULT/indexes/1011/1142/idx.idx (No such file or directory)
",,Dariusz Turowski,Michal Kolaczkowski,Piotr Bartkowiak,,,,,712020:ee44f279-231f-4c51-9fcd-7a28d553f77b,712020:d4e1c12f-4c7f-42fe-8c91-16d00090f648,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,,,,,time-tracking;08/Nov/23 6:43 PM;557058:295406f3-a1fc-4733-b906-dd15d021bd79;28800,time-tracking;08/Nov/23 9:19 PM;557058:295406f3-a1fc-4733-b906-dd15d021bd79;10800,,,,,,,,,39600,,,,39600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Nov/23 11:32 AM;712020:044f32c9-f6ce-439e-8468-094a834a8148;errors.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/922389,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,9.2.0.0-RC2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2ibcf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,WLM Platform Sprint 126,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Test by Gareth,WLMX-1236,728372,720330,Bug (sub-task),In Review,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,07/Nov/23 2:19 PM,09/Nov/23 1:24 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,DocSprintWork,,,"*User credentials:*

login: garethdministrator/garethinvestigator/garethsupervisor

password: Password1

*Area for testing:*

No particular area - feel free to test what you want :)",,Gareth Power,Monika Donder,,,,,,712020:dff00b4d-2469-4b49-ac32-4025d31333c7,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Nov/23 1:24 PM;712020:dff00b4d-2469-4b49-ac32-4025d31333c7;coverage-report-slow-menu.gif;https://netreveal.atlassian.net/rest/api/3/attachment/content/922988,09/Nov/23 1:24 PM;712020:dff00b4d-2469-4b49-ac32-4025d31333c7;coverage-report.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/922987,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i9tz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WLM APPS Sprint 125,WLM APPS Sprint 126,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-11-09 13:24:04.313,,"09/Nov/23 1:24 PM;712020:dff00b4d-2469-4b49-ac32-4025d31333c7;A couple of things with regard to the coverage reports:

*Observation 1:*

# Select *Watchlist Manager > Administration > View Coverage Report*
# If the report does not already exist, the following screen is shown.
!coverage-report.png|width=347,height=105!
# Click *Schedule Report Refresh*.

*Result:* There is no acknowledgement that the report is being generated, As it takes time for the report to be generated, the user gets the impression that the button click has not done anything. I clicked away and discovered a couple of minutes later that the report was now there. (By contrast, generating a coverage report in the Model Repository happens quickly, so this is not an issue there.)

*Observation 2:*

The coverage report screens are very slow. The menu is slow to display and respond on these screens.

This happens on both coverage report screens:

* *Watchlist Manager > Administration > View Coverage Report*
* *Watchlist Manager > Administration > Model Repository > Coverage Report*

This animation should hopefully demonstrate the slowness of the menu to respond when the report is being displayed. I’m not sure how clear it is, but it’s easily seen in WLM anyway.

There is also a weird screen shift when the user clicks to generate the report.

!coverage-report-slow-menu.gif|width=1664,height=538!",,,,,,,,,,,,,,,720330,Release Candidate Festival Testing on Full installs: [WLM],In Progress
WLM_ACTIVE_ALERTS_FLAG doesn't update to Y,WLMX-1232,728307,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Jan Kemnitz,712020:044f32c9-f6ce-439e-8468-094a834a8148,Jan Kemnitz,712020:044f32c9-f6ce-439e-8468-094a834a8148,07/Nov/23 11:47 AM,07/Nov/23 11:47 AM,10/Nov/23 6:20 PM,,,,,,,9.3,,,,,,,,,,,"Go to a WSB San&Pep alert, select all matches, click Outcome, select a “TM” option, don’t add to Exclusion List and stay on this alert. After that perform a “Match” key action, then “Confirm”. Make sure this process is confirmed for all the alerts on a given customer. Then verify that this query:
SELECT WLM_ACTIVE_ALERTS_FLAG FROM CUSTOMER_DYNAMIC WHERE CUSTOMER_ID = (SELECT CUSTOMER_ID FROM ALERT_HEADER WHERE ALERT_IDENTIFIER = '<Alert ID>')
 returns “N”. Now reopen one of the Alerts and the query above should return “Y”.

For some reason it sometimes doesn’t.

See: [http://10.222.2.205/testsResults/10.222.17.211/seleniumResults/netreveal_wlm/2023_11_02_0828/#suites/7c0813ac65d6b37a791ecb0cdbba522b/d154d4f0a703ed5/|http://10.222.2.205/testsResults/10.222.17.211/seleniumResults/netreveal_wlm/2023_11_02_0828/#suites/7c0813ac65d6b37a791ecb0cdbba522b/d154d4f0a703ed5/]",,Jan Kemnitz,,,,,,,712020:044f32c9-f6ce-439e-8468-094a834a8148,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,, 9.2.0.0-a25,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i9fz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
There is no Filter Condition pop up for standard lists when screen in non editable mode,WLMX-1227,727973,,Bug,In Retest,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,06/Nov/23 11:43 AM,06/Nov/23 3:20 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"Steps to reproduce:

# Set filtering.editablelists to false
# Navifgate to Watchlist Manager / Standard lists
# Select “Blocked payment list” and observe

Actual result: no popup to show details of filter

Expected result: popup is visible",,Marc Van Laere,Monika Donder,,,,,,712020:cd288305-1656-4e0e-b625-53e99694be9a,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i7iv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPS Development,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-11-06 15:09:38.077,,"06/Nov/23 3:09 PM;712020:cd288305-1656-4e0e-b625-53e99694be9a;The reason is that the field correlation (field-section-link in watch-list-manager.xml) to show the poput for standard list has been flagged as deleted because it is not needed any more as the filter condition are now the same for standard and anon standard lists (RTOPX-156)

Unfortunately, it has been forgotten to remove the <correlationcondition>  from the field-section-link that was used for non standard lists (and that shopld also now be used for standard lists)

{code:xml}<field-section-link application=""Watch List Manager""
				field=""sys_wlm_field_filter_conditions""
				section=""sys_wlm_section_ListFilters_not_editable""
				target-section=""sys_wlm_section_listFiltersDetailList_PopUp""
				deleted=""N""
				display-in=""popup"">
<!--				<correlationcondition><![CDATA[""[LIST_CAT]"" != ""0""]]></correlationcondition> -->
				<correlationcondition></correlationcondition>
				<parameters>
					<parameter name=""allowDragging""><![CDATA[true]]></parameter>
					<parameter name=""triggerEvent""><![CDATA[mouseClick]]></parameter>
					<parameter name=""callOutArrow""><![CDATA[true]]></parameter>
				</parameters>
			</field-section-link>{code}

Fixed + remove unused field-section-link and target popup section initially used for standard list",,,,,,,,,,,,,,,,,In Progress
"Use k8s certification manager to handle/manage certs, cert, key and trust stores",WLMX-1219,727503,720197,Bug (sub-task),In Progress,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,Jakub Grabalski,712020:9f771f99-d5cd-4c26-a80b-6b80d0aa1cfc,Anurag Sharma,712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6,Anurag Sharma,712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6,02/Nov/23 12:45 PM,10/Nov/23 2:25 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,,,Anurag Sharma,Jakub Grabalski,Janusz Perek,Mykola Polonsky,Szymon Urbanski,,,712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6,712020:9f771f99-d5cd-4c26-a80b-6b80d0aa1cfc,712020:f30ea853-f728-44f1-b5fe-71fa965ef32c,712020:0c868bb0-598c-4b14-bfc2-d66c6ef4c1a8,712020:742e6118-4b71-4d1b-888a-faf975802bfd,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{repository={count=42, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":42,""lastUpdated"":""2023-11-09T19:03:27.000+0000"",""dataType"":""repository""},""byInstanceType"":{""stash"":{""count"":42,""name"":""Bitbucket Server""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i547:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WLM Platform Sprint 126,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-11-07 14:38:49.637,,"07/Nov/23 2:38 PM;712020:9f771f99-d5cd-4c26-a80b-6b80d0aa1cfc;Helm URL is blocked. {{https://charts.jetstack.io}}

Asked [~accountid:712020:b041e450-df6f-44a3-b5ca-719ac6794434]  for assistance.

Incident :5974","08/Nov/23 4:17 PM;712020:9f771f99-d5cd-4c26-a80b-6b80d0aa1cfc;[~accountid:712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6] 

The cert-manager deployment on our Minikube instance hosted on an EC2 in a private network cannot issue certificates from Let's Encrypt because it lacks internet access. 

This prevents cert-manager from completing the necessary challenges to verify domain ownership and from communicating with Let's Encrypt's servers to request and renew certificates. 

Without internet connectivity, the process to obtain a valid TLS certificate from an internet-based CA like Let's Encrypt cannot be completed. 

Therefore, this setup in its current form will not be able to issue or renew certificates from Let's Encrypt. 
I can’t request the certificate:


{noformat}  Warning  ErrInitIssuer  23s   cert-manager-clusterissuers  Error initializing issuer: Get ""https://acme-v02.api.letsencrypt.org/directory"": net/http: TLS handshake timeout{noformat}




{noformat}NAMESPACE   NAME                                      READY   SECRET            ISSUER                   STATUS                                         AGE
netreveal   certificate.cert-manager.io/example-com   False   example-com-tls   letsencrypt-production   Issuing certificate as Secret does not exist   12m

NAMESPACE   NAME                                               APPROVED   DENIED   READY   ISSUER                   REQUESTOR                                                STATUS                                                     AGE
netreveal   certificaterequest.cert-manager.io/example-com-1   True                False   letsencrypt-production   system:serviceaccount:netreveal:netreveal-cert-manager   Referenced issuer does not have a Ready status condition   12m

NAMESPACE   NAME                                                   READY   STATUS                                                                                                                   AGE
            clusterissuer.cert-manager.io/letsencrypt-production   False   Failed to register ACME account: Get ""https://acme-v02.api.letsencrypt.org/directory"": net/http: TLS handshake timeout   6m53s{noformat}


I've created the incident for whitelisting letsencrypt.org","08/Nov/23 4:46 PM;712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6;[~accountid:712020:742e6118-4b71-4d1b-888a-faf975802bfd] and/or [~accountid:712020:0c868bb0-598c-4b14-bfc2-d66c6ef4c1a8] could you let us know if you encountered similar issues with Investigation Hub and resolution approach?

Is this because you’re using separate AWS account owned by Engineering?",08/Nov/23 4:50 PM;712020:9f771f99-d5cd-4c26-a80b-6b80d0aa1cfc;[~accountid:712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6]  If I am not mistaken [~accountid:712020:742e6118-4b71-4d1b-888a-faf975802bfd] and [~accountid:712020:0c868bb0-598c-4b14-bfc2-d66c6ef4c1a8] are utilizing Kubernetes in Azure Cloud,"08/Nov/23 5:03 PM;712020:0c868bb0-598c-4b14-bfc2-d66c6ef4c1a8;[~accountid:712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6] We didn’t have this issue because our cluster has internet access. 
We are on the way of restricting it","09/Nov/23 7:34 PM;712020:9f771f99-d5cd-4c26-a80b-6b80d0aa1cfc;[~accountid:712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6] 

Networking is now fine, Helm charts as well as let’s encrypt api connection works fine. 

I'm writing to update you on the ongoing issues I've encountered with the cert-manager challenge process during our TLS certificate automation via Route 53. There are two primary problems at hand:

CleanUpError with IAM Role:

 The {{CleanUpError}} suggests that the {{BAE-Standard-EC2-Role}} attached to our EC2 instance is not authorized to perform {{sts:AssumeRole}}. This is a critical capability for cert-manager to automate DNS challenges. This error likely points to a misconfigured trust relationship or a permissions policy that doesn't allow the role assumption needed by cert-manager.

PresentError with Invalid Authorization Header:

 The {{PresentError}} indicates an invalid {{Authorization}} header, which cert-manager encounters when trying to modify DNS records in Route 53. This problem appears to be a result of how the AWS credentials are used by cert-manager. The temporary credentials I've implemented seem to be either malformed or incorrectly provided to cert-manager.

On top of these, I face additional complications because I’m running Minikube on an EC2 instance. Minikube doesn't natively integrate with AWS's Instance Metadata Service to use IAM roles, leading us to rely on static credentials. 
This setup is less secure and potentially contributes to the authorization issues I’m experiencing but for this development exercise, it should be ok to use. 

{{CleanUpError}}:

{noformat}
  Warning  CleanUpError  101s (x80 over 10m)  cert-manager-challenges  (combined from similar events): Error cleaning up challenge: error instantiating route53 challenge solver: unable to assume role: AccessDenied: User: arn:aws:sts::519876397211:assumed-role/BAE-Standard-EC2-Role/i-0435a5e5290264a86 is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::519876397211:role/BAE-Standard-EC2-Role
           status code: 403, request id: 79b2cc8c-701f-41fd-bf4d-a626b160cd08
{noformat}

{{PresentError:}}

{noformat}[centos@ip-10-222-2-102 chart]$ kubectl describe challenge -n cert-manager internal-netrevealdemo-cloud-1-943825267-1905317269

  Reason:      failed to change Route 53 record set: RequestError: send request failed
caused by: Post ""https://route53.amazonaws.com/2013-04-01/hostedzone/Z01470672B94TQPBPW6YP/rrset/"": net/http: invalid header field value for ""Authorization""
  State:  pending
Events:
  Type     Reason        Age                 From                     Message
  ----     ------        ----                ----                     -------
  Normal   Started       108s                cert-manager-challenges  Challenge scheduled for processing
  Warning  PresentError  42s (x5 over 108s)  cert-manager-challenges  Error presenting challenge: failed to change Route 53 record set: RequestError: send request failed
caused by: Post ""https://route53.amazonaws.com/2013-04-01/hostedzone/Z01470672B94TQPBPW6YP/rrset/"": net/http: invalid header field value for ""Authorization""
{noformat}


Docs:
[https://cert-manager.io/docs/configuration/acme/dns01/route53/#creating-an-issuer-or-clusterissuer|https://cert-manager.io/docs/configuration/acme/dns01/route53/#creating-an-issuer-or-clusterissuer]

I have reviewed and confirmed the trust relationship for BAE-Standard-EC2-Role and verified that the IAM policies attached provide the required permissions to modify Route 53 record sets.


cc: [~accountid:712020:ee44f279-231f-4c51-9fcd-7a28d553f77b] 
","10/Nov/23 2:25 PM;712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6;[~accountid:712020:9f771f99-d5cd-4c26-a80b-6b80d0aa1cfc] understood and thanks for providing detailed description of the issues encountered.

Agreed, the SAI Corp AWS is a shared infrastructure hence some guard rails/restrictions etc.

Just wondering, if a full k8s cluster deployment would overcome any minikube related issues you mentioned.

Please contact [~accountid:712020:ee44f279-231f-4c51-9fcd-7a28d553f77b] and [~accountid:712020:6dc31419-94f7-44fa-94de-044ef86d7acb] in relation to Terraform scripts to create k8s cluster for development & testing purpose. This tool will create k8s cluster on AWS using EC2 instances.",,,,,,,,,720197,Security,In Progress
[ZIC-1650] - v1.5.0 - UAT - Multiple FullvsDelta instances In Progress,WLMX-1210,727443,,Bug,In Progress,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,2 - High,,,,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,02/Nov/23 10:24 AM,08/Nov/23 6:44 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"Problem description here: [https://netreveal.atlassian.net/browse/ZIC-1650?focusedCommentId=3492774|https://netreveal.atlassian.net/browse/ZIC-1650?focusedCommentId=3492774|smart-link] 



Under ticket, we are looking to investigate this issue with following questions in mind:

* How did the user execute batch “interruption” / stop and restart ? Using abort button?
* Had the batch node finished the transformation stage when the batch was interrupted? All Screening batches → number of records should show the full batch size.
* Answer to the step above is key as that may have an impact on the process flow.
* If the batch is being aborted post successful transformation, the PROC nodes will continue processing the chunk that they have already been processing, and then will skip any future chunks.
* *The following is a separate issue (perhaps another WLMX ticket to be created). Could be useful as context / pretext.*
Smaller chunk size (250 etc) causing db cpu spike around TinyBatch sql (hibernate generated) - may need addressing 
** Either by improving the query / code or
** By making chunk size configurable to the batch (Deltas get 250, and full runs get 2000 etc)



This is the current batch abort functionality for reference: [https://netreveal.atlassian.net/wiki/spaces/Eng/pages/22619522/WLM-13638+Ensure+Batch+Event+Abort+Button+Works+with+WLM+Distributed+Batch|https://netreveal.atlassian.net/wiki/spaces/Eng/pages/22619522/WLM-13638+Ensure+Batch+Event+Abort+Button+Works+with+WLM+Distributed+Batch|smart-link] ",,Anurag Sharma,Ashok Manayangath,Ethna Killeen,Fiona Hutchinson,Gregory Eden,Hong Ping Teong,Wiktor Adamski,712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6,712020:4eb24e29-73db-4f2a-a700-fe2c768313d2,712020:2d564096-11ed-4cff-8577-53ca39ecf3be,712020:36d3a444-3b57-4e3f-a875-d68b5bf65646,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,712020:9683b078-6f74-4cec-a6dc-c6cee5082aaa,712020:bf339456-4d1b-4b1b-a06e-24b135e2eee3,time-tracking;06/Nov/23 7:59 AM;557058:295406f3-a1fc-4733-b906-dd15d021bd79;3600,time-tracking;08/Nov/23 6:44 PM;557058:295406f3-a1fc-4733-b906-dd15d021bd79;57600,,,,,,,,,61200,,,,61200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,PLAT-24761,,,03/Nov/23 4:09 PM;712020:9683b078-6f74-4cec-a6dc-c6cee5082aaa;image-20231103-160530.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/921297,03/Nov/23 4:09 PM;712020:9683b078-6f74-4cec-a6dc-c6cee5082aaa;image-20231103-160720.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/921298,03/Nov/23 4:09 PM;712020:9683b078-6f74-4cec-a6dc-c6cee5082aaa;image-20231103-160834.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/921296,07/Nov/23 10:42 AM;712020:9683b078-6f74-4cec-a6dc-c6cee5082aaa;image-20231107-102723.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/921953,07/Nov/23 10:42 AM;712020:9683b078-6f74-4cec-a6dc-c6cee5082aaa;image-20231107-102916.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/921950,07/Nov/23 10:42 AM;712020:9683b078-6f74-4cec-a6dc-c6cee5082aaa;image-20231107-103704.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/921951,07/Nov/23 10:42 AM;712020:9683b078-6f74-4cec-a6dc-c6cee5082aaa;image-20231107-103848.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/921952,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,WLMX-513,24/7 Follow-Ups,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0kb9w:vj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,WLM Platform Sprint 126,,,,,,Awaiting Information,,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-11-03 12:15:57.702,,"03/Nov/23 12:15 PM;712020:9683b078-6f74-4cec-a6dc-c6cee5082aaa;Hi [~accountid:712020:2d564096-11ed-4cff-8577-53ca39ecf3be] , please find below responses inline:

* How did the user execute batch “interruption” / stop and restart ? Using abort button?

{color:#36b37e}kill -9 then restart the standalone scheduler{color}

* Had the batch node finished the transformation stage when the batch was interrupted? All Screening batches → number of records should show the full batch size.

{color:#36b37e}I’ll have to validate this again, not sure the batch_state was -6 or -7{color}

* If the batch is being aborted post successful transformation, the PROC nodes will continue processing the chunk that they have already been processing, and then will skip any future chunks.

{color:#36b37e}will need to validate this again whether it will skip future chunks as the current chunks were running for long time, I suspect the batch will never run to completion as the consumer group rebalancing kick in as a result of session timeout(after an hour) on PROC nodes. {color}","03/Nov/23 4:09 PM;712020:9683b078-6f74-4cec-a6dc-c6cee5082aaa;FullvsDelta on STG been running >5 hours, seems ground to the halt, cpu being hammer 100% for the last 5 hours

!image-20231103-160530.png|width=565,height=135!

Batch info(batch_state) shows -7

!image-20231103-160720.png|width=413,height=21!

Batch_info_item show 

 

!image-20231103-160834.png|width=155,height=26!","07/Nov/23 10:42 AM;712020:9683b078-6f74-4cec-a6dc-c6cee5082aaa;Following another test to reproduce the issue, below are the sequence of events took place:

# While batch is running (batch_state=-7) still in transformation stage, killed the process
# After batch node is restarted, review batch_info saw batch_state has been marked as -10 and also noticed new batch_state -7 is created: 

!image-20231107-102723.png|width=75%!

Acq_Batch_Process shows batch was killed and new batch 73290 is created:

!image-20231107-102916.png|width=91.66666666666666%!

*Observations*: although previous batch was killed, the PROC nodes processing still keep going. I would expect PROC nodes processing should also be stopped/killed as well but not, messages still in nr-wlm-batch-process topics. It continues to consume the messages. Also noticed RDS cpu been hammered at 99%

!image-20231107-103704.png|width=66.66666666666667%!



3.  After waited for a while the PROC nodes processing seems halted and session timeout after an hour, it shows below message in PROC nodes:

!image-20231107-103848.png|width=83.33333333333334%!

4. The process will never run into completion or would take forever as DB CPU is hitting >99%, the entire process is ground into halt.",,,,,,,,,,,,,721084,24/7 Follow-Ups,In Progress
Verify DB upgrade path,WLMX-1202,727199,727194,Bug (sub-task),New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,Piotr Bartkowiak,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,31/Oct/23 2:01 PM,31/Oct/23 2:03 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,,,Monika Donder,,,,,,,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i3hj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WLM APPS Sprint 126,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,727194,CI / Automation and Monitoring Sprint 126,To Do
Log monitoring,WLMX-1201,727198,727194,Bug (sub-task),In Progress,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,Jan Kemnitz,712020:044f32c9-f6ce-439e-8468-094a834a8148,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,31/Oct/23 2:01 PM,07/Nov/23 7:36 AM,10/Nov/23 6:20 PM,,,,,,,9.2,,,,,,,,,,,,,Monika Donder,,,,,,,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i3hb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WLM APPS Sprint 126,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,727194,CI / Automation and Monitoring Sprint 126,In Progress
Jenkins pipelines maintenance,WLMX-1200,727197,727194,Bug (sub-task),In Progress,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,Piotr Bartkowiak,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,31/Oct/23 2:01 PM,08/Nov/23 10:21 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,,,Monika Donder,,,,,,,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i3h3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WLM APPS Sprint 126,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,727194,CI / Automation and Monitoring Sprint 126,In Progress
Investigate support Jira issues,WLMX-1199,727196,727194,Bug (sub-task),New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,31/Oct/23 2:01 PM,31/Oct/23 2:03 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,,,Monika Donder,,,,,,,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i3gv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WLM APPS Sprint 126,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,727194,CI / Automation and Monitoring Sprint 126,To Do
WLM Coverage Report error for Match Exclusion Rule Overview,WLMX-1196,727176,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Piotr Bartkowiak,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,Piotr Bartkowiak,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,31/Oct/23 1:04 PM,31/Oct/23 1:11 PM,10/Nov/23 6:20 PM,,9.2,,,,,,,,,,,,,,,,"{panel:bgColor=#eae6ff}
Below error spotted for a Coverage Report when configurations have some match exclusion rule
{panel}

{code:java}01:50:45,611 -  -  ERROR rendering:105 - Left side ($matchExclusionDSConditions.get($matchExclusionGrouping.groupId).size()) 
of comparison operation has null value at wlm_model_report_template.vm[line 1199, column 94]{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i3cv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPS Development,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Standard list text indexes not linked to weighted word ruleset,WLMX-1190,726967,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,30/Oct/23 12:31 PM,08/Nov/23 12:42 PM,10/Nov/23 6:20 PM,,,,,,,9.3,,,,,,,,SprintReady,,,"h3. Background

Example from our QA envs (input vs watchlist):

* ARION SHIPPING CO., vs ARION SHIPPING CO., LTD. doesn’t match but should
* ARION SHIPPING vs ARION SHIPPING CO., LTD. doesn’t match but should
* ARION SHIPPING CO.,  vs PROTON SHIPPING CO does match but shouldn’t
* ARION SHIPPING CO., LTD.; vs BAROON SHIPPING COMPANY LIMITED does match but shouldn’t

h3. Acceptance Criteria

* Link all standard list text indexes to weighted words ruleset.
* Above examples added to match accuracy test data.",,Gregory Eden,,,,,,,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|hyp8ii:5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPS Development,Engineering,,,,,,WLM APPS Sprint 126,,,,,,Awaiting Information,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Oct/23 5:11 PM;712020:532dfe22-1a95-4c45-982b-4ce78e0beae8;Two problems 
- standard list indexes not linked to weighted words ootb
- missing words penalty too high

In this ticket we will just fix the first one.",,,,,,,,,,,,,,,,,To Do
Bug in WLM Indexes metrics screen,WLMX-1187,726964,,Bug,In Progress,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,30/Oct/23 12:19 PM,01/Nov/23 11:46 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"Steps to reproduce:

# Navigate to Watchlist Manage/Administration/WLM Indexes metrics.
# Select Worldcheck list in left section 
# Add Model name to visible fields on interactive list on right and put @Default@ to filter.
# Click any list on left section.

In logs:

Caused by: org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [SELECT * FROM (SELECT * FROM (
  SELECT ID AS LIST_ID, LIST_DEFINITION_NAME AS LIST_NAME,0 AS ALL_LISTS, WORLDCHECK_LIST AS LIST_CATEGORY
  FROM LIST_DEFINITION LD
  WHERE IS_DELETED = 0
  AND (LIST_DOMAIN_ID IN (1000,1001,1002) AND LIST_ORGANIZATION_ID IN (1000,1001,1002,1003,1004,1005))
  AND ID IN (SELECT LI.LIST_DEFINITION_ID FROM  LIST_INDEX LI WHERE LI.BUILD_START_TIMESTAMP IS NOT NULL)
)  X
WHERE
    ( UPPER(MODEL_NAME) LIKE '%'|| UPPER(?)||'%')
 order by LIST_NAME ASC , LIST_ID ) WHERE ROWNUM <= 10908]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00904: ""MODEL_NAME"": invalid identifier",,Monika Donder,,,,,,,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,,,,,,,,,,,,,,,,,,,,,1500,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i27r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPS Development,Engineering,,,,,,WLM APPS Sprint 125,WLM APPS Sprint 126,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
"The workflow function ""Add to List"" does not work properly executed in parallel.",WLMX-1153,725788,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Piotr Bartkowiak,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,Piotr Bartkowiak,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,23/Oct/23 3:46 PM,09/Nov/23 11:07 AM,10/Nov/23 6:20 PM,,,,,,,9.2,,,,WLM Investigation,,,,,,,"The function ""Add to List"" does not work properly executed in parallel. Causes WA errors related to blocked transactions on *_server_states_* table.

For example, if the result of the IET score of matches is lower than the assumed threshold, a workflow is automatically triggered with this function. The problem is more visible when the WLM engine generates a large number of alerts in a short period of time during a batch Subject screening. That errors can occur also in other places in the system e.g. add to a block payment list (BPL)

Below example from error log:

{noformat}
18-Oct-2023 08:34:32,037 -  -  ERROR BatchingBatch:134 - HHH000315: Exception executing batch [java.sql.BatchUpdateException: Batch entry 0 update public.Server_States set NEW_STATE=14674 where ID=1574 was aborted: ERROR: deadlock detected
  Detail: Process 722 waits for ShareLock on transaction 442005164; blocked by process 741.
Process 741 waits for ShareLock on transaction 442005335; blocked by process 720.
Process 720 waits for ExclusiveLock on tuple (177,18) of relation 16002804 of database 16404; blocked by process 722.
  Hint: See server log for query details.
  Where: while locking tuple (177,18) in relation ""server_states""  Call getNextException to see other errors in the batch.], SQL: update public.Server_States set NEW_STATE=? where ID=?
18-Oct-2023 08:34:32,037 -  -  WARN  SqlExceptionHelper:137 - SQL Error: 0, SQLState: 40P01
18-Oct-2023 08:34:32,037 -  -  ERROR SqlExceptionHelper:142 - Batch entry 0 update public.Server_States set NEW_STATE=14674 where ID=1574 was aborted: ERROR: deadlock detected
  Detail: Process 722 waits for ShareLock on transaction 442005164; blocked by process 741.
Process 741 waits for ShareLock on transaction 442005335; blocked by process 720.
Process 720 waits for ExclusiveLock on tuple (177,18) of relation 16002804 of database 16404; blocked by process 722.
  Hint: See server log for query details.
  Where: while locking tuple (177,18) in relation ""server_states""  Call getNextException to see other errors in the batch.
18-Oct-2023 08:34:32,037 -  -  ERROR SqlExceptionHelper:142 - ERROR: deadlock detected
  Detail: Process 722 waits for ShareLock on transaction 442005164; blocked by process 741.
Process 741 waits for ShareLock on transaction 442005335; blocked by process 720.
Process 720 waits for ExclusiveLock on tuple (177,18) of relation 16002804 of database 16404; blocked by process 722.
  Hint: See server log for query details.
  Where: while locking tuple (177,18) in relation ""server_states""
18-Oct-2023 08:34:32,038 -  -  ERROR WorkflowActionContainer:413 - Workflow action 'WLM__uSPAlertMatchOutcomeReasonAutomatic' of workflow 'WLM__uiMatch_EimInt' failedCMW-55005 - An error occurred. Refer application logs for details. - CMW-55005
18-Oct-2023 08:34:32,039 -  -  INFO  RealTimeErrorMessageSuppressor:79 - Executing messageonly of suppressor.
18-Oct-2023 08:34:32,039 -  -  ERROR RealTimeLogicFacadeImpl:2105 - Unable to execute function [IETWLMSP_LowScoreMatchOutcomeExclusion (WORKFLOW-ACTION - 75)]: CMW-55005 - An error occurred. Refer application logs for details. - CMW-55005
com.norkom.acquisition.exception.RealTimeException: org.springframework.dao.CannotAcquireLockException: could not execute batch; SQL [update public.Server_States set NEW_STATE=? where ID=?]; nested exception is org.hibernate.exception.LockAcquisitionException: could not execute batch
        at com.norkom.configurator.business.realtime.impl.WorkflowActionRealTimeFunction.process(WorkflowActionRealTimeFunction.java:372) ~[norkom_configurator_business.jar:?]
        at com.norkom.acquisition.business.facades.impl.RealTimeLogicFacadeImpl.processSequence(RealTimeLogicFacadeImpl.java:2005) ~[norkom_acq_business.jar:?]
        at com.norkom.acquisition.business.facades.impl.RealTimeLogicFacadeImpl.processSequenceUngrouped(RealTimeLogicFacadeImpl.java:1768) ~[norkom_acq_business.jar:?]
        at com.norkom.acquisition.business.facades.impl.RealTimeLogicFacadeImpl.processUngrouped(RealTimeLogicFacadeImpl.java:1659) ~[norkom_acq_business.jar:?]
        at com.norkom.acquisition.business.facades.impl.RealTimeLogicFacadeImpl.processRealTimeInputMessage(RealTimeLogicFacadeImpl.java:1446) ~[norkom_acq_business.jar:?]
        at com.norkom.acquisition.business.facades.impl.RealTimeLogicFacadeImpl.access$000(RealTimeLogicFacadeImpl.java:108) ~[norkom_acq_business.jar:?]
        at com.norkom.acquisition.business.facades.impl.RealTimeLogicFacadeImpl$4.doInTransaction(RealTimeLogicFacadeImpl.java:1024) ~[norkom_acq_business.jar:?]
        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.3.27.jar:5.3.27]
        at com.norkom.acquisition.business.facades.impl.RealTimeLogicFacadeImpl.processTextMessage(RealTimeLogicFacadeImpl.java:1017) ~[norkom_acq_business.jar:?]
        at com.norkom.acquisition.business.facades.wrappers.impl.RealTimeLogicFacadeWrapperImpl.processMessage(RealTimeLogicFacadeWrapperImpl.java:88) ~[norkom_acq_business.jar:?]
        at jdk.internal.reflect.GeneratedMethodAccessor928.invoke(Unknown Source) ~[?:?]
        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WLMX-1063,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2hvun:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"Workflow function ""Add To List"" does not trigger build a wlm model assign indexes",WLMX-1063,720100,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,2 - High,,,,Piotr Bartkowiak,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,Piotr Bartkowiak,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,10/Oct/23 9:34 AM,09/Nov/23 11:07 AM,10/Nov/23 6:20 PM,,,,,,,9.2,,,,Workflow Action Functions,,,,,,,"Workflow function ""Add To List"" does not trigger build a wlm model assign indexes.

Only default model have appropriate indexes after for example an action outcome with add to exclusion list.

In the result models published on the processing node, there are no actual indexes for the exclusion lists or block payment lists.

 ",,Piotr Bartkowiak,,,,,,,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WLMX-1153,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,9.2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2hd9j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Synonyms are not removed during import with Refresh method,WLMX-1052,720093,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,06/Oct/23 9:30 AM,11/Oct/23 10:05 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,SprintReady,,,"Steps to reproduce:
 # Import synonyms file with rule Test1 where Richard is main word and Rick, Ricky, Rich are synonyms
 # Import second synonyms file (Refresh method) with same rule but with only one synonym Rick.

Expected result: Synonyms Ricky and Rich are removed

Actual result: All three synonyms still exists in the database.
h3. Acceptance Criteria
 * JUnit tests
 * Backport to 9.0+",,Monika Donder,,,,,,,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2h9tb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,Engineering,,,,,,,,,,,,Awaiting Information,,,4.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
JMS processing starts when WLM model is not yet initialized,WLMX-982,720094,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,2 - High,,,,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,29/Sep/23 3:16 PM,11/Oct/23 10:10 AM,10/Nov/23 6:20 PM,,"9.0, 9.1",,,,,,,,,,,,,,,,"h3. Background

There is a known problem where we need to hold messages while initialization is happening. This applies to all message types (not just JMS in this ticket). I will create a story for the whole problem and this ticket is a temporary fix for JMS only. 

When starting a WLM processing node the JMS processing already start when the node has not yet been registered and the WLM model is not yet in memory.

This is a serious issue because valid messages that are on the queue are discarded and are moved to a backout/error queue.

An option is to check in the onMessage() method of the mdb if the processing node is fully initialized. If that is the case then the processing can start
{code:java}
if (NodeTypeHelper.isProcNode()) {
	while (""false"".equalsIgnoreCase(PropertyManager.getProperty(Constants.PROCESSING_NODE_REGISTRATION_COMPLETED))) {
		//do nothing
                //then timeout?
	}
	super.onMessage(message);
}
{code}",,Gregory Eden,,,,,,,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,RTOPX-111,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2h3vb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
An environment where JSON output enabled throwing an error,WLMX-981,720095,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,2 - High,,,,Muhammad Fayyaz,712020:806ef00c-0ddc-4f5e-bbef-14b1a464bce6,Muhammad Fayyaz,712020:806ef00c-0ddc-4f5e-bbef-14b1a464bce6,29/Sep/23 12:22 PM,08/Nov/23 12:38 PM,10/Nov/23 6:20 PM,,9.2,,,,,,,,,,,,,SprintReady,,,"*Exception stack:*

{code}

29-Sep-2023 08:12:46,243 -  -  INFO  WLMRealTimeFunction:625 - 1 Alerting transactions found
29-Sep-2023 08:12:46,420 -  -  ERROR RealTimeLogicFacadeImpl:1900 - Unable to execute function [WLMAGS_Subject_REST-WLM-PROCESS (WLM-PROCESS - 10)]: Failed to send or save AGS message.
com.norkom.acquisition.exception.RealTimeException:  - <no or empty message found> - null
(...)
Caused by: com.norkom.wlm.exceptions.FilteringException: com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion (StackOverflowError) (through reference chain: com.norkom.wlm.resources.model.ListFilter[""listDefinition""]->com.norkom.wlm.resources.model.Li
stDefinition[""listFilters""]->org.hibernate.collection.internal.PersistentSortedSet[0]->com.norkom.wlm.resources.model.ListFilter[""listDefinition""]->com.norkom.wlm.resources.model.ListDefinition[""listFilters""]->org.hibernate.collection.internal.PersistentSortedSet[0]->co
m.norkom.wlm.resources.model.ListFilter[""listDefinition""]->com.norkom.wlm.resources.model.ListDefinition[""listFilters""]

{code}

 

*Test to reproduce:*

{code}

curl -k --location '[https://10.222.2.102:8443/netreveal/rest-external/eim-services/v1.0.0/servicesmanager/processMessage'|https://10.222.2.82:8443/netreveal/rest-external/eim-services/v1.0.0/servicesmanager/processMessage%27] \

--header 'Content-Type: application/xml' \

--header 'Authorization: Bearer pPvpML9iQ7BLpJSzRLXA4JT5vD0' \

--data '<Message>

<Id>SUB_100022</Id>

<Type>XML</Type>

<Sequence>WLMAGS_Subject_RT_REST</Sequence>

<Data><![CDATA[

<txn>

<subject_id>SUB_123</subject_id>

<subject_name>Kate BAYES</subject_name>

<delta_record_flag>Y</delta_record_flag>

</txn>]]></Data>

</Message>'

{code}",,Anurag Sharma,Dariusz Turowski,Muhammad Fayyaz,,,,,712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6,712020:ee44f279-231f-4c51-9fcd-7a28d553f77b,712020:806ef00c-0ddc-4f5e-bbef-14b1a464bce6,,,,,,,,,,,,,,,,,,,,,,,,,,,,WLMX-332,WLMX-839,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0kb9w:w2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,Engineering,,,,,,,,,,,,Awaiting Information,,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-11-02 10:53:33.633,,"02/Nov/23 10:53 AM;712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6;[~accountid:712020:806ef00c-0ddc-4f5e-bbef-14b1a464bce6] what’s the latest status on this issue? This is currently blocking WLM Container testing, when this could be resolved?","02/Nov/23 11:22 AM;712020:806ef00c-0ddc-4f5e-bbef-14b1a464bce6;The issue still in backlog, waiting to be prioritised.",,,,,,,,,,,,,,,,To Do
Batch transformation and List Import consumer start default set to false,WLMX-953,720092,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Anurag Sharma,712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6,Anurag Sharma,712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6,26/Sep/23 8:03 PM,11/Oct/23 10:25 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,SprintReady,,,"Currently Batch transformation and List Import Kafka consumer startup set to true be default.

This means if related properties filtering.batch.transformation.kafka.consumer.startup and filtering.list.import.kafka.consumer.startup are not defined on a particular node, they'll default to true and related consumers will start on the node, start consuming Kafka messages resulting in un-expected and un-desirable results.
h3. Acceptance Criteria
 * These properties default should be false i.e. to not start consumers on start up, so this can be enabled on selected nodes as per the requirements.
 * Change in base config properties and Spring xml file (kafkaMessagingClient.xml)
 * Automation envs need to change these to true in the appropriate nodes (review all types)
 * Update documentation/confluence
 * Backport to 9.0+

Note: testing this could take a long time to set up and will hopefully result in a faster process next time.

 ",,Anurag Sharma,,,,,,,712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2gza7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,Engineering,,,,,,,,,,,,Awaiting Information,,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Use Kafka topic partition for batch processing at runtime,WLMX-952,720177,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Anurag Sharma,712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6,Anurag Sharma,712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6,26/Sep/23 7:54 PM,27/Sep/23 10:43 AM,10/Nov/23 6:20 PM,,9.0,9.1,9.2,,,,,,,,,,,SprintReady,,,"Currently WLM BATCH node relies on property values in base_config.properties file to determine number of partitions to use to send processing chunk data.

Current calculation is done as filtering.batch.processing.kafka.node.count*filtering.batch.processing.kafka.consumer.count

 

This requires number of partitions on batch processing Kafka topic to be greater than or equal the value derived from filtering.batch.processing.kafka.node.count*filtering.batch.processing.kafka.consumer.count

 

If number of actual Kafka topic partition is lower than the calculated value from properties (for example Kafka partition count 1, node count 2 and consumer count 5 i.e. 1 < 10 (2*5), this results in below Kafka errors

Sep 26, 2023 8:05:59 AM org.springframework.kafka.support.LoggingProducerListener onError
SEVERE: Exception thrown when sending a message with key='c0a5d6ed-5862-438d-9461-dc95cfafdad7' and payload='com.norkom.wlm.message.BatchProcessingMessage@623fde1d' to topic nr-wlm-batch-process and partition 1:
org.apache.kafka.common.errors.TimeoutException: Topic nr-wlm-batch-process not present in metadata after 60000 ms.

 

There should be some more flexibility in determining topic partition count at runtime, instead of dependency on static properties values.

 

It should also be investigated if there's need to know number of partitions in advance. Is it possible to just send processing chunks with UUID message keys and let Kafka layer distribute messages over partitions using default round-robin distribution.

 

Most suitable candidate is to use non-partition API to send Kafka messages in 
com.norkom.wlm.business.utilities.messaging.impl.kafka.KafkaMessageSender
meaning use ProducerRecord(String topic, K key, V value) instead of ProducerRecord(String topic, Integer partition, K key, V value)   

This change needs to be tested to validate that messages are distributed using round-robin internally by Kafka library.

filtering.batch.processing.kafka.node.count no longer needed after change - update documentation.

Backport to 9.0, 9.1

 ",,Anurag Sharma,,,,,,,712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2gz9z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,Engineering,,,,,,,,,,,,Awaiting Information,,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Unable to update server state for topic ACQ_SCHEDULE_EVENT java.lang.NullPointerException,WLMX-933,720096,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,25/Sep/23 2:39 PM,11/Oct/23 9:24 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,SprintReady,,,"Error - Unable to update server state for topic ACQ_SCHEDULE_EVENT java.lang.NullPointerException

This can be seen on our automation envs when the accuracy match tests runs - just look in the simulation results.

This can currently only be reproduced when the following selenium test is run automatically - 

The same error is seen in the linked tickets but we need to check if it's the same cause.

From Monika - ""I have impression that maybe it is connected with the fact that two batches are running at the same time: one from UI the other one from scheduler and BusinessAreaProcessing job. But I only guess that this is a root cause.""

Step 1 - Improve exception handling to surface the actual exception.

Step 2 - debug based on actual exception.

Step 3 - fix and backport.

Step 4 - document how to investigate this kind of issue in the future - confluence page to help services debug and clean up failed/unfinished batches. (potentially move to new ticket)",,Gregory Eden,,,,,,,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WLMGEP-6232,PLAT-21772,PLAT-22187,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0kba2:4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,Engineering,,,,,,,,,,,,Awaiting Information,,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Coverage report not displaying created algorithms correctly,WLMX-925,720103,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,22/Sep/23 11:47 AM,05/Oct/23 9:17 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,SprintReady,,,"There is a set of issues in our WLM coverage report for model:
 * names of algorithms are hardcoded in the template of report, as a result algorithms created by user appear in the report in following way:

h6. Generate an alert when
there is an entry in the *WORLDCHECK* list where
and the index *EXTENDED_WC_Name_High_Risk_PEP_Full* has an {color:#de350b}*$matchTypes.get(""$lstwdschk.matchType.id"")* {color}with the data source field *subject_name*

 
 * There is no info about parameters of algorithm, so when user changes some of them in the created  model and then publishes such model to processing node it is impossible to check what parameters are in fact there",,Marc Van Laere,Monika Donder,,,,,,712020:cd288305-1656-4e0e-b625-53e99694be9a,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0kba0:i,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,Engineering,,,,,,,,,,,,Awaiting Information,,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-10-05 08:17:50.737,,"05/Oct/23 9:17 AM;712020:cd288305-1656-4e0e-b625-53e99694be9a;Hi,

Other points to review /fix:
 * The list category (Standrd,WC,FPFA,Accuity) is not shown, instead a list type (generic/table) is shown for all categories
 * List filter conditions are not displaying the enhanced parameters (AND/OR operator and open/close brackets)
 * Missing ""not in"" compareTypes
{noformat}
 -46 , 47,-48 {noformat}",,,,,,,,,,,,,,,,,To Do
Interactive List filtering doesn't work for more than one word,WLMX-877,720307,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,4 - Low,,,,Jan Kemnitz,712020:044f32c9-f6ce-439e-8468-094a834a8148,Jan Kemnitz,712020:044f32c9-f6ce-439e-8468-094a834a8148,19/Sep/23 8:33 AM,19/Sep/23 8:33 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,When trying to filter using more than one word the Interactive List doesn't display anything. I didn't this issue on any different screen than Watchlist Manager -> Administration -> Detection Algorithm Manager !image-2023-09-19-09-33-31-430.png!!image-2023-09-19-09-33-39-809.png!,,Jan Kemnitz,,,,,,,712020:044f32c9-f6ce-439e-8468-094a834a8148,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Sep/23 8:33 AM;712020:044f32c9-f6ce-439e-8468-094a834a8148;image-2023-09-19-09-33-31-430.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/912779,19/Sep/23 8:33 AM;712020:044f32c9-f6ce-439e-8468-094a834a8148;image-2023-09-19-09-33-39-809.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/912780,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,9.2.0.0-a18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2gox3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
[Spike] Batch Processing commences before PN index refresh,WLMX-792,720182,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,2 - High,,Ashok Manayangath,712020:4eb24e29-73db-4f2a-a700-fe2c768313d2,Ethna Killeen,712020:2d564096-11ed-4cff-8577-53ca39ecf3be,Ashok Manayangath,712020:4eb24e29-73db-4f2a-a700-fe2c768313d2,04/Sep/23 1:02 PM,17/Oct/23 2:38 PM,10/Nov/23 6:20 PM,,9.0,,,,,,,,,,,,,,,,"This ticket is to do address the same issue that's fixed under WLMX-743 at a higher level, more holistic approach.

Summary of WLMX-743:
{quote}ABANCA project raised an issue where exceptions are thrown when saving alerts WLMX-605 due to incorrect data sent to AGS or no alerts were generated when batches are executed for 2 different org units.

On analysing the logs in WLMX-605 it became evident that batch processing begins and completes while index refresh is occurring on processing nodes.  Once index refresh is complete batches run without issues and number of alerts are generated. 

 

The steps that should occur is:
 * Import List
 * Index Rebuild 
 * Batch processing. 

In the current OOTB configuration a query is executed against the database prior to kicking off BizAreaProcessing job. If indexes are rebuilding batch processing does not start. However, when index rebuild is complete on IGS,  PN requires index refreshing prior to starting batch processing to ensure recent index files exist on PN.   Attached is a high level query for querying the orch logs to identify if index refresh is complete.  Apps should review this query and modify the query to accommodate all scenarios in relation to index refreshing and batch processing. 

 
{quote}
 

Under this ticket, review the overall sequencing of index builds and batch jobs. 

For example, batch jobs, almost always, requires most up to date version of list of indexes. Running with outdated list is inaccurate and potentially could lead to compliance risk.

However, list import, index build and batch launch are all independent processes and each individual process assumes it's operating on up to date data.

This shifts the responsibility of ensuring the sequencing of events / validation indexes loaded etc responsibility of orchestration service and or the framework around it.

One idea could be to use timestamps - When a batch transformation is triggered, check if the indexes for latest list have been build and propagated to PNs. Or if batch can provide the timestamps (of the list import) is it possible from PN's side to check if it has the latest index to support this batch job (and if not, sit out that particular batch job?)

 ",,Ashok Manayangath,,,,,,,712020:4eb24e29-73db-4f2a-a700-fe2c768313d2,,,,,,,,,,,,,,,,,,,,,,,,,,WLMX-743,ZIC-1466,,,,,,,,,,,,,,,,,,,,,,WLMX-743,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2eql8:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Cannot add exception to check - error in UI,WLMX-777,721051,,Bug,In Retest,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,2 - High,,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,29/Aug/23 3:33 PM,12/Oct/23 9:51 AM,10/Nov/23 6:20 PM,,,,,,,9.2,,,,,,,,,,,"steps to reproduce:
 # Navigate to Detection Manager screen.
 # Create or edit check
 # Try to add something in Exception part of screen clicking plus icon

Description of error in console:

17Mixed Content: The page at '<URL>' was loaded over HTTPS, but requested an insecure element '<URL>'. This request was not upgraded to HTTPS because its URL's host is an IP address.
DevTools failed to load source map: Could not load content for https://10.222.17.131:8443/netreveal/css/css/cs-platform-application-builder.css.map: HTTP error: status code 404, net::ERR_HTTP_RESPONSE_CODE_FAILURE
javascript_pack.js:16 [Deprecation] Listener added for a synchronous 'DOMSubtreeModified' DOM Mutation Event. This event type is deprecated (https://w3c.github.io/uievents/#legacy-event-types) and work is underway to remove it from this browser. Usage of this event listener will cause performance issues today, and represents a risk of future incompatibility. Consider using MutationObserver instead.
add @ javascript_pack.js:16
(anonymous) @ javascript_pack.js:15
each @ javascript_pack.js:15
each @ javascript_pack.js:15
H @ javascript_pack.js:15
on @ javascript_pack.js:16
refreshDatepicker @ javascript_pack.js:1
window.onload @ javascript_pack.js:1
load (async)
(anonymous) @ javascript_pack.js:1
t @ javascript_pack.js:1
(anonymous) @ javascript_pack.js:5
t @ javascript_pack.js:1
(anonymous) @ javascript_pack.js:1
t @ javascript_pack.js:1
(anonymous) @ javascript_pack.js:1
(anonymous) @ javascript_pack.js:1
function_list_change_handler.js:25 Uncaught ReferenceError: submit is not defined
    at HTMLSelectElement.function_list_change_handler_internal (function_list_change_handler.js:25:5)
    at HTMLSelectElement.function_list_change_handler (function_list_change_handler.js:27:71)

 

Issue can be visible on 9.2.0.0-a16",,Monika Donder,,,,,,,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CETASKS-3949,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2023-09-05T09:47:22.000+0100"",""dataType"":""repository""},""byInstanceType"":{""stash"":{""count"":1,""name"":""Bitbucket Server""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2g2zr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-08-30 08:46:55.713,,"30/Aug/23 9:46 AM;712020:3d43f638-9e46-4d5e-beba-aaadc4763cc9;yeah, a submit() method was incorrectly transformed when we introduced CSP

originally it seems onchange=""submit()"" listener was expected to submit a surrounding form.

we've missed that and it was just transformed to call a ""plain"" submit method which does not exist.

I've also spotted two other places on same screen:

1) when adding a ""check against other list"" in List Checks section, and trying to select a List

2) when adding a ""check against other list"" in Exceptions section, and trying to select a List

 

I have updated the code in JSP files: exceptions.jsp and viewListCheck.jsp

Will now upload manually changes to 10.222.17.131 see if that helps, and will then create code review and commit eventually.","30/Aug/23 10:12 AM;712020:3d43f638-9e46-4d5e-beba-aaadc4763cc9;[~accountid:712020:b4b55144-b43b-45ac-aa43-a67818644bc2] 

was this found by manual testing or webdriver/alike?","30/Aug/23 10:26 AM;712020:3d43f638-9e46-4d5e-beba-aaadc4763cc9;[~accountid:712020:b4b55144-b43b-45ac-aa43-a67818644bc2] 

a fix has been manually uploaded to 10.222.17.131 so you can revalidate

Code review is: http://fecru.fs.caws.local/cru/PE-5185","05/Sep/23 9:48 AM;712020:3d43f638-9e46-4d5e-beba-aaadc4763cc9;Committed into trunk at:

Revision: 1085377
Author: michal.jagielski
Date: 05 September 2023 10:47:22
Message:
[WLMX-777] Cannot add exception to check after introducing CSP
----
Modified : /CoreDev/trunk/subprojects/web/src/main/web/WEB-INF/jsp/wlm/configuration/detection/editcheck/include/exceptions.jsp
Modified : /CoreDev/trunk/subprojects/web/src/main/web/WEB-INF/jsp/wlm/configuration/detection/editcheck/include/viewListCheck.jsp","05/Sep/23 9:48 AM;712020:3d43f638-9e46-4d5e-beba-aaadc4763cc9;[~accountid:712020:b4b55144-b43b-45ac-aa43-a67818644bc2] 

please wait for next build and re-check this.","12/Oct/23 9:51 AM;712020:3d43f638-9e46-4d5e-beba-aaadc4763cc9;[~accountid:712020:b4b55144-b43b-45ac-aa43-a67818644bc2] 

just for clarity, my comment about this being fixed dates September 5, and your ""Bug retest"" ticket was closed around September 21, so I guess we can close this one as well.",,,,,,,,,,,,In Progress
WLM Simulation with none distributed batch configuration did not generated alerted records  ,WLMX-724,720300,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Piotr Bartkowiak,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,Piotr Bartkowiak,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,04/Aug/23 11:04 AM,04/Aug/23 11:31 AM,10/Nov/23 6:20 PM,,,,,,,9.2,,,,WLM Engine,,,,,,,"WLM Simulation works good on processing nodes with distributed wlm batch configuration.
Below are errors spotted on a standalone batch during processing simulation files.
According to selenium results that start happening from around May 2023.

ENV: 10.222.2.221

{code}
01-Aug-2023 08:10:20,966 -  -  INFO  BatchProcessingMessageProcessor:171 - Processor:12 received id/seq/recs:1051/0/20
01-Aug-2023 08:10:20,984 -  -  ERROR CommonAlertSaver:914 - Exception in updateInternalRowId()
com.norkom.wlm.exceptions.FilteringException: java.io.FileNotFoundException: /opt/standaloneHome/conf/wlm/localRepo/
/indexes/1003/vls.idx (No such file or directory)
        at com.norkom.wlm.controller.FuzzyIndexManager.getRowKey(FuzzyIndexManager.java:1872) ~[norkom_wlm_business.jar:?]
        at com.norkom.wlm.controller.FuzzyIndexManager.getRowKey(FuzzyIndexManager.java:1844) ~[norkom_wlm_business.jar:?]
        at com.norkom.wlm.business.alert.CommonAlertSaver.updateInternalRowId(CommonAlertSaver.java:909) ~[norkom_wlm_business.jar:?]
        at com.norkom.wlm.business.alert.plugin.AGSAlertSaver.updateInternalRowId(AGSAlertSaver.java:370) ~[norkom_wlm_business.jar:?]
        at com.norkom.wlm.business.alert.plugin.AGSAlertSaver.lambda$null$1(AGSAlertSaver.java:284) ~[norkom_wlm_business.jar:?]
        at java.lang.Iterable.forEach(Iterable.java:75) ~[?:?]
        at com.norkom.wlm.business.alert.plugin.AGSAlertSaver.lambda$buildListofAlertMatchesFromTxn$2(AGSAlertSaver.java:283) ~[norkom_wlm_business.jar:?]
        at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[?:?]
        at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[?:?]
        at java.util.TreeMap$KeySpliterator.forEachRemaining(TreeMap.java:2739) ~[?:?]
        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[?:?]
        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]
        at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:?]
        at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:?]
        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]
        at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497) ~[?:?]
        at com.norkom.wlm.business.alert.plugin.AGSAlertSaver.buildListofAlertMatchesFromTxn(AGSAlertSaver.java:282) ~[norkom_wlm_business.jar:
{code}",,Piotr Bartkowiak,,,,,,,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,04/Aug/23 11:05 AM;712020:d0221ca6-b71f-41d7-ae6c-b7729846d629;WLM SIM none alerting records.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/912789,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2ffa7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Duplicate parsed fields in the UI,WLMX-653,720202,,Bug,In Progress,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,Richard Home,712020:2876f2c9-8efa-4e63-bd3b-091d16b9f7ae,Jan Kemnitz,712020:044f32c9-f6ce-439e-8468-094a834a8148,Jan Kemnitz,712020:044f32c9-f6ce-439e-8468-094a834a8148,14/Jul/23 11:31 AM,07/Nov/23 1:43 PM,10/Nov/23 6:20 PM,,9.2,,,,,,,,,,,,,SprintReady,,,"Backport n-2.

On 10.222.17.131 and 10.222.2.221 (Core Version:9.2.0.0-a9) I discovered that sometimes some parsed fields are displayed twice - even though the value appears only once in the message.

I think that it might be an issue with the MX Transformer.

Example with a message:

!image-2023-07-14-12-27-24-623.png![^Test_Msg_camt.105.xml]",,Jan Kemnitz,Richard Home,,,,,,712020:044f32c9-f6ce-439e-8468-094a834a8148,712020:2876f2c9-8efa-4e63-bd3b-091d16b9f7ae,,,,,,,,,,,,,,,,,,115200,115200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,14/Jul/23 11:27 AM;712020:044f32c9-f6ce-439e-8468-094a834a8148;Test_Msg_camt.105.xml;https://netreveal.atlassian.net/rest/api/3/attachment/content/912755,14/Jul/23 11:27 AM;712020:044f32c9-f6ce-439e-8468-094a834a8148;image-2023-07-14-12-27-24-623.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/912756,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2hoop:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,Engineering,,,,,,WLM Platform Sprint 126,,,,,,Awaiting Information,,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-07-14 11:18:16.941,,"14/Jul/23 12:18 PM;712020:2876f2c9-8efa-4e63-bd3b-091d16b9f7ae;Please turn on DEBUG in {color:#000000}com.norkom.acquisition.business.realtime.impl.swift.{color}{color:#000000}DefaultSwiftMXHandler.{color}

It will show what it is doing and then display the result of the parser at the end.","27/Oct/23 10:53 AM;712020:2876f2c9-8efa-4e63-bd3b-091d16b9f7ae;I tested this with a unit test class and the parser doesn’t duplicate the fields (indeed, it can’t as they are stored in a Map) so the problem must be downstream.","27/Oct/23 3:38 PM;712020:2876f2c9-8efa-4e63-bd3b-091d16b9f7ae;On the screen, the data is read using a Parse To KeyValue List Query Action. The data is read from the content field of the transaction in the database. This is a string encoded version of the map.

So, there are various stages where this could go wrong. Either in encoding the map to a string or decoding it in the query action.","31/Oct/23 10:02 AM;712020:2876f2c9-8efa-4e63-bd3b-091d16b9f7ae;The problem does not appear to be in the database record. This does not have duplicates:

{noformat}charges_account = STR
charges_account_code = STR
charges_account_currency = EUR
charges_account_iban = STR
charges_account_id_issuer = STR
charges_account_name = Mohamed Mostafa Amin
charges_account_owner_address_ctry = CU
charges_account_owner_address_ctry = SY
charges_account_owner_address_ctrysubdvsn = SY
charges_account_owner_address_ctrysubdvsn = SD
charges_account_owner_address_line = STR
charges_account_owner_address_street = STR
charges_account_owner_address_town = STR
charges_account_owner_address_type = DLVY
charges_account_owner_address_type = STR
charges_account_owner_bic11 = 0012CU56789
charges_account_owner_bic6 = 0012CU
charges_account_owner_bic8 = 0012CU56
charges_account_owner_clearing_code = STR
charges_account_owner_clearing_code_id = STR
charges_account_owner_code = DLVY
charges_account_owner_id_issuer = STR
charges_account_owner_iso2 = CU
charges_account_owner_name = Mohamed Mostafa Amin
charges_account_owner_organisation_id = STR
charges_account_type = STR
charges_additional_info = STR
charges_amount_currency = ActiveCurrencyCode
charges_instruction_code = STR
charges_instruction_info = STR
charges_type = STR
charges_underlying_transaction_clrsysref = STR
charges_underlying_transaction_endtoendid = STR
charges_underlying_transaction_message_id = STR
charges_underlying_transaction_transaction_reference = STR
charges_underlying_transaction_txid = STR
charges_underlying_transaction_uetr = STR
debtor_agent_acc_code = STR
debtor_agent_acc_currency = EUR
debtor_agent_acc_iban = STR
debtor_agent_acc_id_issuer = STR
debtor_agent_acc_name = Mohamed Mostafa Amin
debtor_agent_acc_type = STR
debtor_agent_account = STR
debtor_agent_address_ctry = MM
debtor_agent_address_ctry = NK
debtor_agent_address_ctrysubdvsn = AB
debtor_agent_address_ctrysubdvsn = AC
debtor_agent_address_line = STR
debtor_agent_address_street = STR
debtor_agent_address_town = STR
debtor_agent_address_type = DLVY
debtor_agent_address_type = STR
debtor_agent_bic11 = 0012CU56789
debtor_agent_bic6 = 0012CU
debtor_agent_bic8 = 0012CU56
debtor_agent_clearing_code = STR
debtor_agent_clearing_code_id = STR
debtor_agent_code = DLVY
debtor_agent_id_issuer = STR
debtor_agent_iso2 = CU
debtor_agent_name = Mohamed Mostafa Amin
debtor_agent_organisation_id = STR
message_id = STR
mti = ChrgsPmtNtfctn
other_field_values = STR
other_field_values = DBIT
total_charges_amount_currency = ActiveCurrencyCode{noformat}",07/Nov/23 1:17 PM;712020:2876f2c9-8efa-4e63-bd3b-091d16b9f7ae;There appears to be a problem with the filtering logic.,,,,,,,,,,,,,In Progress
"No errors during import synonyms with space, multiwords etc",WLMX-609,720355,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Piotr Bartkowiak,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,Piotr Bartkowiak,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,11/Jul/23 10:45 AM,12/Jul/23 1:40 PM,10/Nov/23 6:20 PM,,,,,,,9.2,,,,,,,,,,,Synonyms work only for single words. We don’t support multiword synonyms so also import should be in line with this criteria ,,Piotr Bartkowiak,Richard Home,,,,,,712020:d0221ca6-b71f-41d7-ae6c-b7729846d629,712020:2876f2c9-8efa-4e63-bd3b-091d16b9f7ae,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WLMX-18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,WLMX-201,Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2eql3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-07-11 10:02:10.843,,11/Jul/23 11:02 AM;712020:2876f2c9-8efa-4e63-bd3b-091d16b9f7ae;Are they validated on being input in the GUI?,"11/Jul/23 11:25 AM;712020:d0221ca6-b71f-41d7-ae6c-b7729846d629;Yes, we have in the GUI validation.",,,,,,,,,,,,,,721083,Support and Maintenance,To Do
DOC - documentation for SWIFT MT is not up to date,WLMX-596,720294,,Bug,Backlog,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,06/Jul/23 9:32 AM,26/Oct/23 5:38 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,DocSprintWork,,,"During work on changes to SWIFT MT 2023 I have found some discrepancies in documentation and current state of swift transformers defined in system parameters table.

Example: GeneralNameFieldTransformer in documentation has 15 applicable tags while in system_parameters table it is used in only 5 tags.

Similar issues exists also in Watchlist Manager SWIFT Messages Reference Guide where tags are not in line with system_parameters table.",,Monika Donder,,,,,,,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i25q0o:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,DOC,Engineering,,,,,,Documentation Tasks,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Review SWIFT MT checks configuration,WLMX-541,720290,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,26/Jun/23 2:47 PM,05/Sep/23 7:53 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"During work on WLMX-199 I have found following issue in the configuration:
 * 44_Flagged_Country_iso, 44_Flagged_Country_iso_USD check is verifying data against 44_text field rather then 44_iso2 field

Similar issue is for 45, 46, 47.

This ticket is to review all configuration to find more such issues and investigate if it is a bug or it was done by purpose.

This ticket is also to review if SWIFT MT 2023 changes should also introduce some checks based on new datasource fields created.

 

 

 ",,Monika Donder,,,,,,,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WLMX-197,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,WLMX-201,Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2fxos:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPS Development,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,721083,Support and Maintenance,To Do
Abort of Batch when multiple batches running,WLMX-426,720380,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Ethna Killeen,712020:2d564096-11ed-4cff-8577-53ca39ecf3be,Ethna Killeen,712020:2d564096-11ed-4cff-8577-53ca39ecf3be,09/Jun/23 12:29 PM,09/Jun/23 12:31 PM,10/Nov/23 6:20 PM,,,,,,,,,,,Batch Processing,,,,,,,"As part of WLMX-26 the locking functionality was removed from batch process which ensure multiple batches can be processed concurrently.  As part of WLMX-26 testing Abort functionality was tested an issue which is not consistently reproducible.  However the following steps were carried out when the issue occurred at times. 

 

*Steps:*
 # {*}{*}Run a large batch by placing file and flag file into batchwatch folder.  
 # Once transformation begins on first file upload the second file ensure the schedule time is short enough for the second batch file to be picked up when first batch is in progress. 
 # Once both batches have a status of ""in progress"" abort the first batch. 
 # Expected behavior is that one batch will be aborted and the second one will continue. 

If the expected behavior is achieved carry out the same steps as above but at step 3 about the second batch. 

 

 ",,Ethna Killeen,,,,,,,712020:2d564096-11ed-4cff-8577-53ca39ecf3be,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2druf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
SCAN Error due to Match Exclusions Nullpointer,WLMX-411,720308,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,Ben Princen,712020:d51c111e-3ac8-41ea-9613-0985cb0cbe74,Ben Princen,712020:d51c111e-3ac8-41ea-9613-0985cb0cbe74,06/Jun/23 8:19 PM,19/Sep/23 7:21 AM,10/Nov/23 6:20 PM,,8.1,8.4,8.4.1,,,9.2,,,,,,,,ReadyToEstimate,,,"Full vs Full Scan in UAT Errored for few customers for Match Exclusion rules.

 

 

05-Jun-2023 21:09:31,783 -  -  ERROR RuntimeExceptionInterceptor:41 - CBP-10200
java.lang.NullPointerException: null
    at com.norkom.wlm.fuzzycheck.matchex.MatchExclusionProcessor.dataSourceConditionCheckForGroup(MatchExclusionProcessor.java:484) ~[norkom_wlm_business.jar:?]
    at com.norkom.wlm.fuzzycheck.matchex.MatchExclusionProcessor.dataSourceConditionCheck(MatchExclusionProcessor.java:275) ~[norkom_wlm_business.jar:?]
    at com.norkom.wlm.fuzzycheck.matchex.MatchExclusionProcessor.processRule(MatchExclusionProcessor.java:202) ~[norkom_wlm_business.jar:?]
    at com.norkom.wlm.fuzzycheck.matchex.MatchExclusionProcessor.isExcluded(MatchExclusionProcessor.java:135) ~[norkom_wlm_business.jar:?]
    at com.norkom.wlm.fuzzycheck.scoring.AbstractScorer.getScore(AbstractScorer.java:29) ~[norkom_wlm_business.jar:?]
    at com.norkom.wlm.resources.AlertMatchValuator.findMatchWithHighestScore(AlertMatchValuator.java:739) ~[norkom_wlm_resources.jar:?]
    at com.norkom.wlm.resources.AlertMatchValuator.processCheckForInput(AlertMatchValuator.java:514) ~[norkom_wlm_resources.jar:?]
    at com.norkom.wlm.resources.AlertMatchValuator.processDataSourceCheck(AlertMatchValuator.java:231) ~[norkom_wlm_resources.jar:?]
    at com.norkom.wlm.resources.AlertMatchValuator.initialize(AlertMatchValuator.java:129) ~[norkom_wlm_resources.jar:?]
    at com.norkom.wlm.resources.model.CheckDefinition.initializeMatches(CheckDefinition.java:870) ~[norkom_wlm_resources.jar:?]
    at com.norkom.wlm.resources.model.CheckDefinition.getMatches(CheckDefinition.java:824) ~[norkom_wlm_resources.jar:?]
    at com.norkom.wlm.business.facades.impl.ProcessingLogicFacadeImpl.executeCheck(ProcessingLogicFacadeImpl.java:2036) ~[customer.jar:?]
    at com.norkom.wlm.business.facades.impl.ProcessingLogicFacadeImpl.executeAllChecks(ProcessingLogicFacadeImpl.java:1424) ~[customer.jar:?]
    at com.norkom.wlm.business.facades.impl.ProcessingLogicFacadeImpl.executeAllChecks(ProcessingLogicFacadeImpl.java:1358) ~[customer.jar:?]
    at com.norkom.wlm.business.facades.impl.ProcessingLogicFacadeImpl.executeAllChecks(ProcessingLogicFacadeImpl.java:1343) ~[customer.jar:?]
    at sun.reflect.GeneratedMethodAccessor2340.invoke(Unknown Source) ~[?:?]
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_361]
    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_361]
    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) ~[spring-tx-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) ~[spring-tx-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at com.sun.proxy.$Proxy131.executeAllChecks(Unknown Source) ~[?:?]
    at com.norkom.wlm.business.facades.wrappers.ProcessingLogicFacadeWrapper.executeAllChecks(ProcessingLogicFacadeWrapper.java:696) ~[norkom_wlm_business.jar:?]
    at sun.reflect.GeneratedMethodAccessor2323.invoke(Unknown Source) ~[?:?]
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_361]
    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_361]
    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.adapter.ThrowsAdviceInterceptor.invoke(ThrowsAdviceInterceptor.java:125) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at com.sun.proxy.$Proxy147.executeAllChecks(Unknown Source) ~[?:?]
    at sun.reflect.GeneratedMethodAccessor2323.invoke(Unknown Source) ~[?:?]
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_361]
    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_361]
    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.adapter.ThrowsAdviceInterceptor.invoke(ThrowsAdviceInterceptor.java:125) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at com.sun.proxy.$Proxy148.executeAllChecks(Unknown Source) ~[?:?]
    at sun.reflect.GeneratedMethodAccessor2323.invoke(Unknown Source) ~[?:?]
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_361]
    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_361]
    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.adapter.ThrowsAdviceInterceptor.invoke(ThrowsAdviceInterceptor.java:125) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at com.sun.proxy.$Proxy148.executeAllChecks(Unknown Source) ~[?:?]
    at sun.reflect.GeneratedMethodAccessor2323.invoke(Unknown Source) ~[?:?]
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_361]
    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_361]
    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.adapter.ThrowsAdviceInterceptor.invoke(ThrowsAdviceInterceptor.java:125) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at com.sun.proxy.$Proxy148.executeAllChecks(Unknown Source) ~[?:?]
    at com.norkom.wlm.business.helpers.ProcessingHelper.execute(ProcessingHelper.java:174) ~[norkom_wlm_business.jar:?]
    at com.norkom.wlm.business.helpers.ProcessingHelper.execute(ProcessingHelper.java:132) ~[norkom_wlm_business.jar:?]
    at com.norkom.wlm.business.helpers.ProcessingHelper.execute(ProcessingHelper.java:126) ~[norkom_wlm_business.jar:?]
    at com.norkom.wlm.business.messaging.BatchProcessingMessageProcessor.executeProcessing(BatchProcessingMessageProcessor.java:683) ~[customer.jar:?]
    at com.norkom.wlm.business.messaging.BatchProcessingMessageProcessor.process(BatchProcessingMessageProcessor.java:630) ~[customer.jar:?]
    at com.norkom.wlm.business.messaging.BatchProcessingMessageProcessor.runBatchProcessing(BatchProcessingMessageProcessor.java:253) ~[customer.jar:?]
    at com.norkom.wlm.business.messaging.BatchProcessingMessageProcessor.processMessage(BatchProcessingMessageProcessor.java:112) ~[customer.jar:?]
    at sun.reflect.GeneratedMethodAccessor2864.invoke(Unknown Source) ~[?:?]
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_361]
    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_361]
    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) ~[spring-tx-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) ~[spring-tx-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.7.RELEASE.jar:4.3.7.RELEASE]
    at com.sun.proxy.$Proxy121.processMessage(Unknown Source) ~[?:?]
    at com.norkom.wlm.business.utilities.messaging.impl.MessageProcessorExecutor.run(MessageProcessorExecutor.java:56) ~[norkom_wlm_business.jar:?]
    at java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_361]",,Ben Princen,Vikram Savkoor,,,,,,712020:d51c111e-3ac8-41ea-9613-0985cb0cbe74,712020:9bfcfe75-e4bb-4db7-824a-d639db2de15d,,,,,,,,,,,,,,,,,,,,,,,,,BOAWLM-773,,,,,,,,,,,WLMGEP-15401,,,,,CRELANAML-688,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,WLMX-201,Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,8.X,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i2dpr3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,Engineering,,,,,,,,,,,,,During match exclusion execution in screening,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-06-09 20:58:57.844,,"06/Jun/23 8:31 PM;712020:d51c111e-3ac8-41ea-9613-0985cb0cbe74;The issue occurs because a check is done on an object that is null.
On itself, the code actually checks this, but there is an else missing from the logic and later on the code crashes because it tries to output the class of the object (which is not existing because it is null).

The solution is to just change the MatchExclusionProcessor code, method dataSourceConditionCheckForGroup :

 As can be seen if dsFieldEntry is null, the log.warn statement will crash.
{code:java}
if (dsFieldEntry == null)
{
...
}
if (dsFieldEntry instanceof String)
{
...
}
else if (dsFieldEntry instanceof List)
{
...}
else
{
    log.warn(""Unexpected object type : "" + dsFieldEntry.getClass().getName());
}{code}
 

The solution is to add an else to the code :

 
{code:java}
if (dsFieldEntry == null)
{
...
}
else if (dsFieldEntry instanceof String)
{
...
}
else if (dsFieldEntry instanceof List)
{
...}
else
{
    log.warn(""Unexpected object type : "" + dsFieldEntry.getClass().getName());
}{code}",09/Jun/23 9:58 PM;712020:9bfcfe75-e4bb-4db7-824a-d639db2de15d;This issue has been fixed in 8.4.1 onwards (WLMGEP-15401). It needs to be back ported to 8.1.,,,,,,,,,,,,,,721083,Support and Maintenance,To Do
ME return to default view despite selecting rule set (7.1 with ME backport),WLMX-396,720293,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,06/Jun/23 12:47 PM,01/Sep/23 9:45 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,ReadyToEstimate,SprintReady,,"Issue raised by Rabobank on version 7.1 with backported Match Exclusion from 7.7. Confirmed with Ben Princen that this is an platform issue.
Steps to reproduce:
 # Watchlist Manager -> Match Exclusion -> Match Exclusion Rules
 # At least 6 match exclusion rules needs to exist
 # On Match Exclusion Rule Sets section go to page other than 1 and click on any ID
 # Section is refreshed and page 1 is displayed

Below a description provided by Rabobank.

Situation:
The ME screen will show a maximum of 5 rule sets.
After creating a 6th rule set this is shown on a second page (2 of 2)
So far so good.
When I select this new rule set in order to create rule for it the Rule Set view is returned to Rule Set page 1 of 2.
(see attached screenshot)
This is not as we want it.

 

 ",,Alan Duggan,Gregory Eden,Nelius Bresnan,,,,,712020:7c2e4a30-e8a9-435d-82f6-0975c7f78353,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,712020:e8329cd7-f89a-40b7-83f3-7783a87ed3db,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,RTOPX-119,,,,,,FCENG-18041,,,,CES-3738,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,WLMX-201,Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2eyus:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPS Development,Engineering,,,,,,,,,,,,Awaiting Information,,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-06-08 08:12:26.306,,08/Jun/23 9:12 AM;712020:e8329cd7-f89a-40b7-83f3-7783a87ed3db;Hi - is there a timeline for this ticket?,"08/Jun/23 9:45 AM;712020:532dfe22-1a95-4c45-982b-4ce78e0beae8;Hi Nelius, we are prioritising the new MX mappings and MT changes for the Swift Nov update at the moment and will get to this bug after that, so likely in late July.",21/Jun/23 3:12 PM;712020:532dfe22-1a95-4c45-982b-4ce78e0beae8;After looking at it more closely I can see that this is an issue on 7.1 after a backport. Perhaps this should be CE item?,21/Jun/23 3:22 PM;712020:e8329cd7-f89a-40b7-83f3-7783a87ed3db;If you read from this point onwards [LINK|https://netreveal.atlassian.net/browse/CES-3738?focusedCommentId=1287021&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel] it would seem that was considered and this ticket was created. it clear to me who may have consulted with regarding the disposition of this issue. Do you need to consult with anybody else about that decision. It was a while ago and perhaps there were discussions that are not captured here that would explain why this ticket was opened rather than a CE ticket? I don't know. So if you can clarify that it would be helpful. Thank you - NB.,21/Jun/23 3:35 PM;712020:532dfe22-1a95-4c45-982b-4ce78e0beae8;Ok let's keep it here for now. [~accountid:712020:7c2e4a30-e8a9-435d-82f6-0975c7f78353] - is this something the CE team can take? ,27/Jun/23 10:25 AM;712020:e8329cd7-f89a-40b7-83f3-7783a87ed3db;Is there an update for this? Is this okay where it is? ,05/Jul/23 11:06 AM;712020:e8329cd7-f89a-40b7-83f3-7783a87ed3db;Is there any update for this ticket?,11/Jul/23 2:02 PM;712020:e8329cd7-f89a-40b7-83f3-7783a87ed3db;Is there any update for this ticket?,02/Aug/23 2:16 PM;712020:e8329cd7-f89a-40b7-83f3-7783a87ed3db;Is there any update for this ticket?,04/Aug/23 4:23 PM;712020:e8329cd7-f89a-40b7-83f3-7783a87ed3db;Is there any update for this ticket?,10/Aug/23 9:52 AM;712020:e8329cd7-f89a-40b7-83f3-7783a87ed3db;Is there any update for this ticket?,17/Aug/23 8:39 AM;712020:e8329cd7-f89a-40b7-83f3-7783a87ed3db;Is there any update for this ticket?,25/Aug/23 12:15 PM;712020:e8329cd7-f89a-40b7-83f3-7783a87ed3db;Is there any update for this ticket?,"01/Sep/23 9:28 AM;712020:e8329cd7-f89a-40b7-83f3-7783a87ed3db;Hi [~accountid:712020:7c2e4a30-e8a9-435d-82f6-0975c7f78353] - on 2023-06-21 Gregory if is this something the CE team can take? [LINK|https://netreveal.atlassian.net/browse/WLMX-396?focusedCommentId=3476001&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel] and since then we've heard nothing. 

Is this something the CE team can take or should we be asking Gregory to help us further?","01/Sep/23 9:40 AM;712020:7c2e4a30-e8a9-435d-82f6-0975c7f78353;This ticket isn't assigned to me

There appears to be an RTOP for this (RTOPX-119) which is still under analysis by Product Management.  If they approve it for acceleration then CE can put it on our queue to schedule.",721083,Support and Maintenance,To Do
Backport to 9.1,WLMX-195,720437,721048,Bug (sub-task),New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,10/May/23 3:31 PM,10/May/23 3:31 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,,,Gregory Eden,,,,,,,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0l6hr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CE Sprint Work,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,721048,MT messages with repetitive fields are failing for no hit response,To Do
Backport to 9.0,WLMX-194,720361,721048,Bug (sub-task),New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,10/May/23 3:31 PM,10/May/23 3:31 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,,,Gregory Eden,,,,,,,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0l6hj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CE Sprint Work,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,721048,MT messages with repetitive fields are failing for no hit response,To Do
Backport to 8.4.1,WLMX-193,720360,721048,Bug (sub-task),New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,10/May/23 3:31 PM,10/May/23 3:31 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,,,Gregory Eden,,,,,,,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0l6h3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CE Sprint Work,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,721048,MT messages with repetitive fields are failing for no hit response,To Do
Apply fix to trunk,WLMX-192,720359,721048,Bug (sub-task),New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,10/May/23 3:30 PM,10/May/23 3:30 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,,,Gregory Eden,,,,,,,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0l6gn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CE Sprint Work,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,721048,MT messages with repetitive fields are failing for no hit response,To Do
Backport to 9.1,WLMX-190,720451,720943,Bug (sub-task),New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,Vikram Savkoor,712020:9bfcfe75-e4bb-4db7-824a-d639db2de15d,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,10/May/23 3:25 PM,09/Jun/23 4:19 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,,,Gregory Eden,,,,,,,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0l6fb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CE Sprint Work,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,720943,Customer information getting printed in error logs,To Do
Backport to 9.0,WLMX-189,720447,720943,Bug (sub-task),New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,Vikram Savkoor,712020:9bfcfe75-e4bb-4db7-824a-d639db2de15d,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,10/May/23 3:25 PM,09/Jun/23 4:19 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,,,Gregory Eden,,,,,,,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0l6f3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CE Sprint Work,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,720943,Customer information getting printed in error logs,To Do
Backport to 8.4.1,WLMX-188,720449,720943,Bug (sub-task),New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,Vikram Savkoor,712020:9bfcfe75-e4bb-4db7-824a-d639db2de15d,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,10/May/23 3:25 PM,09/Jun/23 4:18 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,,,Gregory Eden,,,,,,,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0l6ev:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CE Sprint Work,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,720943,Customer information getting printed in error logs,To Do
No hit failures for MX messages with certain fields,WLMX-184,720383,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,09/May/23 3:55 PM,12/Jun/23 2:33 PM,10/Nov/23 6:20 PM,,,,,,,,,,,SWIFT Processing,,,,SprintReady,,,"h3. Background

According to WNZLTEST-156, the attached message will pass for hit response but fail for no hit.
h3. Acceptance Criteria
 * Gain understanding of issue and try to reproduce.
 * No hit should error when processing attahced message.
 * Any fix should be backported to 8.4.1, 9.0, 9.1",,Gregory Eden,Marc Van Laere,,,,,,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,712020:cd288305-1656-4e0e-b625-53e99694be9a,,,,,,,,,,,,,,,,,,,,,,,,,WLMX-183,CETASKS-3852,,,,,,,,,,WLMX-180,,,,,,,,,,,,,,,,09/May/23 4:00 PM;712020:532dfe22-1a95-4c45-982b-4ce78e0beae8;22920134_creditor_name_issue.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/912798,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,WLMX-201,Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,8.4.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0l547:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,,,,,,,CE Sprint Work,,,,,,Awaiting Information,,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-05-23 12:39:19.76,,"23/May/23 1:39 PM;712020:cd288305-1656-4e0e-b625-53e99694be9a;This appears to be duplicate of [https://netreveal.atlassian.net/browse/WLMX-180|https://netreveal.atlassian.net/browse/WLMX-180] but for MX message.

In fact the bug (NPE when saving NoHit) is related to ds field having multiple value whatever the message type is : MT,MX or AnyXML

So fix for [WLMX-180] will also fix this one.

 ",23/May/23 1:45 PM;712020:532dfe22-1a95-4c45-982b-4ce78e0beae8;Ok great!,,,,,,,,,,,,,,721083,Support and Maintenance,To Do
Issues identified when storing the no hit data for messages that contains multiple transactions,WLMX-183,721086,,Bug,In Development,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,Dawid Piasecki,712020:85e41f54-81f0-433a-85b1-a9e5f7f1c493,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,09/May/23 3:42 PM,30/May/23 11:47 AM,10/Nov/23 6:20 PM,,,,,,,,,,,SWIFT Processing,,,,SprintReady,,,"h3. Background

[-WNZLTEST-119-|https://support.ai.baesystems.com/browse/WNZLTEST-119] / [-WNZLTEST-110-|https://support.ai.baesystems.com/browse/WNZLTEST-110] / [-WNZLTEST-140-|https://support.ai.baesystems.com/browse/WNZLTEST-140] - Some of the MT no-hits not properly recorded in DB

*Issue:* Issues identified when storing the No Hit data for messages that contains multiple transactions; some fields are null and some rows are repeated. We have found the following behaviour, even when only storing the full message:  If a message contains multiple transactions and they are all no hits, a record will be added to the No hit db table for each transaction, however the full message is only populated for the first record. This appears to be related to how no hit transaction info is stored within NetReveal. For example, if a message contains 4 transactions and all transactions are no hits, the No Hit db table will be populated with the following:

More details in the comments of this ticket:

[https://support.ai.baesystems.com/browse/PLAT-24369]

From [https://support.ai.baesystems.com/browse/WNZLTEST-119] regarding the attached message:

""Please note that this message contains two transactions, so we would expect to have 2 entries added to the hit / no hit database tables.

So if one transaction within the message is a hit, it will be populated in the Hit database table, if the other transaction is a no hit, it will be populated in the No hit database table. If both transactions are hits, you will see 2 records in the Hit db table and likewise if both transactions are no hits, you will see 2 records in the No hit db table. So please check both the hit and no hit db tables when testing messages containing multiple transactions.

We're retested message [mt203.txt{^}!https://support.ai.baesystems.com/images/icons/link_attachment_7.gif|width=7,height=7!{^}|https://support.ai.baesystems.com/secure/attachment/22906680/22906680_mt203.txt]and changed the message to trigger a combination of hits and no hits for each of the transactions and they are populating the db tables as expected.""
h3. Acceptance Criteria
 * MT messages with multiple transactions should store data correctly in No Hit db table.
 * Backport any fix to 8.4.1, 9.0, 9.1 ",,Dawid Piasecki,Gregory Eden,,,,,,712020:85e41f54-81f0-433a-85b1-a9e5f7f1c493,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,,,,,,,,,,,,,,,,,,,,,,,WLMX-184,WLMX-180,CETASKS-3851,,,,,,,,,,,,,,,,,,,,,,,,,,09/May/23 3:51 PM;712020:532dfe22-1a95-4c45-982b-4ce78e0beae8;22906680_mt203.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/913066,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,WLMX-201,Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,8.4.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0l533:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,,,,,,,CE Sprint Work,,,,,,Awaiting Information,,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,721083,Support and Maintenance,In Progress
Consumers spelt incorrectly,WLMX-182,720170,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,4 - Low,,,,Ashok Manayangath,712020:4eb24e29-73db-4f2a-a700-fe2c768313d2,Ashok Manayangath,712020:4eb24e29-73db-4f2a-a700-fe2c768313d2,09/May/23 3:36 PM,02/Oct/23 1:58 PM,10/Nov/23 6:20 PM,,,,,,,,,,,Build,,,,,,,"For instance ""WLM_CounsumerPN_RealSL""

There are multiple instances of ""Co*u*nsumer"" all over the configuration. 

While everything works, it looks bad.",,Ashok Manayangath,,,,,,,712020:4eb24e29-73db-4f2a-a700-fe2c768313d2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,WLMX-513,24/7 Follow-Ups,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2ear0:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,721084,24/7 Follow-Ups,To Do
MT messages with repetitive fields are failing for no hit response,WLMX-180,721048,,Bug,In Review,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,2 - High,,Dawid Piasecki,712020:85e41f54-81f0-433a-85b1-a9e5f7f1c493,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,09/May/23 2:50 PM,28/Sep/23 5:15 AM,10/Nov/23 6:20 PM,,,,,,,8.4.1,9.0,9.1,9.2,SWIFT Processing,,,,SprintReady,,,"*Steps to Reproduce:*

#  Send message to NetReveal via soap request/or flts, this message contains two *:71F:* 
Note: This repetitive field specifies the currency and amount of the transaction charges deducted by the Sender and by previous banks in the transaction chain.

*Actual Behavior:*

* Immediate failure from NetReveal.
* Can happen to *:71G:* and other repetive fileds too, e.g. *:98A*:.
* Not happening for message with HIT.

*Expected Behavior:*

* No hit response

 

See details here:

[https://support.ai.baesystems.com/browse/WNZLTEST-146|https://support.ai.baesystems.com/browse/WNZLTEST-146]

More details in the comments of this ticket:

[https://support.ai.baesystems.com/browse/PLAT-24369|https://support.ai.baesystems.com/browse/PLAT-24369]

and also

[https://netreveal.atlassian.net/browse/PLAT-24531|https://netreveal.atlassian.net/browse/PLAT-24531]

h3. Acceptance Criteria

* No hit MT messages with repeated fields should not fail 
* Backport to 8.4.1, 9.0, 9.1",,Anurag Sharma,Ashok Manayangath,Devesh Jain,Gregory Eden,Marc Van Laere,Vincent Chin,,712020:60e26977-fc1d-4c5d-8717-35d23f61e4d6,712020:4eb24e29-73db-4f2a-a700-fe2c768313d2,712020:e6e52e89-a817-4784-a695-4bfc9d50b582,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,712020:cd288305-1656-4e0e-b625-53e99694be9a,712020:3d16afa3-d658-44e4-b823-f942b4464421,,,,,,,,,,,,,,,,,,,,WLMX-183,CETASKS-3851,,,,PLAT-24531,,,,,,,,WLMX-184,,,,BABLUPGX-1,,,,,,,,,,,29/May/23 9:29 AM;712020:3d16afa3-d658-44e4-b823-f942b4464421;RT_DataSourceScreening_MT799_UsageRule_NOHIT.xml;https://netreveal.atlassian.net/rest/api/3/attachment/content/913040,10/May/23 10:12 AM;712020:532dfe22-1a95-4c45-982b-4ce78e0beae8;failed_MT103.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/913042,18/May/23 3:22 AM;712020:3d16afa3-d658-44e4-b823-f942b4464421;image-2023-05-18-10-22-58-028.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/913043,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,WLMX-201,Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|hyp8zy:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,,,,,,,CE Sprint Work,,,,,,Awaiting Information,,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-05-10 14:25:08.557,,"10/May/23 3:25 PM;712020:cd288305-1656-4e0e-b625-53e99694be9a;This is easy code fix in AGSNonAlertSaver.

Will be done as soon as new svn is ready

 ",10/May/23 3:29 PM;712020:532dfe22-1a95-4c45-982b-4ce78e0beae8;Great!,10/May/23 11:14 PM;712020:e6e52e89-a817-4784-a695-4bfc9d50b582;thanks Greg and Marc.. Yes code change includes couple of lines of null check. That exists in old EIM Non alert Saver.,"15/May/23 1:44 PM;712020:cd288305-1656-4e0e-b625-53e99694be9a;Fix committed in project's code base. 

Waiting project test feedback before continuing on this.","18/May/23 3:23 AM;712020:3d16afa3-d658-44e4-b823-f942b4464421;Hi [~accountid:712020:cd288305-1656-4e0e-b625-53e99694be9a] ,

We are having build failure due to compilation error on AGSNonAlertSaver.java

!image-2023-05-18-10-22-58-028.png!","18/May/23 9:51 AM;712020:4eb24e29-73db-4f2a-a700-fe2c768313d2;Hi [~accountid:712020:3d16afa3-d658-44e4-b823-f942b4464421] ,

Marc is is off today and tomorrow.

I don't have Marc's changes but please let me know if this is not something you can't fix yourself (check imports, check dependencies etc), and I can look into this.

thanks,

Ashok.","22/May/23 9:22 AM;712020:cd288305-1656-4e0e-b625-53e99694be9a;Hi,

Apparently, the  [http://svn.fs.caws.local/svn/norkom/Libs] project was not in sync with libraries referenced  in build\coredev_libs.xml since 8.4.0.  the jakarta-commons/commons-lang3-3.9.jar was missing. Committed it.

Please could you re-check the build.

Marc","23/May/23 8:28 AM;712020:cd288305-1656-4e0e-b625-53e99694be9a;Hi,

I fixed stage1 build error.

This error was due to inconsistency of core 8.4.1.11 build/oredev_libs.xml  that was still referencing older version of  commons-lang3.

But now there is a stage2 build error related to change made in ConfigRepository\version.properties

the lines 
{color:#000000}hijack.StaxXMLTransformer{color}{color:#000000}={color}{color:#2a00ff}customer.jar:com/norkom/base/util/xml/StaxXMLTransformer.java{color} {color:#2a00ff}added{color} {color:#2a00ff}as{color} {color:#2a00ff}com/norkom/base/util/xml/StaxXMLTransformer.class{color}

{color:#000000}hijack.AGSNonAlertSaver{color}{color:#000000}={color}{color:#2a00ff}norkom_wlm_business.jar:com/norkom/wlm/business/alert/plugin/AGSNonAlertSaver.{color}{color:#2a00ff}java{color} {color:#2a00ff}added{color} {color:#2a00ff}as{color} {color:#2a00ff}com/norkom/wlm/business/alert/plugin/AGSNonAlertSaver.{color}{color:#2a00ff}class{color}

{color:#000000}hijack.DefaultFilteringXMLTransformer{color}{color:#000000}={color}{color:#2a00ff}customer.jar:com/norkom/wlm/transformation/DefaultFilteringXMLTransformer.java{color} {color:#2a00ff}added{color} {color:#2a00ff}as{color} {color:#2a00ff}com/norkom/wlm/transformation/DefaultFilteringXMLTransformer.class{color}

{color:#172b4d}are not correct.{color}

 

{color:#172b4d}It looks like project is using two ways to handle hijacks:{color}
 # {color:#172b4d}First one is in CodeRepository/build/build-project.xml that remove hijacked class from core jars{color}{color:#172b4d}               <!-- BABLUPG-2359 START-->
        <antcall target=""rejar_norkom_base_common"" />
        <antcall target=""rejar_norkom_wlm_web"" />
        <antcall target=""rejar_norkom_wlm_business"" />
        <!-- BABLUPG-2359 END -->
{color}
 # {color:#172b4d}Second one is to add hijack.* properties in ConfigRepository\version.properties in order to rename hijacked classes to .class.hijacked in core jars.{color}

 

 

{color:#172b4d}If you are using 1 you should uncomment {color}

{color:#172b4d}        <!-- WLMX-180 - Start --
        <delete file=""${assembly.dir}/unpack_norkom_wlm_business/com/norkom/wlm/business/alert/plugin/AGSNonAlertSaver.class"" failonerror=""true""/>
        -- WLMX-180 - End -->
{color}

{color:#172b4d}in rejar_norkom_wlm_business target {color}

 

{color:#172b4d}If you are using 2 you should add {color}
{color:#000000}hijack.AGSNonAlertSaver={color}{color:#2a00ff}norkom_wlm_business.jar:com/norkom/wlm/business/alert/plugin/AGSNonAlertSaver.class{color}

in {color:#172b4d}ConfigRepository\version.properties{color}

{color:#172b4d}Notes: {color}

{color:#172b4d}1 the format of current lines in ConfigRepository\version.properties is not correct and should be fixed.{color}

{color:#172b4d}2 I don't think it is possible to rename classes in customer.jar using that method because it is not a core jar. But why do you want to rename hijacked version of classes {color:#000000}StaxXMLTransformer and DefaultFilteringXMLTransformer{color} in customer.jar? {color}

 

{color:#172b4d}Marc{color}

 ","25/May/23 10:38 AM;712020:3d16afa3-d658-44e4-b823-f942b4464421;Hi,

We have successfully triggered the build and deployed he fix to one of the clean environment. The testing with MT760 and MT671 that covered most of the repetitive tags are working fine. Both messages are processed successfully and inserted to NOHIT table. We are now looking at another type of message that having issue on client end, will update accordingly once sorted.","29/May/23 9:29 AM;712020:3d16afa3-d658-44e4-b823-f942b4464421;Hi,

We have successfully unit tested MT799 with usage rule on tag 79 [^RT_DataSourceScreening_MT799_UsageRule_NOHIT.xml]

The fix has now promoted to our QA environment. ",,,,,,721083,Support and Maintenance,In Progress
Default 'filtering.editable' to false in code for IGS and PROC nodes,WLMX-8,720463,,Bug,New,WLMX,Watch List ManagementX,software,Gregory Eden,712020:532dfe22-1a95-4c45-982b-4ce78e0beae8,,3 - Medium,,,,Ashok Manayangath,712020:4eb24e29-73db-4f2a-a700-fe2c768313d2,Ashok Manayangath,712020:4eb24e29-73db-4f2a-a700-fe2c768313d2,25/Apr/23 6:07 PM,02/Oct/23 2:02 PM,10/Nov/23 6:20 PM,,,,,,,,,,,WLM Engine,,,,,,,"Occasionally users are setting filtering.editable to true (despite the documentation, especially with versions pre-property-reorg) in IGS and that throws hibernate lazy init exception.

Should be easy fix in code to search where ever filtering.editable is checked and to check the node type there, effectively disabling / defaulting this to always off for all nodes that is not CENTRAL.

What about if IGS and Batch are the same instance - [https://netreveal.atlassian.net/browse/WLMX-857|https://netreveal.atlassian.net/browse/WLMX-857]",,Ashok Manayangath,,,,,,,712020:4eb24e29-73db-4f2a-a700-fe2c768313d2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,WLMX-513,24/7 Follow-Ups,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0kt3p:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Platform Development,,,,,,,,,,,,,Awaiting Information,,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,721084,24/7 Follow-Ups,To Do
Compare configurations details display wrong Detection name ,SMUIX-633,727467,,Bug,New,SMUIX,SMUIX,software,Ciaran Finnegan,6414a0cd67102fc717c034d7,,3 - Medium,,,,Krystian Smolski,712020:3697fc8e-5dd7-4cb6-a5d9-fa9225eaf0ad,Krystian Smolski,712020:3697fc8e-5dd7-4cb6-a5d9-fa9225eaf0ad,02/Nov/23 11:07 AM,02/Nov/23 11:12 AM,10/Nov/23 6:20 PM,,,,,,,,,,,Bugs,SMUI,,,,,,"Compare configurations details display wrong Detection name.

Steps to reproduce:

# Add new Detection.
# Save changes and go back to configurations page.
# Compare configuration with changes with In Production configuration.
# Open review details pop up

!MicrosoftTeams-image.png|width=363,height=446!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Nov/23 11:12 AM;712020:3697fc8e-5dd7-4cb6-a5d9-fa9225eaf0ad;MicrosoftTeams-image.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/920826,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,SMUIX-606,SMUI maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i4xz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Ducks For Refinement,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,726511,SMUI maintenance,To Do
Unable to deploy Integrated SMUI,SMUIX-219,440244,,Bug,New,SMUIX,SMUIX,software,Ciaran Finnegan,6414a0cd67102fc717c034d7,,3 - Medium,,,,Ewa Katarzyna Chojnacka,712020:b5b19d07-7c48-4213-a3a9-78e00e8adb21,Ewa Katarzyna Chojnacka,712020:b5b19d07-7c48-4213-a3a9-78e00e8adb21,06/Jul/23 4:42 PM,12/Jul/23 3:06 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,,,Ewa Katarzyna Chojnacka,,,,,,,712020:b5b19d07-7c48-4213-a3a9-78e00e8adb21,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2023-07-06T16:46:50.000+0100"",""dataType"":""repository""},""byInstanceType"":{""stash"":{""count"":1,""name"":""Bitbucket Server""}}}}},""isStale"":true}}",,,,,,,,,,,SMUIX-117,Builds & Deployments,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0l4rh:hu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Ducks For Refinement,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,440186,Builds & Deployments,To Do
Overview tab> ON/OFF not functioning,SMUIX-140,440320,,Bug,New,SMUIX,SMUIX,software,Ciaran Finnegan,6414a0cd67102fc717c034d7,,3 - Medium,,,,Margaret Cashman,712020:d7742f6e-d4d7-4e0a-9227-6466459459c7,Margaret Cashman,712020:d7742f6e-d4d7-4e0a-9227-6466459459c7,06/Jun/23 1:44 PM,03/Nov/23 8:17 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,Non-Qualifying,,,"fixes: [https://netreveal.atlassian.net/browse/FCENG-18533|https://netreveal.atlassian.net/browse/FCENG-18533|smart-link], [https://netreveal.atlassian.net/browse/FCENG-18537|https://netreveal.atlassian.net/browse/FCENG-18537|smart-link], 

For integrated the ability to turn scenarios to active ON/OFF via the Overview tab is not working. i.e. change of active status only visible after Update selected.

This is a UI issue as error appears when UI change is made.

Correct for StandAlone 
Seen in > v9.1 > v9.2 
> check for earlier versions

Unexpected (non-population) beaviour of checkActivationState occurs as follows:
From the SM UI , click on + to create an scenario.
Once the scenario is created in the overview tab turn the scenario ON.
Export the model and check the scenario's checkActivationStates tag.

The export should show:
<checkActivationStates>
<checkActivationState key=""Customer"">
<value>true</value>
</checkActivationState>
</checkActivationStates>

but it shows :
<checkActivationStates>
</checkActivationStates>",,Margaret Cashman,,,,,,,712020:d7742f6e-d4d7-4e0a-9227-6466459459c7,,,,,,,,,,,,,,,,,,,,,,,,COOPRTSP-2319,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,SMUIX-207,Tabs Overview,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0ktk6:r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Ducks Bugs,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,440321,Tabs Overview,To Do
alertTimeBase is not orgUnit aware,NGDEX-350,726544,,Bug,Ready for Build,NGDEX,NGDEX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,Uncategorised,,Attracta Byrne,712020:b31cfd3c-32b2-4121-b59a-0852d812a320,Trevor Murphy,712020:10f8721f-a33d-4a3f-a17b-ceb1dea60e0e,Trevor Murphy,712020:10f8721f-a33d-4a3f-a17b-ceb1dea60e0e,26/Oct/23 1:05 PM,09/Nov/23 2:12 PM,10/Nov/23 6:20 PM,,9.1.0.6,,,,,,,,,SMBD,,,,Standard,,,"When processing in a multi-org environment for an end of period , detection READY_TO_OUTPUT is updated for all detections with that periods alertTimebase , without regard to the OrgUnit .

Failing test pack  attached to [https://netreveal.atlassian.net/browse/FCENGX-959|https://netreveal.atlassian.net/browse/FCENGX-959|smart-link] ",,Eddie Baggott,,,,,,,712020:217d0c7b-0abe-4fba-b017-e69a4261f290,,,,,,,time-tracking;03/Nov/23 3:08 PM;557058:295406f3-a1fc-4733-b906-dd15d021bd79;10800,time-tracking;03/Nov/23 3:08 PM;557058:295406f3-a1fc-4733-b906-dd15d021bd79;21600,,,,,,,,,32400,,,,32400,,,,,,,,,,,,,,,,,,FCENGX-959,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=3}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":3,""lastUpdated"":""2023-11-08T15:16:23.656+0000"",""stateCount"":3,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""stash"":{""count"":3,""name"":""Bitbucket Server""}}}}},""isStale"":true}}",,,,,,,,,,,NGDEX-7,SMBD Support and Maintenance,,,,,,,,,,,,,,,,,,9.1.0.7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2gppn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-11-07 15:30:33.671,,07/Nov/23 3:30 PM;712020:217d0c7b-0abe-4fba-b017-e69a4261f290;is this fixed on spark 3 and spark 2?,,,,,,,,,,,,,,,369561,SMBD Support and Maintenance,In Progress
Error occurs in ODD test with kafka 3.5.0,NGDEX-331,369607,,Bug,Backlog,NGDEX,NGDEX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,Uncategorised,,,,Lorcan Cassidy,712020:2648400f-8710-4ed7-b41d-020399c89d18,Lorcan Cassidy,712020:2648400f-8710-4ed7-b41d-020399c89d18,09/Oct/23 11:54 AM,07/Nov/23 3:48 PM,10/Nov/23 6:20 PM,,,,,,,,,,,RTDE,,,,Standard,,,"Testpack id FCENG-6227_TEST_2 failed during a regression run with the null pointer exception below. See the full log file attached

NOTE: The error appears to be happening randomly as the test has passed previously. This error has not been observed when running against kafka 2.2.1
{code:java}
23/10/06 22:00:27 ERROR Utils: Aborting task
org.apache.spark.SparkRuntimeException: Error while decoding: java.lang.NullPointerException: Null value appeared in non-nullable field:
- array element class: ""double""
- root class: ""scala.collection.Seq""
If the schema is inferred from a Scala tuple/case class, or a Java bean, please try to use scala.Option[_] or other nullable types (e.g. java.lang.Integer instead of int/scala.Int).
mapobjects(lambdavariable(MapObject, DoubleType, true, -1), assertnotnull(lambdavariable(MapObject, DoubleType, true, -1)), input[0, array<double>, true], Some(interface scala.collection.Seq)).
    at org.apache.spark.sql.errors.QueryExecutionErrors$.expressionDecodingError(QueryExecutionErrors.scala:1543) ~[spark-catalyst_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$Deserializer.apply(ExpressionEncoder.scala:171) ~[spark-catalyst_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.sql.catalyst.expressions.ScalaUDF.$anonfun$scalaConverter$2(ScalaUDF.scala:169) ~[spark-catalyst_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.writeFields_0_2$(Unknown Source) ~[?:?]
    at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.apply(Unknown Source) ~[?:?]
    at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.apply(Unknown Source) ~[?:?]
    at scala.collection.Iterator$$anon$10.next(Iterator.scala:461) ~[scala-library-2.12.17.jar:?]
    at scala.collection.Iterator$$anon$10.next(Iterator.scala:461) ~[scala-library-2.12.17.jar:?]
    at org.apache.spark.sql.execution.datasources.v2.WritingSparkTask.$anonfun$run$1(WriteToDataSourceV2Exec.scala:471) ~[spark-sql_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.util.Utils$.tryWithSafeFinallyAndFailureCallbacks(Utils.scala:1563) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.sql.execution.datasources.v2.WritingSparkTask.run(WriteToDataSourceV2Exec.scala:509) ~[spark-sql_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.sql.execution.datasources.v2.WritingSparkTask.run$(WriteToDataSourceV2Exec.scala:448) ~[spark-sql_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.sql.execution.datasources.v2.DataWritingSparkTask$.run(WriteToDataSourceV2Exec.scala:514) ~[spark-sql_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.sql.execution.datasources.v2.V2TableWriteExec.$anonfun$writeWithV2$2(WriteToDataSourceV2Exec.scala:411) ~[spark-sql_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:92) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.TaskContext.runTaskWithListeners(TaskContext.scala:161) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.scheduler.Task.run(Task.scala:139) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:554) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1529) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:557) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_382]
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_382]
    at java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_382]
Caused by: java.lang.NullPointerException: Null value appeared in non-nullable field:
- array element class: ""double""
- root class: ""scala.collection.Seq""
If the schema is inferred from a Scala tuple/case class, or a Java bean, please try to use scala.Option[_] or other nullable types (e.g. java.lang.Integer instead of int/scala.Int).
    at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificSafeProjection.MapObjects_0$(Unknown Source) ~[?:?]
    at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificSafeProjection.apply(Unknown Source) ~[?:?]
    at org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$Deserializer.apply(ExpressionEncoder.scala:168) ~[spark-catalyst_2.12-3.4.0.jar:3.4.0]
    ... 21 more {code}",,Lorcan Cassidy,Michal Kolaczkowski,,,,,,712020:2648400f-8710-4ed7-b41d-020399c89d18,712020:d4e1c12f-4c7f-42fe-8c91-16d00090f648,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Oct/23 12:02 PM;712020:2648400f-8710-4ed7-b41d-020399c89d18;FCENG-6227_TEST_2.zip;https://netreveal.atlassian.net/rest/api/3/attachment/content/563757,09/Oct/23 11:58 AM;712020:2648400f-8710-4ed7-b41d-020399c89d18;smart.log;https://netreveal.atlassian.net/rest/api/3/attachment/content/563758,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,NGDEX-8,RTDE Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2dcdl:i,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,369529,RTDE Support and Maintenance,To Do
RTDE: Error occurs during model refresh (FileSignalModelRefresher),NGDEX-326,369627,,Bug,In Development,NGDEX,NGDEX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,Uncategorised,,Oleksii Lisun,712020:5eb17c54-8e42-42b5-840e-49bf31dcb250,Lorcan Cassidy,712020:2648400f-8710-4ed7-b41d-020399c89d18,Lorcan Cassidy,712020:2648400f-8710-4ed7-b41d-020399c89d18,06/Oct/23 10:55 AM,27/Oct/23 10:31 AM,10/Nov/23 6:20 PM,,,,,,,,,,,RTDE,,,,Standard,,,"During a regression run with spark 3.4.0, FCENG-21430_TEST_2 failed with the error below
{code:java}
23/10/05 21:52:54 ERROR FileSignalModelRefresher: Processing model cannot be refreshed!
org.apache.spark.sql.AnalysisException: [UNTYPED_SCALA_UDF] You're using untyped Scala UDF, which does not have the input type information. Spark may blindly pass null to the Scala closure with primitive-type argument, and the closure will see the default value of the Java type for the null argument, e.g. `udf((x: Int) => x, IntegerType)`, the result is 0 for null input. To get rid of this error, you could:
1. use typed Scala UDF APIs(without return type parameter), e.g. `udf((x: Int) => x)`.
2. use Java UDF APIs, e.g. `udf(new UDF1[String, Integer] { override def call(s: String): Integer = s.length() }, IntegerType)`, if input types are all non primitive.
3. set ""spark.sql.legacy.allowUntypedScalaUDF"" to ""true"" and use this API with caution.
    at org.apache.spark.sql.errors.QueryCompilationErrors$.usingUntypedScalaUDFError(QueryCompilationErrors.scala:2976) ~[spark-catalyst_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.sql.functions$.udf(functions.scala:5576) ~[spark-sql_2.12-3.4.0.jar:3.4.0]
    at com.netreveal.smart.processing.spark.impl.service.profiling.InlineProfilingService.defineProfilingUdf(InlineProfilingService.scala:116) ~[smart_3.0-9.1.0.5-SNAPSHOT-all.jar:?]
    at com.netreveal.smart.processing.spark.impl.service.profiling.InlineProfilingService.apply(InlineProfilingService.scala:82) ~[smart_3.0-9.1.0.5-SNAPSHOT-all.jar:?]
    at com.netreveal.smart.processing.spark.impl.service.profiling.InlineProfilingService.apply(InlineProfilingService.scala:41) ~[smart_3.0-9.1.0.5-SNAPSHOT-all.jar:?]
    at com.netreveal.smart.processing.spark.AbstractSparkProcessor.executeServiceAction(AbstractSparkProcessor.scala:251) ~[smart_3.0-9.1.0.5-SNAPSHOT-all.jar:?]
    at com.netreveal.smart.processing.spark.AbstractSparkProcessor.$anonfun$buildSingleProcessingQuery$1(AbstractSparkProcessor.scala:247) ~[smart_3.0-9.1.0.5-SNAPSHOT-all.jar:?]
    at scala.collection.LinearSeqOptimized.foldLeft(LinearSeqOptimized.scala:126) ~[scala-library-2.12.17.jar:?]
    at scala.collection.LinearSeqOptimized.foldLeft$(LinearSeqOptimized.scala:122) ~[scala-library-2.12.17.jar:?]
    at scala.collection.immutable.List.foldLeft(List.scala:91) ~[scala-library-2.12.17.jar:?]
    at com.netreveal.smart.processing.spark.AbstractSparkProcessor.buildSingleProcessingQuery(AbstractSparkProcessor.scala:246) ~[smart_3.0-9.1.0.5-SNAPSHOT-all.jar:?]
    at com.netreveal.smart.processing.spark.AbstractSparkProcessor.buildProcess(AbstractSparkProcessor.scala:121) ~[smart_3.0-9.1.0.5-SNAPSHOT-all.jar:?]
    at com.netreveal.smart.processing.spark.AbstractSparkProcessor.$anonfun$inThreadBuildProcesses$3(AbstractSparkProcessor.scala:97) ~[smart_3.0-9.1.0.5-SNAPSHOT-all.jar:?]
    at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23) ~[scala-library-2.12.17.jar:?]
    at scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659) ~[scala-library-2.12.17.jar:?]
    at scala.util.Success.$anonfun$map$1(Try.scala:255) ~[scala-library-2.12.17.jar:?]
    at scala.util.Success.map(Try.scala:213) ~[scala-library-2.12.17.jar:?]
    at scala.concurrent.Future.$anonfun$map$1(Future.scala:292) ~[scala-library-2.12.17.jar:?]
    at scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33) ~[scala-library-2.12.17.jar:?]
    at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33) ~[scala-library-2.12.17.jar:?]
    at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64) ~[scala-library-2.12.17.jar:?]
    at java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402) ~[?:1.8.0_382]
    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289) ~[?:1.8.0_382]
    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056) ~[?:1.8.0_382]
    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692) ~[?:1.8.0_382]
    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175) ~[?:1.8.0_382] {code}
see full log file attached.

 

This error appears randomly when running on spark 3.4.0 and kafka 2.2.1 or kafka 3.5.0.",,Lorcan Cassidy,,,,,,,712020:2648400f-8710-4ed7-b41d-020399c89d18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FCENGX-887,,,,NGDEX-103,,,,,,,,,,,06/Oct/23 10:58 AM;712020:2648400f-8710-4ed7-b41d-020399c89d18;FCENG-21430_TEST_2.zip;https://netreveal.atlassian.net/rest/api/3/attachment/content/563760,13/Oct/23 7:14 AM;712020:2648400f-8710-4ed7-b41d-020399c89d18;FCENG-9947_TEST_1_smart.log;https://netreveal.atlassian.net/rest/api/3/attachment/content/563761,06/Oct/23 10:56 AM;712020:2648400f-8710-4ed7-b41d-020399c89d18;smart.log;https://netreveal.atlassian.net/rest/api/3/attachment/content/563762,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,NGDEX-11,RTDE Support for Spark 3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2ha1b:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Oct/23 7:12 AM;712020:2648400f-8710-4ed7-b41d-020399c89d18;During a regression run on 12/10/2023, the error occurred with testpack id FCENG-9947_TEST_1.",,,,,,,,,,,,,,,369703,RTDE Support for Spark 3,In Progress
RTDE: SqlProfileWriter fails to create destination table when running on Postgres,NGDEX-279,369722,,Bug,In Development,NGDEX,NGDEX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,Uncategorised,,Ksawery Baranowski,712020:bf49f311-015d-4105-96cb-8ee7ce384a47,Lorcan Cassidy,712020:2648400f-8710-4ed7-b41d-020399c89d18,Lorcan Cassidy,712020:2648400f-8710-4ed7-b41d-020399c89d18,19/Sep/23 1:39 PM,07/Nov/23 3:16 PM,10/Nov/23 6:20 PM,,,,,,,,,,,RTDE,,,,Standard,,,"Use the attached testpack to reproduce the error below. 

This test runs fine when using Oracle database and OracleProfileWriter class.

When this testpack was configured to run using Postgres db and JdbcProfileWriter class, it fails with this error.
{code:java}
Exception in thread ""main"" java.lang.Exception: Profile Table 'RTDE_PROFILES_STORE' cannot be initialized in SQL database!
        at com.netreveal.resources.impl.writers.sql.JdbcProfileWriter$$anonfun$executeCreateTable$3.apply(JdbcProfileWriter.scala:100)
        at com.netreveal.resources.impl.writers.sql.JdbcProfileWriter$$anonfun$executeCreateTable$3.apply(JdbcProfileWriter.scala:100)
        at com.netreveal.utils.TryWithResources$.apply(TryWithResources.scala:22)
        at com.netreveal.utils.TryWithResources$.apply(TryWithResources.scala:33)
        at com.netreveal.resources.impl.writers.sql.JdbcProfileWriter.executeCreateTable(JdbcProfileWriter.scala:88)
        at com.netreveal.resources.impl.writers.sql.JdbcProfileWriter.initializeProfileTables(JdbcProfileWriter.scala:63)
        at com.netreveal.smart.processing.spark.impl.service.sink.DataSink.apply(DataSink.scala:40)
        at com.netreveal.smart.processing.spark.impl.service.sink.DataSink.apply(DataSink.scala:28)
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor.com$netreveal$smart$processing$spark$AbstractSparkProcessor$$executeServiceAction(AbstractSparkProcessor.scala:251)
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor$$anonfun$buildSingleProcessingQuery$1.apply(AbstractSparkProcessor.scala:246)
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor$$anonfun$buildSingleProcessingQuery$1.apply(AbstractSparkProcessor.scala:246)
        at scala.collection.LinearSeqOptimized$class.foldLeft(LinearSeqOptimized.scala:124)
        at scala.collection.immutable.List.foldLeft(List.scala:84)
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor.buildSingleProcessingQuery(AbstractSparkProcessor.scala:246)
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor.com$netreveal$smart$processing$spark$AbstractSparkProcessor$$buildProcess(AbstractSparkProcessor.scala:121)
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor$$anonfun$inThreadBuildProcesses$2$$anonfun$apply$1.apply$mcV$sp(AbstractSparkProcessor.scala:97)
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor$$anonfun$inThreadBuildProcesses$2$$anonfun$apply$1.apply(AbstractSparkProcessor.scala:97)
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor$$anonfun$inThreadBuildProcesses$2$$anonfun$apply$1.apply(AbstractSparkProcessor.scala:97)
        at scala.concurrent.impl.Future$PromiseCompletingRunnable.liftedTree1$1(Future.scala:24)
        at scala.concurrent.impl.Future$PromiseCompletingRunnable.run(Future.scala:24)
        at scala.concurrent.impl.ExecutionContextImpl$AdaptedForkJoinTask.exec(ExecutionContextImpl.scala:121)
        at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
        at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)
        at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
        at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)
Caused by: org.postgresql.util.PSQLException: ERROR: type ""string"" does not exist
  Position: 59
        at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)
        at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)
        at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)
        at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)
        at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)
        at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:311)
        at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:297)
        at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:274)
        at org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:246)
        at com.netreveal.resources.impl.writers.sql.JdbcProfileWriter$$anonfun$executeCreateTable$2.apply(JdbcProfileWriter.scala:97)
        at com.netreveal.resources.impl.writers.sql.JdbcProfileWriter$$anonfun$executeCreateTable$2.apply(JdbcProfileWriter.scala:89)
        at com.netreveal.utils.TryWithResources$.apply(TryWithResources.scala:24)
        ... 22 more
 {code}
I've tried various combinations to get this working with resource changes in conf/environment.conf (resources: SqlLiteLookupJdbcConnection and ProfileStoreJdbcConnection) but the same error occurs.",,Lorcan Cassidy,,,,,,,712020:2648400f-8710-4ed7-b41d-020399c89d18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Sep/23 1:39 PM;712020:2648400f-8710-4ed7-b41d-020399c89d18;FCENG-21191_TEST_4.zip;https://netreveal.atlassian.net/rest/api/3/attachment/content/563753,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,NGDEX-8,RTDE Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2gppr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,369529,RTDE Support and Maintenance,In Progress
Wrong memory profile field values used during detection,NGDEX-276,369520,,Bug,Ready for Build,NGDEX,NGDEX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,Uncategorised,,Bartlomiej Jan Niemienionek,712020:e5dbcb12-9bec-4640-b290-55f39484a829,Bartlomiej Jan Niemienionek,712020:e5dbcb12-9bec-4640-b290-55f39484a829,Bartlomiej Jan Niemienionek,712020:e5dbcb12-9bec-4640-b290-55f39484a829,18/Sep/23 1:30 PM,05/Oct/23 7:55 AM,10/Nov/23 6:20 PM,,,,,,,,,,,SMBD,,,,Non-Qualifying,Standard,,"Detailed description in FCENGX-447.

smbd.profile.field.memory.skipPresentDay = true
smbd.detection.profileReader.mode=storage (default value)

1. For weekly and monthly memory profile field values from precent period (week, month) are missing
2. For weekly and monthly memory profile field with expiration numer of periods set to 1 values from present lifetime are missing, values from previous period are used instead.

Possible root cause:
ProfileElementFunctions.*smartMemorySkipPresentDay* - it seems that function skips present period not only present day
ProfileElementFunctions.*getNextElementLifetime* - instead of present suffix it adds past0 - as result we may have values from past week/month instead of present week/month without present day ",,Bartlomiej Jan Niemienionek,,,,,,,712020:e5dbcb12-9bec-4640-b290-55f39484a829,,,,,,,Working on issue NGDEX-276;25/Sep/23 10:06 AM;712020:e5dbcb12-9bec-4640-b290-55f39484a829;3600,Working on issue NGDEX-276;25/Sep/23 10:06 AM;712020:e5dbcb12-9bec-4640-b290-55f39484a829;10800,Working on issue NGDEX-276;25/Sep/23 10:06 AM;712020:e5dbcb12-9bec-4640-b290-55f39484a829;10800,Working on issue NGDEX-276;25/Sep/23 10:06 AM;712020:e5dbcb12-9bec-4640-b290-55f39484a829;10800,Working on issue NGDEX-276;25/Sep/23 10:06 AM;712020:e5dbcb12-9bec-4640-b290-55f39484a829;7200,,,,,,43200,,,,57600,,,,,,,,,,,,,FCENGX-447,,,,,,,,,,NGDEX-271,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,NGDEX-7,SMBD Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2gobz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,369561,SMBD Support and Maintenance,In Progress
Could not find EpochCoordinator - random error,NGDEX-264,369661,,Bug,In Development,NGDEX,NGDEX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,Uncategorised,,Hao Guan,712020:e56afb2b-e863-4fb9-a376-6a8add99daed,Lukasz Sobczuk,712020:43e45091-431d-4afa-a383-b38bc5c916d8,Lukasz Sobczuk,712020:43e45091-431d-4afa-a383-b38bc5c916d8,12/Sep/23 7:23 AM,01/Nov/23 12:38 PM,10/Nov/23 6:20 PM,,,,,,,,,,,RTDE,,,,Standard,,,"This spark error is appearing randomly during spark 3 regression testing in the smart.log. 

Why is it happening and can we do anything about it. When it happens, the test fails with log file error checking (Error checking the smbd log is built into all QA tests).

 
{code:java}
23/09/11 15:05:58 ERROR Utils: Aborting task
org.apache.spark.SparkException: Could not find EpochCoordinator-9280d4bb-91fe-4d1e-90b3-fa3c14a1954e--a7f3d2e5-e1cc-4c06-a358-513d083d58c2.
    at org.apache.spark.rpc.netty.Dispatcher.postMessage(Dispatcher.scala:178) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.rpc.netty.Dispatcher.postOneWayMessage(Dispatcher.scala:150) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.rpc.netty.NettyRpcEnv.send(NettyRpcEnv.scala:193) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.rpc.netty.NettyRpcEndpointRef.send(NettyRpcEnv.scala:563) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.sql.execution.streaming.continuous.ContinuousQueuedDataReader.next(ContinuousQueuedDataReader.scala:119) ~[spark-sql_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.sql.execution.streaming.continuous.ContinuousDataSourceRDD$$anon$1.getNext(ContinuousDataSourceRDD.scala:102) ~[spark-sql_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.sql.execution.streaming.continuous.ContinuousDataSourceRDD$$anon$1.getNext(ContinuousDataSourceRDD.scala:94) ~[spark-sql_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.util.NextIterator.hasNext(NextIterator.scala:73) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460) ~[scala-library-2.12.17.jar:?]
    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460) ~[scala-library-2.12.17.jar:?]
    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460) ~[scala-library-2.12.17.jar:?]
    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460) ~[scala-library-2.12.17.jar:?]
    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460) ~[scala-library-2.12.17.jar:?]
    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460) ~[scala-library-2.12.17.jar:?]
    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460) ~[scala-library-2.12.17.jar:?]
    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460) ~[scala-library-2.12.17.jar:?]
    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460) ~[scala-library-2.12.17.jar:?]
    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460) ~[scala-library-2.12.17.jar:?]
    at org.apache.spark.sql.execution.streaming.continuous.ContinuousWriteRDD.$anonfun$compute$1(ContinuousWriteRDD.scala:60) ~[spark-sql_2.12-3.4.0.jar:3.4.0]
    at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23) ~[scala-library-2.12.17.jar:?]
    at org.apache.spark.util.Utils$.tryWithSafeFinallyAndFailureCallbacks(Utils.scala:1563) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.sql.execution.streaming.continuous.ContinuousWriteRDD.compute(ContinuousWriteRDD.scala:91) ~[spark-sql_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:364) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.rdd.RDD.iterator(RDD.scala:328) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:92) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.TaskContext.runTaskWithListeners(TaskContext.scala:161) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.scheduler.Task.run(Task.scala:139) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:554) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1529) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:557) ~[spark-core_2.12-3.4.0.jar:3.4.0]
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_382]
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_382]
    at java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_382] {code}",,Lukasz Sobczuk,,,,,,,712020:43e45091-431d-4afa-a383-b38bc5c916d8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{pullrequest={dataType=pullrequest, state=OPEN, stateCount=2}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":2,""lastUpdated"":""2023-11-09T16:53:01.533+0000"",""stateCount"":2,""state"":""OPEN"",""dataType"":""pullrequest"",""open"":true},""byInstanceType"":{""stash"":{""count"":2,""name"":""Bitbucket Server""}}}}},""isStale"":true}}",,,,,,,,,,,NGDEX-11,RTDE Support for Spark 3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2ggzb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,369703,RTDE Support for Spark 3,In Progress
RTDE 2.4.4 test pack failing with: java.nio.charset.MalformedInputException: Input length = 1,NGDEX-255,369802,,Bug,In Regression,NGDEX,NGDEX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,Uncategorised,,Ksawery Baranowski,712020:bf49f311-015d-4105-96cb-8ee7ce384a47,Lukasz Sobczuk,712020:43e45091-431d-4afa-a383-b38bc5c916d8,Lukasz Sobczuk,712020:43e45091-431d-4afa-a383-b38bc5c916d8,04/Sep/23 10:06 AM,09/Nov/23 12:48 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,Standard,,,"FCENG_20363_TEST_1 is failing on AMI instance when run in isolation with:

 

Exception in thread ""main"" java.nio.charset.MalformedInputException: Input length = 1
        at java.nio.charset.CoderResult.throwException(CoderResult.java:281)
        at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:339)
        at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)
        at java.io.InputStreamReader.read(InputStreamReader.java:184)
        at java.io.BufferedReader.fill(BufferedReader.java:161)
        at java.io.BufferedReader.readLine(BufferedReader.java:324)
        at java.io.BufferedReader.readLine(BufferedReader.java:389)
        at scala.io.BufferedSource$BufferedLineIterator.hasNext(BufferedSource.scala:72)
        at scala.collection.Iterator$$anon$13.hasNext(Iterator.scala:462)
        at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:409)
        at scala.collection.Iterator$$anon$13.hasNext(Iterator.scala:462)
        at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:409)
        at scala.collection.Iterator$class.foreach(Iterator.scala:891)
        at scala.collection.AbstractIterator.foreach(Iterator.scala:1334)
        at scala.collection.TraversableOnce$class.toMap(TraversableOnce.scala:316)
        at scala.collection.AbstractIterator.toMap(Iterator.scala:1334)
        at com.netreveal.smart.scenariomanager.processingmodel.lists.info.FileSharedListLoader.loadMainFile(FileSharedListLoader.scala:41)
        at com.netreveal.smart.scenariomanager.processingmodel.lists.info.FileSharedListLoader.load(FileSharedListLoader.scala:30)
        at com.netreveal.smart.scenariomanager.processingmodel.SMProcessingModel.getSharedList(SMProcessingModel.scala:239)
        at com.netreveal.smart.scenariomanager.processingmodel.SMProcessingModel.<init>(SMProcessingModel.scala:52)
        at com.netreveal.smart.common.processingmodel.ProcessingModelFactory.getProcessingModel(ProcessingModelFactory.scala:34)
        at com.netreveal.smart.common.configuration.ConfigBundle$.loadProcessingModel(ConfigBundle.scala:246)
        at com.netreveal.smart.common.configuration.ConfigBundle$.init(ConfigBundle.scala:79)
        at com.netreveal.smart.base.Smart$.main(Smart.scala:28)
        at com.netreveal.smart.base.Smart.main(Smart.scala)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:498)
        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)
        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:845)
        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:161)
        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:184)
        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:86)
        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:920)
        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:929)
        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)",,Lukasz Sobczuk,,,,,,,712020:43e45091-431d-4afa-a383-b38bc5c916d8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2023-11-09T12:48:14.462+0000"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""stash"":{""count"":1,""name"":""Bitbucket Server""}}}}},""isStale"":true}}",,,,,,,,,,,NGDEX-8,RTDE Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2g85b:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,369529,RTDE Support and Maintenance,In Progress
"Identify root cause of ""[ISP] Wrong score in CDD and NumberFormatException in score calculation""",NGDEX-245,369531,,Bug,New,NGDEX,NGDEX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,Uncategorised,,,,Deirdre Flanagan,712020:ac18b887-d633-462b-af6c-267e342aa2fd,Deirdre Flanagan,712020:ac18b887-d633-462b-af6c-267e342aa2fd,18/Aug/23 10:58 AM,07/Nov/23 3:48 PM,10/Nov/23 6:20 PM,,,,,,,,,,,RTDE,,,,Standard,,,"Identify and resolve the root cause of the issue in NGDEX-233 - [ISP] Wrong score in CDD and NumberFormatException in score calculation.

A release was done for ISP of NGDEX-233 which was a workaround fix to handle the NumberFormatException and return 0.0 instead.

However the root cause of the value ""(0)"" that causes the NumberFormatException  is still not known and should be investigated and resolved. 

ISP Configuration is attached to the NGDEX-233 ticket. We should try to set up a local environment with this config to try to reproduce it locally. 

We should also create a QA pack to cover this issue. ",,Deirdre Flanagan,,,,,,,712020:ac18b887-d633-462b-af6c-267e342aa2fd,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NGDEX-233,,,,,,,,,,,,,,NGDEX-230,ISPFBGEPX-5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,NGDEX-8,RTDE Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2dcdl:r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,369529,RTDE Support and Maintenance,To Do
Alert weight as string,NGDEX-227,369505,,Bug,New,NGDEX,NGDEX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,Uncategorised,,,,Bartlomiej Jan Niemienionek,712020:e5dbcb12-9bec-4640-b290-55f39484a829,Bartlomiej Jan Niemienionek,712020:e5dbcb12-9bec-4640-b290-55f39484a829,08/Aug/23 10:52 AM,07/Nov/23 11:22 AM,10/Nov/23 6:20 PM,,,,,,,,,,,SMBD,,,,Non-Qualifying,Standard,,"+Type casting issue in Scoring calculator+

2023-08-03 11:55:00,506 INFO [ViewSuppressionGenerator (ViewSuppressionGenerator.scala:55)] Suppressing any alerts generated with the following profileKeys for entity and view: Customer_Client
2023-08-03 11:55:12,504 ERROR [DetectionLogic (DetectionLogic.scala:172)] An error occurred: skipping current scenario Regel 131 Transaktionen mit Hochrisikolaender Kategorie 4: java.lang.String cannot be cast to java.lang.Double
2023-08-03 11:55:12,505 DEBUG [DetectionLogic (DetectionLogic.scala:173)] Error in scenario Regel 131 Transaktionen mit Hochrisikolaender Kategorie 4
java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Double
    at scala.runtime.BoxesRunTime.unboxToDouble(BoxesRunTime.java:114)
    at org.apache.spark.sql.Row$class.getDouble(Row.scala:248)
    at org.apache.spark.sql.catalyst.expressions.GenericRow.getDouble(rows.scala:166)
    at com.netreveal.sparkprofiler.alerts.scoring.ScoringCalculator$$anonfun$scoreAlerts$1$$anonfun$5.apply(ScoringCalculator.scala:52)
    at com.netreveal.sparkprofiler.alerts.scoring.ScoringCalculator$$anonfun$scoreAlerts$1$$anonfun$5.apply(ScoringCalculator.scala:52)

 

+Scenario weight definition+

IFTHENELSE(( LENGTH(Regel131AlertRunDate.value)=0 ),
(NonCashHRC4Amount4w.acc.week.present+
NonCashHRC4Amount4w.acc.week.past1+
NonCashHRC4Amount4w.acc.week.past2+
NonCashHRC4Amount4w.acc.week.past3),
( NonCashHRC4Amount4w.acc.week.present
+ IFTHENELSE((DAYDIFF(TransactionTxnDate.value, 
Regel131AlertRunDate.value) > 7), 
(NonCashHRC4Amount4w.acc.week.past1), (0))
+ IFTHENELSE((DAYDIFF(TransactionTxnDate.value, 
Regel131AlertRunDate.value) > 14), 
(NonCashHRC4Amount4w.acc.week.past2), (0))
+ IFTHENELSE((DAYDIFF(TransactionTxnDate.value, 
Regel131AlertRunDate.value) > 21), 
(NonCashHRC4Amount4w.acc.week.past3), (0))
))

+Investigation outcome:+

SMBD is not ensuring that the result of weight expression is number. But is expecting to have numeric value and type in that field. I recommend to add cast operation when applying weight definition.

 

+Workaround:+

Add ""0.0 + "" as part of the weight definition in impacted scenario.",,Bartlomiej Jan Niemienionek,Ewa Jedrzak,,,,,,712020:e5dbcb12-9bec-4640-b290-55f39484a829,712020:58d75679-efca-4b7f-8a6f-e3b806c5a939,,,,,,Working on issue NGDEX-227;08/Aug/23 10:58 AM;712020:e5dbcb12-9bec-4640-b290-55f39484a829;10800,Working on issue NGDEX-227;08/Aug/23 10:58 AM;712020:e5dbcb12-9bec-4640-b290-55f39484a829;10800,Working on issue NGDEX-227;08/Aug/23 10:59 AM;712020:e5dbcb12-9bec-4640-b290-55f39484a829;7200,Working on issue NGDEX-227;08/Aug/23 10:59 AM;712020:e5dbcb12-9bec-4640-b290-55f39484a829;7200,,,,,,,36000,,,,36000,,,ZKBAMLCDD-1502,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Aug/23 3:21 PM;712020:58d75679-efca-4b7f-8a6f-e3b806c5a939;Configuration_3801.zip;https://netreveal.atlassian.net/rest/api/3/attachment/content/563780,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2023-08-08T11:01:20.000+0100"",""dataType"":""repository""},""byInstanceType"":{""stash"":{""count"":1,""name"":""Bitbucket Server""}}}}},""isStale"":true}}",,,,,,,,,,,NGDEX-7,SMBD Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i0vn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-08-09 14:26:49.727,,"09/Aug/23 3:26 PM;712020:58d75679-efca-4b7f-8a6f-e3b806c5a939;the issue found on 9.1.0.2 and 9.1.0.4.

Currently there are 9 impacted scenarios in ZKB AML config.",,,,,,,,,,,,,,,369561,SMBD Support and Maintenance,To Do
RTDE cluster testing error: java.lang.NoClassDefFoundError: org/ehcache/config/builders/CacheManagerBuilder,NGDEX-205,369782,,Bug,Selected for Development,NGDEX,NGDEX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,Uncategorised,,,,Lorcan Cassidy,712020:2648400f-8710-4ed7-b41d-020399c89d18,Lorcan Cassidy,712020:2648400f-8710-4ed7-b41d-020399c89d18,27/Jul/23 11:53 AM,09/Nov/23 1:14 PM,10/Nov/23 6:20 PM,,,,,,,,,,,RTDE,,,,ORT_issues,Standard,,"During an RTDE regression run on spark standalone cluster, this error is observed while running a few testpacks

 
{code:java}
23/07/27 10:20:15 INFO SparkProcessor: RTDE status: READY
23/07/27 10:20:16 INFO SparkContext: Starting job: start at SparkOutputStreamToStreamBuilder.scala:29
23/07/27 10:20:16 INFO SparkContext: Starting job: start at SparkOutputStreamToStreamBuilder.scala:29
23/07/27 10:20:16 INFO SparkContext: Starting job: start at SparkOutputStreamToStreamBuilder.scala:29
23/07/27 10:20:16 INFO DAGScheduler: Job 4 finished: start at SparkOutputStreamToStreamBuilder.scala:29, took 0.000672 s
23/07/27 10:20:16 INFO DAGScheduler: Job 5 finished: start at SparkOutputStreamToStreamBuilder.scala:29, took 0.000617 s
23/07/27 10:20:16 INFO DAGScheduler: Job 3 finished: start at SparkOutputStreamToStreamBuilder.scala:29, took 0.000708 s
23/07/27 10:20:16 INFO SparkContext: Starting job: start at SparkOutputStreamToStreamBuilder.scala:29
23/07/27 10:20:16 INFO SparkContext: Starting job: start at SparkOutputStreamToStreamBuilder.scala:29
23/07/27 10:20:16 INFO SparkContext: Starting job: start at SparkOutputStreamToStreamBuilder.scala:29
23/07/27 10:20:16 INFO DAGScheduler: Job 6 finished: start at SparkOutputStreamToStreamBuilder.scala:29, took 0.000041 s
23/07/27 10:20:16 INFO DAGScheduler: Job 7 finished: start at SparkOutputStreamToStreamBuilder.scala:29, took 0.000023 s
23/07/27 10:20:16 INFO DAGScheduler: Job 8 finished: start at SparkOutputStreamToStreamBuilder.scala:29, took 0.000017 s
23/07/27 10:20:40 WARN TaskSetManager: Lost task 0.0 in stage 1.0 (TID 1, 10.222.2.202, executor 0): java.lang.NoClassDefFoundError: org/ehcache/config/builders/CacheManagerBuilder
    at com.netreveal.resources.impl.cache.NearCacheManager.init(NearCacheManager.scala:19)
    at com.netreveal.smart.common.utils.resources.SmartResourceManager$$anonfun$8.apply(SmartResourceManager.scala:123)
    at com.netreveal.smart.common.utils.resources.SmartResourceManager$$anonfun$8.apply(SmartResourceManager.scala:120)
    at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)
    at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)
    at scala.collection.immutable.List.foreach(List.scala:392)
    at scala.collection.TraversableLike$class.map(TraversableLike.scala:234)
    at scala.collection.immutable.List.map(List.scala:296)
    at com.netreveal.smart.common.utils.resources.SmartResourceManager.initAllResources(SmartResourceManager.scala:120)
    at com.netreveal.smart.common.utils.resources.SmartResourceManager.createAndInitResources(SmartResourceManager.scala:69)
    at com.netreveal.smart.common.utils.resources.SmartResourceManager.<init>(SmartResourceManager.scala:60)
    at com.netreveal.smart.common.utils.resources.SmartResourceManager$.getInstance(SmartResourceManager.scala:191)
    at com.netreveal.smart.processing.spark.impl.service.parser.SparkBinaryRowParser$$anonfun$1.apply(SparkBinaryRowParser.scala:46)
    at com.netreveal.smart.processing.spark.impl.service.parser.SparkBinaryRowParser$$anonfun$1.apply(SparkBinaryRowParser.scala:44)
    at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.ScalaUDF_0$(Unknown Source)
    at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.writeFields_1_0$(Unknown Source)
    at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.apply(Unknown Source)
    at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.apply(Unknown Source)
    at scala.collection.Iterator$$anon$11.next(Iterator.scala:410)
    at scala.collection.Iterator$$anon$11.next(Iterator.scala:410)
    at scala.collection.Iterator$$anon$11.next(Iterator.scala:410)
    at scala.collection.Iterator$$anon$11.next(Iterator.scala:410)
    at scala.collection.Iterator$$anon$11.next(Iterator.scala:410)
    at scala.collection.Iterator$$anon$11.next(Iterator.scala:410)
    at scala.collection.Iterator$$anon$11.next(Iterator.scala:410)
    at scala.collection.Iterator$$anon$11.next(Iterator.scala:410)
    at scala.collection.Iterator$$anon$11.next(Iterator.scala:410)
    at scala.collection.Iterator$$anon$11.next(Iterator.scala:410)
    at scala.collection.Iterator$$anon$11.next(Iterator.scala:410)
    at org.apache.spark.sql.execution.streaming.continuous.ContinuousWriteRDD$$anonfun$compute$1.apply$mcV$sp(ContinuousWriteRDD.scala:58)
    at org.apache.spark.sql.execution.streaming.continuous.ContinuousWriteRDD$$anonfun$compute$1.apply(ContinuousWriteRDD.scala:51)
    at org.apache.spark.sql.execution.streaming.continuous.ContinuousWriteRDD$$anonfun$compute$1.apply(ContinuousWriteRDD.scala:51)
    at org.apache.spark.util.Utils$.tryWithSafeFinallyAndFailureCallbacks(Utils.scala:1394)
    at org.apache.spark.sql.execution.streaming.continuous.ContinuousWriteRDD.compute(ContinuousWriteRDD.scala:76)
    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:324)
    at org.apache.spark.rdd.RDD.iterator(RDD.scala:288)
    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)
    at org.apache.spark.scheduler.Task.run(Task.scala:123)
    at org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)
    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360)
    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
    at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.ClassNotFoundException: org.ehcache.config.builders.CacheManagerBuilder
    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)
    ... 44 more {code}",,Lorcan Cassidy,,,,,,,712020:2648400f-8710-4ed7-b41d-020399c89d18,,,,,,,Working on issue NGDEX-205;27/Jul/23 12:12 PM;712020:2648400f-8710-4ed7-b41d-020399c89d18;10800,Working on issue NGDEX-205;31/Jul/23 4:25 PM;712020:2648400f-8710-4ed7-b41d-020399c89d18;21600,,,,,,,,,32400,,,,32400,,,NGDEX-338,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,NGDEX-203,RTDE : Performance Reliability Resilience,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2f84v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Jul/23 12:12 PM;712020:2648400f-8710-4ed7-b41d-020399c89d18;The error appears to be occurring sporadically. I've re-tested this with testpack id FCENG-15969_TEST_1. Some times it's passing, on other attempts, this test and other tests are throwing this error.",,,,,,,,,,,,,,,369783,RTDE : Performance Reliability Resilience,To Do
NGDE tests failing on spark 3,NGDEX-200,369518,,Bug,Ready for Build,NGDEX,NGDEX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,Uncategorised,,Ksawery Baranowski,712020:bf49f311-015d-4105-96cb-8ee7ce384a47,Lukasz Sobczuk,712020:43e45091-431d-4afa-a383-b38bc5c916d8,Lukasz Sobczuk,712020:43e45091-431d-4afa-a383-b38bc5c916d8,26/Jul/23 10:53 AM,20/Sep/23 10:05 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,Standard,,,"FCENG-20363_TEST_1, NGDE-171_TEST_1, NGDE-171_TEST_2, FCENG-20498_TEST_1, FCENG-20498_TEST_2, FCENG-20498_TEST_3 tests are failing with:

 

Exception in thread ""main"" java.lang.NoClassDefFoundError: scala/Product$class
    at com.netreveal.smart.processing.spark.session.SmartSession$SmartSessionExtensions.<init>(SmartSession.scala:91)
    at com.netreveal.smart.processing.spark.session.SmartSession$SmartSessionExtensions$.apply(SmartSession.scala:91)
    at com.netreveal.smart.processing.spark.session.SmartSession$SmartSessionExtensions$.apply(SmartSession.scala:91)
    at org.apache.spark.sql.SparkSessionExtensions.$anonfun$buildResolutionRules$1(SparkSessionExtensions.scala:175)
    at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)
    at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)
    at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)
    at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)
    at scala.collection.TraversableLike.map(TraversableLike.scala:286)
    at scala.collection.TraversableLike.map$(TraversableLike.scala:279)
    at scala.collection.AbstractTraversable.map(Traversable.scala:108)
    at org.apache.spark.sql.SparkSessionExtensions.buildResolutionRules(SparkSessionExtensions.scala:175)
    at org.apache.spark.sql.internal.BaseSessionStateBuilder.customResolutionRules(BaseSessionStateBuilder.scala:219)
    at org.apache.spark.sql.hive.HiveSessionStateBuilder$$anon$1.<init>(HiveSessionStateBuilder.scala:95)
    at org.apache.spark.sql.hive.HiveSessionStateBuilder.analyzer(HiveSessionStateBuilder.scala:85)
    at org.apache.spark.sql.internal.BaseSessionStateBuilder.$anonfun$build$2(BaseSessionStateBuilder.scala:369)
    at org.apache.spark.sql.internal.SessionState.analyzer$lzycompute(SessionState.scala:89)
    at org.apache.spark.sql.internal.SessionState.analyzer(SessionState.scala:89)
    at org.apache.spark.sql.execution.QueryExecution.$anonfun$analyzed$1(QueryExecution.scala:76)
    at org.apache.spark.sql.catalyst.QueryPlanningTracker.measurePhase(QueryPlanningTracker.scala:111)
    at org.apache.spark.sql.execution.QueryExecution.$anonfun$executePhase$2(QueryExecution.scala:202)
    at org.apache.spark.sql.execution.QueryExecution$.withInternalError(QueryExecution.scala:526)
    at org.apache.spark.sql.execution.QueryExecution.$anonfun$executePhase$1(QueryExecution.scala:202)
    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:827)
    at org.apache.spark.sql.execution.QueryExecution.executePhase(QueryExecution.scala:201)
    at org.apache.spark.sql.execution.QueryExecution.analyzed$lzycompute(QueryExecution.scala:76)
    at org.apache.spark.sql.execution.QueryExecution.analyzed(QueryExecution.scala:74)
    at org.apache.spark.sql.execution.QueryExecution.assertAnalyzed(QueryExecution.scala:66)
    at org.apache.spark.sql.Dataset$.$anonfun$ofRows$2(Dataset.scala:98)
    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:827)
    at org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:96)
    at org.apache.spark.sql.SparkSession.$anonfun$sql$1(SparkSession.scala:640)
    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:827)
    at org.apache.spark.sql.SparkSession.sql(SparkSession.scala:630)
    at org.apache.spark.sql.SparkSession.sql(SparkSession.scala:671)
    at com.netreveal.smart.processing.spark.session.SmartSession$.buildSparkSession(SmartSession.scala:36)
    at com.netreveal.smart.processing.spark.session.SmartSession$.<init>(SmartSession.scala:19)
    at com.netreveal.smart.processing.spark.session.SmartSession$.<clinit>(SmartSession.scala)
    at com.netreveal.rtde.runner.RtdeProcessService.close(RtdeProcessService.scala:54)
    at com.netreveal.detectionengine.utils.TryWithResources$.apply(TryWithResources.scala:24)
    at com.netreveal.processor.SmbdProcessor.runService(SmbdProcessor.scala:87)
    at com.netreveal.processor.SmbdProcessor.$anonfun$runProcess$1(SmbdProcessor.scala:67)
    at com.netreveal.detectionengine.utils.collections.implicits$SeqExt.mapWhile(implicits.scala:14)
    at com.netreveal.detectionengine.utils.collections.implicits$SeqExt.mapWhile(implicits.scala:16)
    at com.netreveal.detectionengine.utils.collections.implicits$SeqExt.mapWhile(implicits.scala:16)
    at com.netreveal.processor.SmbdProcessor.runProcess(SmbdProcessor.scala:65)
    at com.netreveal.processor.SmbdProcessor.$anonfun$process$4(SmbdProcessor.scala:45)
    at scala.collection.immutable.List.flatMap(List.scala:366)
    at com.netreveal.processor.SmbdProcessor.$anonfun$process$3(SmbdProcessor.scala:42)
    at scala.collection.immutable.List.flatMap(List.scala:366)
    at com.netreveal.processor.SmbdProcessor.process(SmbdProcessor.scala:41)
    at com.netreveal.processor.SmbdProcessorRunner$.main(SmbdProcessorRunner.scala:34)
    at com.netreveal.processor.SmbdProcessorRunner.main(SmbdProcessorRunner.scala)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)
    at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:1020)
    at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:192)
    at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:215)
    at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:91)
    at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1111)
    at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1120)
    at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)
Caused by: java.lang.ClassNotFoundException: scala.Product$class
    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)",,Ksawery Baranowski,Lukasz Sobczuk,,,,,,712020:bf49f311-015d-4105-96cb-8ee7ce384a47,712020:43e45091-431d-4afa-a383-b38bc5c916d8,,,,,,Working on issue NGDEX-200;18/Sep/23 1:55 PM;712020:43e45091-431d-4afa-a383-b38bc5c916d8;21600,Working on issue NGDEX-200;19/Sep/23 8:04 AM;712020:43e45091-431d-4afa-a383-b38bc5c916d8;21600,,,,,,,,,43200,,,,43200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Jul/23 11:00 AM;712020:43e45091-431d-4afa-a383-b38bc5c916d8;console_log.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/563774,26/Jul/23 11:00 AM;712020:43e45091-431d-4afa-a383-b38bc5c916d8;failed_test_ids.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/563776,26/Jul/23 11:00 AM;712020:43e45091-431d-4afa-a383-b38bc5c916d8;failed_test_logs.tar.gz;https://netreveal.atlassian.net/rest/api/3/attachment/content/563778,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=5}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":5,""lastUpdated"":""2023-09-18T13:19:07.339+0100"",""stateCount"":5,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""stash"":{""count"":5,""name"":""Bitbucket Server""}}}}},""isStale"":true}}",,,,,,,,,,,NGDEX-11,RTDE Support for Spark 3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2f6hz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-09-18 11:05:24.141,,"18/Sep/23 12:05 PM;712020:bf49f311-015d-4105-96cb-8ee7ce384a47;* reviewed multi branch pipline
 * removed duplicated key from log4j
 * added new param to spark submit

         --driver-class-path=@SMBD_HOME@/lib/ojdbc6.jar \

 ",,,,,,,,,,,,,,,369703,RTDE Support for Spark 3,In Progress
YEARDIFF (with literal timestamp values) gives inconsistent behaviour on cluster mode vs local mode.,NGDEX-154,369803,,Bug,New,NGDEX,NGDEX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,Uncategorised,,,,Lorcan Cassidy,712020:2648400f-8710-4ed7-b41d-020399c89d18,Lorcan Cassidy,712020:2648400f-8710-4ed7-b41d-020399c89d18,06/Jul/23 5:09 PM,27/Jul/23 11:54 AM,10/Nov/23 6:20 PM,,,,,,,,,,,RTDE,,,,Standard,,,"During RTDE regression testing on a spark standalone clustered environment, a confusing error was thrown when a test with YEARDIFF function was executed.

Executing the same test on spark local mode does not produce an error.

Testpack FCENG-1453_TEST_1 contains a simple model that tests some basic RTDE functions. 

There are 4 checks in this model that use the YEARDIFF function with literal timestamp and date values. Example below.
{code:java}
<value>YEARDIFF(""09/05/2018 14:22"", ""01/05/2013 10:00"") &lt; 10</value> {code}
When this test is executed on the spark standalone cluster, the error below is observed. Full stacktrace attached.
{code:java}
Caused by: com.typesafe.config.ConfigException$Missing: No configuration setting found for key 'smart'
    at com.typesafe.config.impl.SimpleConfig.findKeyOrNull(SimpleConfig.java:156)
    at com.typesafe.config.impl.SimpleConfig.findKey(SimpleConfig.java:149)
    at com.typesafe.config.impl.SimpleConfig.findOrNull(SimpleConfig.java:176)
    at com.typesafe.config.impl.SimpleConfig.find(SimpleConfig.java:188)
    at com.typesafe.config.impl.SimpleConfig.find(SimpleConfig.java:193)
    at com.typesafe.config.impl.SimpleConfig.getString(SimpleConfig.java:250)
    at com.netreveal.smart.common.utils.date.DateFunctionHelper$.fallbackInternalDTF$lzycompute(DateFunctionHelper.scala:28)
    at com.netreveal.smart.common.utils.date.DateFunctionHelper$.fallbackInternalDTF(DateFunctionHelper.scala:28)
    at com.netreveal.smart.common.utils.date.DateFunctionHelper$.parseDate$default$3(DateFunctionHelper.scala:41)
    at com.netreveal.smart.common.utils.date.DateFunctionHelper$.internalStringDateFormatToYear(DateFunctionHelper.scala:59)
    at com.netreveal.smart.common.utils.udf.DateTimeFunctions$$anonfun$yearDiff$1.apply(DateTimeFunctions.scala:79)
    at com.netreveal.smart.common.utils.udf.DateTimeFunctions$$anonfun$yearDiff$1.apply(DateTimeFunctions.scala:75)
    ... 22 more {code}
After turning OFF the 4 YEARDIFF checks with these literal values, the correct output is generated without error.

Why is there different behaviour when testing with these clustered settings?

SPARK_MASTER=$\{SPARK_MASTER:-{*}spark://10.222.2.xyz:7077{*}}
SPARK_DEPLOY_MODE=$\{SPARK_DEPLOY_MODE:-{*}cluster{*}}

compared to local mode settings

SPARK_MASTER=$\{SPARK_MASTER:-{*}local[*]{*}}
SPARK_DEPLOY_MODE=$\{SPARK_DEPLOY_MODE:-{*}client{*}}

The intended fix should resolve the 'clustered environment' issue, address the bad error message that was thrown and we also need to understand why the issue happened in this manner so it can be avoided in future.",,Lorcan Cassidy,,,,,,,712020:2648400f-8710-4ed7-b41d-020399c89d18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NGDEX-142,,,,,,,,,,,06/Jul/23 5:22 PM;712020:2648400f-8710-4ed7-b41d-020399c89d18;smart.log;https://netreveal.atlassian.net/rest/api/3/attachment/content/563802,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,NGDEX-203,RTDE : Performance Reliability Resilience,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2ei5r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,369783,RTDE : Performance Reliability Resilience,To Do
"After running the PMML service, It's not possible to use profile elements in checks",NGDEX-82,369623,,Bug,In Development,NGDEX,NGDEX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,Uncategorised,,Attracta Byrne,712020:b31cfd3c-32b2-4121-b59a-0852d812a320,Lorcan Cassidy,712020:2648400f-8710-4ed7-b41d-020399c89d18,Lorcan Cassidy,712020:2648400f-8710-4ed7-b41d-020399c89d18,31/May/23 3:17 PM,08/Nov/23 2:24 PM,10/Nov/23 6:20 PM,,,,,,,,,,,RTDE,,,,Standard,,,"This test NGDEX-28_TEST_1 covers the PMML service with flattener..

While working on testpack NGDEX-28_TEST_1, it was observed that after using the PMML service, profile elements in checks were no longer accessible and an error was thrown.

The PMML service uses this configuration in Processing_config.xml.
{code:java}
	<fieldFlatteners>
		<fieldFlattener name=""FlattenForPMML"">
		<field name=""Customer_Account""/>
		<field name=""Customer_Customer"" customPrefix=""profilesCC"" />
		<field name=""CounterParty_CounterParty"" disablePrefix=""true"" />
		<field name=""RiskScore_score_contributions"" customPrefix=""RiskScoreContributions""/>
		</fieldFlattener>
	</fieldFlatteners>

        <mlModelEvaluators>
                <mlModelEvaluator name=""PmmlEvaluator"" columnFlattenerName=""FlattenForPMML"" />
        </mlModelEvaluators>{code}
Initially, this was pmml syntax configured in a check and it ran fine.
{code:java}
gbt_34.class.out = 1 AND gbt_34.class.conf >= 0.95 {code}
This was then extended to include a lifetime profile element
{code:java}
LifeTime.days >= 5 AND gbt_34.class.out = 1 AND gbt_34.class.conf >= 0.95 {code}
The error below was thrown 
{code:java}
Exception in thread ""main"" org.apache.spark.sql.AnalysisException: cannot resolve '`LifeTime.days`' given input columns: [Wire_WireCounterPartyIdNameFlag, Wire_DbAccountOpenDate, PaymentTypePT001, profileKey_CounterParty_CounterParty, Wire_DbBankCountryCode, Wire_OwnAccountTransfer, Online, Wire_CustomerSourceUniqueID, Wire_TransRefDesc5, MonitoredAccount, Wire_Intermediary3BankName, Wire_Intermediary2BankName, Customer_Customer, profileKey_Customer_Account, Customer_Account, Wire_CurrentDate, Wire_CounterPartyAccountID, Wire_OutOfBandFlag, Wire_CounterPartyCountryCode, PaymentChannelCH001, Wire_AccountSourceRefID, Wire_CounterPartyNew, Wire_C2PScenarioMgrFlag, MonitoredIBAN, Wire_WireType, Wire_IncomingMessageType, Wire_DbBankName, Wire_Balance, Wire_CreditLimit, Credit, Wire_OrgUnitCode, Wire_CounterPartySortCode, Wire_PostingDate, Wire_TrusteerFlag, Wire_CounterPartyAccountName, Wire_CrBankCountryCode, Wire_WireDestBankIdCPartyIdNameFlag, Wire_Dom_Int, Wire_MBAccountFlag, Wire_PaymentReversalFlag, PaymentTypePT002, Wire_Intermediary3BankCode, Debit, Wire_CreditDebitCode, Wire_Intermediary1BankName, Wire_PaymentAmount, MonitoredCounterParty, AllWire, Wire_PaymentID, Wire_CounterPartyBankCountryCode, Wire_PaymentSourceCode, Wire_BeneficiaryBankAccountNum, Wire_CurrencyCode, Wire_CreditPartyID, Wire_DbAccountSourceRefID, gbt_34_class_out, CounterParty_CounterParty, Wire_CounterPartyBic, Wire_PaymentChannelCode, Wire_CounterPartyIban, Wire_PaymentTypeCode, Wire_Intermediary1BankCtry, MonitoredCustomer, Wire_Intermediary2BankCode, PaymentChannelCH002, HighRiskBank, Wire_SenderReference, gbt_34_class_conf, profileKey_Customer_Customer, Wire_CounterPartyID, Wire_PaymentAmountBase, Wire_RunTimeStamp, Wire_AccountSourceUniqueID, WireWhiteList, Wire_CounterPartyBankCode, Wire_Intermediary2BankCtry, timestamp, Wire_CrBankName, Wire_Intermediary1BankCode, Wire_SourcePaymentNum, Wire_DualControlFlag, key, MonitoredBIC, Wire_Intermediary3BankCtry, Wire_CrAccountSourceRefID, Wire_CounterPartyName, Wire_AdviceType];

...
   at com.netreveal.smart.processing.spark.impl.service.detection.SparkRowDetectionEvaluator$$anonfun$apply$1.apply(SparkRowDetectionEvaluator.scala:40)
        at com.netreveal.smart.processing.spark.impl.service.detection.SparkRowDetectionEvaluator$$anonfun$apply$1.apply(SparkRowDetectionEvaluator.scala:39)
        at scala.collection.LinearSeqOptimized$class.foldLeft(LinearSeqOptimized.scala:124)
        at scala.collection.immutable.List.foldLeft(List.scala:84)
        at com.netreveal.smart.processing.spark.impl.service.detection.SparkRowDetectionEvaluator.apply(SparkRowDetectionEvaluator.scala:38)
        at com.netreveal.smart.processing.spark.impl.service.detection.SparkRowDetectionEvaluator.apply(SparkRowDetectionEvaluator.scala:20)
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor.com$netreveal$smart$processing$spark$AbstractSparkProcessor$$executeServiceAction(AbstractSparkProcessor.scala:251)
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor$$anonfun$buildSingleProcessingQuery$1.apply(AbstractSparkProcessor.scala:246)
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor$$anonfun$buildSingleProcessingQuery$1.apply(AbstractSparkProcessor.scala:246)
        at scala.collection.LinearSeqOptimized$class.foldLeft(LinearSeqOptimized.scala:124)
        at scala.collection.immutable.List.foldLeft(List.scala:84)
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor.buildSingleProcessingQuery(AbstractSparkProcessor.scala:246)
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor.com$netreveal$smart$processing$spark$AbstractSparkProcessor$$buildProcess(AbstractSparkProcessor.scala:121)
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor$$anonfun$inThreadBuildProcesses$2$$anonfun$apply$1.apply$mcV$sp(AbstractSparkProcessor.scala:97)
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor$$anonfun$inThreadBuildProcesses$2$$anonfun$apply$1.apply(AbstractSparkProcessor.scala:97)
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor$$anonfun$inThreadBuildProcesses$2$$anonfun$apply$1.apply(AbstractSparkProcessor.scala:97)
        at scala.concurrent.impl.Future$PromiseCompletingRunnable.liftedTree1$1(Future.scala:24)
        at scala.concurrent.impl.Future$PromiseCompletingRunnable.run(Future.scala:24)
        at scala.concurrent.impl.ExecutionContextImpl$AdaptedForkJoinTask.exec(ExecutionContextImpl.scala:121)
        at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
        at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)
        at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
        at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107) {code}
The attached testpack will reproduce the full error.",,Lorcan Cassidy,Trevor Murphy,,,,,,712020:2648400f-8710-4ed7-b41d-020399c89d18,712020:10f8721f-a33d-4a3f-a17b-ceb1dea60e0e,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NGDEX-28,,,,,,,,,,,,,01/Jun/23 10:21 AM;712020:2648400f-8710-4ed7-b41d-020399c89d18;NGDEX-28_TEST_1.zip;https://netreveal.atlassian.net/rest/api/3/attachment/content/563759,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,NGDEX-8,RTDE Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2dl1r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-06-13 09:09:54.888,,13/Jun/23 10:09 AM;712020:10f8721f-a33d-4a3f-a17b-ceb1dea60e0e;Decision is to fix this after Spark 3 work is completed.,,,,,,,,,,,,,,,369529,RTDE Support and Maintenance,In Progress
Incorrect layout of images on buttons,FCENGX-1043,729167,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,4 - Low,,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,10/Nov/23 2:14 PM,10/Nov/23 5:32 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"Steps to reproduce (on Apps Full or RC 9.2 env)

# Navigate to Scenario Manager - IETWLSP / Shared List management
# Click configuration Id
# Click any of Info lists and clock “Manage Data” button
# On next screen observe buttons in the top right part of screen 

Current result: images on buttons are in incorrect place (see attachment)",,Kamil Reczek,Monika Donder,,,,,,712020:294366da-96fa-4801-9e23-c83db37f1d0f,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Nov/23 2:16 PM;712020:b4b55144-b43b-45ac-aa43-a67818644bc2;SharedLists_buttonsBug.jpg;https://netreveal.atlassian.net/rest/api/3/attachment/content/923456,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2ie2f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-11-10 17:32:57.392,,10/Nov/23 5:32 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;It looks similar to [https://netreveal.atlassian.net/browse/FCENGX-884|https://netreveal.atlassian.net/browse/FCENGX-884|smart-link].,,,,,,,,,,,,,,,,,To Do
Newly created exept list is not visible in UI,FCENGX-1042,729165,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,10/Nov/23 2:08 PM,10/Nov/23 2:24 PM,10/Nov/23 6:20 PM,,9.2,,,,,9.2,,,,,,,,,,,"Steps to reproduce (on full APPS env or RC 9.2 env)

# Navigate to Scenario Manager - IETWLMSP / Shared Lists Management
# Create new exempt list and observe.

Expected result: list is visible on screen

Current result: list is not visible on screen",,Monika Donder,Paul Nolan,,,,,,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WLMX-1263,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2ie1z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-11-10 14:24:00.626,,"10/Nov/23 2:24 PM;712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a;Hi [~accountid:712020:b4b55144-b43b-45ac-aa43-a67818644bc2] - can you confirm if the entity that you associated with the new list actually exists in the current configuration? If you select an entity that does not exist in the current configuration, then the list will not be visible. You would have to switch to a configuration containing that entity to view the list - thanks.",,,,,,,,,,,,,,,,,To Do
Problem with preservePaging parameter on Generic List after navigation to same screen,FCENGX-1041,729151,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Novinder Singh,712020:094ea882-a0b2-4a48-99d3-7343d7837e5c,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,10/Nov/23 12:58 PM,10/Nov/23 3:14 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"Steps to reproduce 

(on any APPS automation env, please contact Monika Donder before working on ticket to get details of env)

# Navigate to Watchlist Manager / Lists / Standard Lists, select EU list and import data from attached file to list (delimited file, field separator: Pipe)
# Navigate to OFAC list and add one row to list with WHOLENAME: Alan Duggan
# Navigate to Watchlist Manager / Ad Hoc Lookup , select datasource Subject, fill data “ DELTA_RECORD_FLAG = Y, SUBJECT_NAME = Alan Duggan, click Perform
# In the Results of Single Lookup section open poup and clikc geretaed Alert ID
# Open Alert details screen and in All Matches section go to second page. Click id in column Watchlist entry ID in one of matches from EU list. Then find match from OFAC list and click again Watchlist Entry id data in this row.

*Current behaviour*: All Matches section is refreshed and lands on first page

*Expected behaviour*: because preservePaging parameter is set to true on section we expect that after refresh of screen section “All matches” will stay on the same page.",,Monika Donder,Novinder Singh,,,,,,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,712020:094ea882-a0b2-4a48-99d3-7343d7837e5c,,,,,,,,,,,,,,,,,,,,,,,ZKBANK-23,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Nov/23 12:59 PM;712020:b4b55144-b43b-45ac-aa43-a67818644bc2;EU_List.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/923399,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2idyv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-11-10 15:14:37.494,,"10/Nov/23 3:14 PM;712020:094ea882-a0b2-4a48-99d3-7343d7837e5c;Hey [~accountid:712020:b4b55144-b43b-45ac-aa43-a67818644bc2] ,

Would you have an environment where I could reproduce this ? 

Thanks

Lali ",,,,,,,,,,,,,,,,,To Do
base_GroupExternalName.caption | Group External name display resource values ,FCENGX-1040,729121,526425,Bug (sub-task),In Progress,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Kamil Reczek,712020:294366da-96fa-4801-9e23-c83db37f1d0f,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,10/Nov/23 11:06 AM,10/Nov/23 12:29 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"Login as valid user onto 

[https://10.222.7.235:9443/norkom|https://10.222.7.235:9443/norkom]

[https://10.222.7.176:8443/norkom|https://10.222.7.176:8443/norkom]

# Go to Admiinstration >Authentication Groups 
# Create Group and observe the field External Group Name field > *base_GroupExternalName.caption*

Expected -*Group External Name*",,Kamil Reczek,Rekha John,,,,,,712020:294366da-96fa-4801-9e23-c83db37f1d0f,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Nov/23 11:09 AM;712020:3c31c009-8480-4942-b416-80e22b8447c7;GroupexternalName.mp4;https://netreveal.atlassian.net/rest/api/3/attachment/content/923319,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2idsv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Rubik's Sprint 166,Rubik's Sprint 167,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-11-10 12:28:24.93,,"10/Nov/23 12:28 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;This is the same issue as [https://netreveal.atlassian.net/browse/FCENGX-1039|https://netreveal.atlassian.net/browse/FCENGX-1039|smart-link], the caption is missing from messages.properties.

It was added in August 2023:

{noformat}Revision: 1082715
Author: kamil.reczek
Date: Friday 18 August 2023 08:50:40
Message:
[FCENGX-548] Map LDAP group names to NetReveal group names
----
Modified : /CoreDev/trunk/subprojects/appserver/data/applications/base-platform.xml
Modified : /CoreDev/trunk/subprojects/appserver/conf/resources/baseplatform/messages.properties
Modified : /CoreDev/trunk/subprojects/appserver/conf/resources/baseplatform/messages_fr.properties
Added : /CoreDev/trunk/subprojects/database/dbscripts/PostgreSQL/updates/9.2.0.0-a15
Added : /CoreDev/trunk/subprojects/database/dbscripts/PostgreSQL/updates/9.2.0.0-a15/00_update_bp.sql
Added : /CoreDev/trunk/subprojects/database/dbscripts/PostgreSQL/updates/From_9.1_to_9.2/00_update_bp.sql
Modified : /CoreDev/trunk/subprojects/base/src/main/java/com/norkom/base/business/dao/impl/GroupDaoImpl.java
Modified : /CoreDev/trunk/subprojects/base/src/main/java/com/norkom/base/business/facades/helpers/dataload/BaseDataLoader.java
Modified : /CoreDev/trunk/subprojects/base/src/main/java/com/norkom/base/business/interfaces/impl/ldap/LdapReplicator.java
Modified : /CoreDev/trunk/subprojects/base/src/main/java/com/norkom/base/resources/model/Group.java
Modified : /CoreDev/trunk/subprojects/base/src/main/resources/com/norkom/base/business/facades/helpers/dataload/base-configuration-rules.xml
Modified : /CoreDev/trunk/subprojects/database/dbscripts/Oracle/00_create_bp.sql
Added : /CoreDev/trunk/subprojects/database/dbscripts/Oracle/9.2.0.0-a15.lst
Modified : /CoreDev/trunk/subprojects/database/dbscripts/Oracle/From_9.1_to_9.2.lst
Added : /CoreDev/trunk/subprojects/database/dbscripts/Oracle/updates/9.2.0.0-a15
Added : /CoreDev/trunk/subprojects/database/dbscripts/Oracle/updates/9.2.0.0-a15/00_update_bp.sql
Added : /CoreDev/trunk/subprojects/database/dbscripts/Oracle/updates/From_9.1_to_9.2/00_update_bp.sql
Added : /CoreDev/trunk/subprojects/database/dbscripts/PostgreSQL/9.2.0.0-a15.lst
Modified : /CoreDev/trunk/subprojects/database/dbscripts/PostgreSQL/From_9.1_to_9.2.lst{noformat}",,,,,,,,,,,,,,,526425,QA Migration Testing - Oracle and postgreSQL v9.1-v9.2,In Progress
base_button.Users.ChangePassword  | Button caption not correct,FCENGX-1039,729119,526425,Bug (sub-task),In Progress,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Kamil Reczek,712020:294366da-96fa-4801-9e23-c83db37f1d0f,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,10/Nov/23 10:36 AM,10/Nov/23 12:22 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"Login to [https://10.222.7.235:8443/norkom|https://10.222.7.235:8443/norkom](postgresql/wildfly)

[https://10.222.7.176:9443/norkom|https://10.222.7.176:9443/norkom](oracle/was9)



2. As an admin user try to change password for an exisitng user

Observe the button caption > {{base_button.Users.ChangePassword}}

Expected - Change Password",,Kamil Reczek,Rekha John,,,,,,712020:294366da-96fa-4801-9e23-c83db37f1d0f,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,9.2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2idsf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Rubik's Sprint 166,Rubik's Sprint 167,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-11-10 12:19:43.678,,"10/Nov/23 12:19 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;I just checked both environments. The caption _base_button.Users.ChangePassword_ should be defined in _messages.properties_ in <app_home>/conf/resources/baseplatform, but it’s not there. I assume these envs were upgraded from 9.1. That caption was committed in April 2023:

{noformat}Revision: 1065162
Author: kamil.reczek
Date: Monday 24 April 2023 14:31:05
Message:
 [FCENG-26586] i18-User details > Change password button
----
Modified : /CoreDev/trunk/subprojects/appserver/data/applications/base-platform.xml
Modified : /CoreDev/trunk/subprojects/appserver/conf/resources/baseplatform/messages.properties
Modified : /CoreDev/trunk/subprojects/appserver/conf/resources/baseplatform/messages_fr.properties{noformat}",,,,,,,,,,,,,,,526425,QA Migration Testing - Oracle and postgreSQL v9.1-v9.2,In Progress
SharedList Data Alignment -columnheaders & Data Column minor cosmetic issues,FCENGX-1018,727704,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,4 - Low,,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,03/Nov/23 8:34 AM,03/Nov/23 8:37 AM,10/Nov/23 6:20 PM,,,,,,,9.2,,,,Base Platform,,,,,,,"1.Login to QA Test environment

2. Go to scenario manager lists > Select any List data

Expected: List Data Columns & data aligned as expected .

The list data seems slightly left aligned away from corresponding Column header

Note: This is a known issue . raising it again ",,Rekha John,,,,,,,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,03/Nov/23 8:36 AM;712020:3c31c009-8480-4942-b416-80e22b8447c7;KnownIssuefrompreviousversins.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/921090,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,FCENGX-16,EIM Platform Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i5z3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,Verify that List Data column headers and Data are aligned .,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,526422,EIM Platform Support and Maintenance,To Do
CSV Report Issues - List Data and columns exported into one column. (delimiter ),FCENGX-1015,727484,727451,Bug (sub-task),Review Complete,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,2 - High,,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,02/Nov/23 12:07 PM,02/Nov/23 5:18 PM,10/Nov/23 6:20 PM,,,,,,,9.2,,,,Base Platform,,,,,,,"Login to [https://10.222.7.176:9443/norkom|https://10.222.7.176:9443/norkom]

2.From any platform screen export the csv  , Once the file is downloaded open it and observe

Observed -All List Data columns and Data in One Column

I should see columns and the corresponding data for each columns exported

Expected :  As exported before (sample attached)",,Kamil Reczek,Rekha John,,,,,,712020:294366da-96fa-4801-9e23-c83db37f1d0f,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,time-tracking;02/Nov/23 5:18 PM;557058:295406f3-a1fc-4733-b906-dd15d021bd79;7200,,,,,,,,,,7200,,,,7200,,,,,,,,,,,,FCENGX-903,,,,,,,,,,,,,,,,,,,,02/Nov/23 12:12 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;20231018-CSV List Report.csv;https://netreveal.atlassian.net/rest/api/3/attachment/content/920859,02/Nov/23 12:10 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;20231102-CSV List Report (3).csv;https://netreveal.atlassian.net/rest/api/3/attachment/content/920857,02/Nov/23 12:10 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;20231102-CSV List Report (4).csv;https://netreveal.atlassian.net/rest/api/3/attachment/content/920856,02/Nov/23 12:10 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;20231102-CSV List Report.csv;https://netreveal.atlassian.net/rest/api/3/attachment/content/920858,02/Nov/23 12:14 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;ExportedDataandcolumns.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/920865,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i51r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Rubik's Sprint 167,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-11-02 13:18:02.265,,"02/Nov/23 1:18 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;I was able to reproduce it by exporting Users list on 10.222.7.176. However I wasn’t able to do the same on my local env, which was built using the most recent trunk. Turned out, the template file on 10.222.7.176 is outdated for some reason. It contains ‘old’ variables, which upgraded Velocity cannot parse properly. Thus comma is not used as delimiter (no delimiter is used in fact). Once I replaced the old _list-csv.vm_ with new version from trunk, Users were exported and the CSV file was delimited correctly.

Old vm file:

{noformat}$fields.fieldCaptions.get($fieldName)#if ($velocityCount < $fields.fieldArray.get(0).size()),#end{noformat}

New vm file:

{noformat}$fields.fieldCaptions.get($fieldName)#if ($foreach.count < $fields.fieldArray.get(0).size()),#end{noformat}

There are several .vm files that contains old _velocityCount_ counter variable:

* \opt\ApplicationConfig\conf\templates\autodoc_detail.vm
* \opt\ApplicationConfig\conf\templates\autodoc_screen.vm
* \opt\ApplicationConfig\conf\templates\cc_report_detail.vm
* \opt\ApplicationConfig\conf\templates\cc_report_summary.vm
* \opt\ApplicationConfig\conf\templates\cc_scheduled_report_detail.vm
* \opt\ApplicationConfig\conf\templates\crosstab-csv.vm
* \opt\ApplicationConfig\conf\templates\list-csv-with-paging.vm
* \opt\ApplicationConfig\conf\templates\wlm_model_report_template.vm
* \opt\ApplicationConfig\conf\templates\Workflow-config-report.vm",02/Nov/23 3:54 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;retested . the templates to be updated  after Migration .,,,,,,,,,,,,,,727451,Priority Bug Fixes -v9.2 ,In Progress
Code Reviews,FCENGX-1009,727413,727405,Bug (sub-task),Open,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,02/Nov/23 7:54 AM,02/Nov/23 7:56 AM,10/Nov/23 6:20 PM,,9.2,,,,,9.2,,,,,,,,,,,,,Rekha John,,,,,,,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i4mv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Rubik's Sprint 167,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,727405,General Sprint Tasks,To Do
04_update_wlm.sql - Oracle - INDEXES Already exists (Migration 9.1 stable version - latest trunk),FCENGX-998,727262,526425,Bug (sub-task),Open,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,01/Nov/23 10:46 AM,01/Nov/23 10:47 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"Migrated DB from 9.1 to 9.2 latest core version

04_update_wlm.sql There are CREATE INDEX Commands that throws already exisitng sql exception .please review 

CREATE INDEX WLM_INDEX_SPECIAL_INTEREST_CATEGORY ON WC_SPECIAL_INTEREST_CAT_DATA (SPECIAL_INTEREST_CATEGORY) TABLESPACE &&TABLESPACE_INDEXES

CREATE INDEX IDX_WLM_ORCH_LOGS_MC ON WLM_ORCH_LOGS (MSG_COMMENT) TABLESPACE &&TABLESPACE_INDEXES
-- @indexprops.INDEX IDX_WLM_ORCH_LOGS_MC@
;
CREATE INDEX IDX_WLM_ORCH_LOGS_MT ON WLM_ORCH_LOGS (MSG_TYPE) TABLESPACE &&TABLESPACE_INDEXES
-- @indexprops.INDEX IDX_WLM_ORCH_LOGS_MT@
;
CREATE INDEX IDX_WLM_ORCH_LOGS_ED ON WLM_ORCH_LOGS (EVENT_DATE) TABLESPACE &&TABLESPACE_INDEXES
-- @indexprops.INDEX IDX_WLM_ORCH_LOGS_ED@
;
CREATE INDEX IDX_FPFA_LIST_ROW_ROW ON FPFA_LIST_ROW  (ROW_ID) TABLESPACE &&TABLESPACE_INDEXES
-- @indexprops.IDX_FPFA_LIST_ROW_ROW@
;
CREATE INDEX IDX_FPFA_LIST_ROW_L_DEF ON FPFA_LIST_ROW  (LIST_DEFINITION_ID) TABLESPACE &&TABLESPACE_INDEXES
-- @indexprops.IDX_FPFA_LIST_ROW_L_DEF@
;
CREATE INDEX IDX_GWL_LIST_ROW_ROW ON GWL_LIST_ROW  (ROW_ID) TABLESPACE &&TABLESPACE_INDEXES
-- @indexprops.IDX_GWL_LIST_ROW_ROW@
;
CREATE INDEX IDX_GWL_LIST_ROW_L_DEF ON GWL_LIST_ROW  (LIST_DEFINITION_ID) TABLESPACE &&TABLESPACE_INDEXES
-- @indexprops.IDX_GWL_LIST_ROW_L_DEF@",,Rekha John,,,,,,,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i3u7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Rubik's Sprint 166,Rubik's Sprint 167,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,526425,QA Migration Testing - Oracle and postgreSQL v9.1-v9.2,To Do
System parameter relatime.error.message.limit = 0 by default / default backwardcompatible mode should be none for suppression mode,FCENGX-981,726704,526425,Bug (sub-task),In Development,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,27/Oct/23 9:53 AM,09/Nov/23 10:11 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,,,Marek Tomaszewski,Paul Nolan,Rekha John,,,,,712020:6a73eb15-8226-4335-abc7-85a91e9387c0,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,,,,,,,,,,,,,,,,,,,,,,FCENGX-660,,,,,,,,,,,,,,FCENGX-965,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2023-11-03T09:28:22.000+0000"",""dataType"":""repository""},""byInstanceType"":{""stash"":{""count"":1,""name"":""Bitbucket Server""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i0tz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Rubik's Sprint 166,Rubik's Sprint 167,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-11-01 17:18:21.484,,"27/Oct/23 9:56 AM;712020:3c31c009-8480-4942-b416-80e22b8447c7;The deafult value in system_parameter table is 0 for this parameter .

Document - This is a value of X characters that limits the string length, which is returned as a realtime message. : Value of X characters that limits the string length *The default value is 100*

Application -

|ealtime.error.message.limit|0|Limit number of character of Real Time exception message. If set to 0, error message is not truncated. Default value: 100|",01/Nov/23 5:18 PM;712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a;Hi [~accountid:712020:6a73eb15-8226-4335-abc7-85a91e9387c0] - can you confirm that the default value for _realtime.error.message.limit_ provides backwards compatibility with the v9.1 functionality? Thanks…,"02/Nov/23 9:17 AM;712020:6a73eb15-8226-4335-abc7-85a91e9387c0;[~accountid:712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a] - Hi Paul,

# Value of SYSTEM_PARAMETER table is set to 0 as it is presented by Rekha,
default value is set to 100 in code as it is mentioned in documentation.

Should be default value changed to 0 too ? 

{code:java}		int suppressErrorLimitLength = 	PropertyManager.getIntegerProperty(""realtime.error.message.limit"", 100);{code}



2. default suppress mode value should be changed to *none* ?

{code:java}			default:

				suppressedMessage = onlyMessage();{code}

Regards","02/Nov/23 10:58 AM;712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a;Hi [~accountid:712020:6a73eb15-8226-4335-abc7-85a91e9387c0] 

* Yes, default value should be set to 0 (no truncation)
* Yes, default mode should be set to none (no suppression)

Both for backwards-compatibility - thanks",03/Nov/23 9:55 AM;712020:6a73eb15-8226-4335-abc7-85a91e9387c0;Fix implemented in trunk and 8.3 branch,,,,,,,,,,,526425,QA Migration Testing - Oracle and postgreSQL v9.1-v9.2,In Progress
Postgresql-04_update_wlm.sql throws SQL-23503,FCENGX-972,726521,526425,Bug (sub-task),Open,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,2 - High,,Richard Home,712020:2876f2c9-8efa-4e63-bd3b-091d16b9f7ae,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,26/Oct/23 10:58 AM,10/Nov/23 3:34 PM,10/Nov/23 6:20 PM,,,,,,,9.2,,,,,,,,,,,"Run Migration from v9.1 to v9.2

1.Create and Install 9.1 core version

2. Create v9.2 and Migrate DB to v9.2 by running the scripts provided 

The attached WLM Scripts having SQL-State 23503 errors

[Code: 0, SQL State: 23503]  ERROR: insert or update on table ""match_type_param"" violates foreign key constraint ""mat_type_pm_fk2""
  Detail: Key (match_type_param_type_id)=(1010) is not present in table ""match_type_param_types"".

Weighted Fuzzy Scorers

Few scripts seem already existing I have marked those in Attached doc.",,Ashok Manayangath,Paul Nolan,Rekha John,Richard Home,,,,712020:4eb24e29-73db-4f2a-a700-fe2c768313d2,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,712020:3c31c009-8480-4942-b416-80e22b8447c7,712020:2876f2c9-8efa-4e63-bd3b-091d16b9f7ae,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Nov/23 3:33 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;9.1postgresqlLogs.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/923551,26/Oct/23 11:01 AM;712020:3c31c009-8480-4942-b416-80e22b8447c7;WLMScriptsIssues.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/919051,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2hzv3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Rubik's Sprint 166,Rubik's Sprint 167,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-10-26 11:05:39.283,,26/Oct/23 12:05 PM;712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a;Hi [~accountid:712020:4eb24e29-73db-4f2a-a700-fe2c768313d2]- can someone from the WLM team take a look at this? It will be a blocker for the 9.2.0.0 tag release - thanks,"09/Nov/23 10:47 AM;712020:2876f2c9-8efa-4e63-bd3b-091d16b9f7ae;The first reference to key 1010 is on line 30:

{{INSERT INTO MATCH_TYPE_PARAM (ID, MATCH_TYPE_ID, MATCH_TYPE_PARAM_TYPE_ID, PARAM_VALUE) VALUES (-208001010, -20800, 1010, '1');}}

But there are a lot of other inserts before this, which indicates that this isn’t a general problem. However, this id has been around since 8.4 and is definitely present in the 9.1 data script match_type_param_types.sql.

{{INSERT INTO MATCH_TYPE_PARAM_TYPES(ID, PARAM_NAME, DESCRIPTION_KEY) VALUES (1010, 'firstLetterMismatchPenalty', 'configuration.detection.check.match.type.param.type.firstLetterMismatchPenalty');}}

Furthermore, this row would be referred to by dozens of other rows in 9.1.

So, I am not sure what is going on there.

Can you provide a database that we can check?

Please check > the below Database

host:10.222.7.235:5432/pgsql15

credentials pgsql15/pgsql15",09/Nov/23 11:01 AM;712020:2876f2c9-8efa-4e63-bd3b-091d16b9f7ae;I will take a look.,"09/Nov/23 11:24 AM;712020:2876f2c9-8efa-4e63-bd3b-091d16b9f7ae;The match_type_param_types is empty except for the one value that was inserted as part of the update script.

Also, the match_type_param is empty.

So it appears that the 9.1 install did not take place correctly (or the tables were accidentally cleared).

I would check the 9.1 logs.

Our standard database install scripts don’t do any error checking. This is a known bug that has been around forever. See [[DB-172] Need to improve installation scripts to check for errors - Netreveal Jira (atlassian.net)|https://netreveal.atlassian.net/browse/DB-172] (logged 2010).

Note: the failure of the 9.1 install might be due to update scripts backported to 9.1 during 9.2 development.",10/Nov/23 3:34 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;9.1 installation available on 10.222.7.175,,,,,,,,,,,526425,QA Migration Testing - Oracle and postgreSQL v9.1-v9.2,To Do
Uncaught SyntaxError: Invalid left-hand side in assignment (at Reported_click_handler.js:4436:7),FCENGX-971,726501,,Bug,In Testing,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,26/Oct/23 9:59 AM,26/Oct/23 3:20 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"{
let $local_jq = (window.$jq !== undefined ? window.$jq : (window.$ !== undefined ? window.$ : (window.jQuery !== undefined ? window.jQuery : undefined)));
let duplicateFound = false;
if ($local_jq !== undefined) {
  let sameIdCount = $local_jq('[data-cspid=""EIM__uDISC_Re-OpenClose/Reported""]').length;
  if (sameIdCount > 1) { duplicateFound = true; }
}
if (!duplicateFound) {
  const el = document.querySelector(""[data-cspid='EIM__uDISC_Re-OpenClose/Reported']"");
  if(el===null) {
    console.error('CSP - no element with ID EIM__uDISC_Re-OpenClose/Reported');
  } else {
    if (!el.dataset.function_EIM__uDISC_Re_OpenClose/Reported_click_handler_present) {
      el.addEventListener('click', function_EIM__uDISC_Re_OpenClose/Reported_click_handler);
      el.dataset.hasonclick = true;
      el.dataset.function_EIM__uDISC_Re_OpenClose/Reported_click_handler_present = true;
    }
  }
} else {
  console.error('CSP - Skip adding listener - duplicate elements found for data-cspid=""EIM__uDISC_Re-OpenClose/Reported""');
}
function function_EIM__uDISC_Re_OpenClose/Reported_click_handler(event){
  function function_EIM__uDISC_Re_OpenClose/Reported_click_handler_internal(event) {
    document.forms['EIM_CaseKeyActionForm'].elements['workflowActionId'].value='1087W1232';abWorkflow.submitWorkflowForm('EIM_CaseKeyAction', this);
  }
  let result = function_EIM__uDISC_Re_OpenClose/Reported_click_handler_internal.bind(this, event)();
  if (result !== undefined && !result) {
    event.preventDefault();
  }
}
//# sourceURL=function_EIM__uDISC_Re_OpenClose/Reported_click_handler.js",,Kamil Reczek,Michal Andrzej Jagielski,,,,,,712020:294366da-96fa-4801-9e23-c83db37f1d0f,712020:3d43f638-9e46-4d5e-beba-aaadc4763cc9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FCENGX-110,,FCENGX-949,,,,,,,,,26/Oct/23 10:00 AM;712020:0d464633-ae85-4b20-ace8-1019764d285d;Screenshot 2023-10-26 at 10.51.47.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/918989,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2hzrr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-10-26 09:11:38.529,,"26/Oct/23 10:11 AM;712020:3d43f638-9e46-4d5e-beba-aaadc4763cc9;The element’s ID contains '/' character which is not escaped when internal function names are created.

A quick fix in CSP’s ScriptUtils method is required.","26/Oct/23 10:27 AM;712020:3d43f638-9e46-4d5e-beba-aaadc4763cc9;Fix committed into trunk at:
Revision: 1094279
Author: michal.jagielski
Date: 26 October 2023 11:19:21
Message:
[FCENGX-971] fix Uncaught SyntaxError: Invalid left-hand side in assignment, when building internal CSP method name

Modified : /CoreDev/trunk/subprojects/base/src/main/java/com/norkom/configurator/web/util/ScriptUtils.java
Modified : /CoreDev/trunk/subprojects/tests/src/test/java/com/norkom/configurator/web/util/ScriptUtilsTest.java

Please wait for 9.2.0.0-a25+ build and re-test.","26/Oct/23 11:58 AM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;[~accountid:712020:3d43f638-9e46-4d5e-beba-aaadc4763cc9] 
I think this issue is also present in 9.1 branch.","26/Oct/23 11:59 AM;712020:3d43f638-9e46-4d5e-beba-aaadc4763cc9;I doubt, this is for sure CSP issue which was introduced in trunk/9.2","26/Oct/23 3:20 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;[~accountid:712020:3d43f638-9e46-4d5e-beba-aaadc4763cc9] 
yes, you’re right. I can’t reproduce [https://netreveal.atlassian.net/browse/FCENGX-949|https://netreveal.atlassian.net/browse/FCENGX-949|smart-link] on 9.1 env.",,,,,,,,,,,,,In Progress
Error on CSV Report | permalink screens,FCENGX-932,526120,,Bug,Review Complete,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Kamil Reczek,712020:294366da-96fa-4801-9e23-c83db37f1d0f,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,17/Oct/23 1:54 PM,10/Nov/23 10:53 AM,10/Nov/23 6:20 PM,,9.2,,,,,,,,,Application Builder,Base Platform,,,,,,"1.Login as admin user on to [https://10.222.7.138:8443/norkom]

2. Go to Application builder > view all applications

3.select the Application > APP_PermaLink_RJ

4. Go to Scr_APP_Permalink_RJ and try to Generate CSV Report

Expected : CSV Generated as expected:

observed:
{code:java}
CFG-10020 - A general error occurred : class io.undertow.servlet.spec.HttpServletRequestImpl cannot be cast to class com.norkom.base.web.filters.NorkomRequestWrapper (io.undertow.servlet.spec.HttpServletRequestImpl is in unnamed module of loader 'io.undertow.servlet@2.2.13.SP2-redhat-00001' @35787ebc; com.norkom.base.web.filters.NorkomRequestWrapper is in unnamed module of loader 'deployment.norkom-jboss7.ear' @68d33543) {code}",,Rekha John,,,,,,,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,time-tracking;03/Nov/23 9:00 AM;557058:295406f3-a1fc-4733-b906-dd15d021bd79;21600,,,,,,,,,,21600,,,,21600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,17/Oct/23 1:56 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;applicationlogCSVExport.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/774888,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,FCENGX-16,EIM Platform Support and Maintenance,,,,,,,,,,,,,,,,,,,,,, 231012.0931,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2hl5j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Rubik's Sprint 165,Rubik's Sprint 166,Rubik's Sprint 167,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,526422,EIM Platform Support and Maintenance,In Progress
Updated values in CDD Shared lists are not refreshed when refresh is triggered via topic signal,FCENGX-913,526381,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Trevor Murphy,712020:10f8721f-a33d-4a3f-a17b-ceb1dea60e0e,Tatiana Kukushkina,712020:f4cad52f-d917-4420-873b-c485c8d7e994,Tatiana Kukushkina,712020:f4cad52f-d917-4420-873b-c485c8d7e994,12/Oct/23 11:55 AM,12/Oct/23 12:29 PM,10/Nov/23 6:20 PM,,9.1,9.2,,,,,,,,SMBD,,,,RTDE,,,"*Steps to reproduce:*

Search for customer CUST-1791-007.
Go to Customer Details ""CDD Risk"" tab ""Score Contributions"" section.
Observe this contribution:
Country of Residence Risk 30 Country of residence: Malta
(scenario weight is 50%, therefore RISK_WEIGHT 60 for Malta turns into 30 score contribution)

Go to Scenario Manager - CDD -> Shared List Management.
Click on Configuration Id ""1000"" In the Production tab.
Expand ""Info Lists in CDD - Customer Acceptance""
Go to CountryRisk.
In Details section click ""Manage Data"".
Look for ""Malta""
Edit RISK_WEIGHT value from 60 to 100.
Go to Scenario Manager - CDD -> Refresh. Refresh the model.

*****************************************

These steps are faster to perforn but they are blocked by FCENGX-887:

Perform manual Rescore of customer CUST-1791-007
Refresh the page [Alt + R] until a new score appears. View contributions.

*********************************************

*Alternative steps:*

Mark the customer for ODD rescore:
UPDATE customer_dynamic SET need_rescore_flag = 'Y', need_rescore_timestamp = CURRENT_TIMESTAMP WHERE CUSTOMER_ID = 'CUST-UNIQ-1791-007';

Co back to customer details and wait until a new score appears (may take up to 2 minutes). Refresh the page [Alt + R]until a new score appears. View contributions.

************************************************

*Expected result:* Country of Residence Risk contribution is 50.
*Actual result:* Country of Residence Risk contribution is 30.

After restarting RTDE docker container both on-demand and ODD rescore take new weight into account.

 

{*}Impact{*}: Clients need to restart RTDE server every time they update their Shared lists.

 

*Note:* Scenario Manager - CDD -> Refresh sends a message to nr-refresh_cdd topic defined for processingmodel.refreshing.topicSignal.topicName in application.conf. Refresh of the model using the same functionality works. The issue is limited to picking up updated shared list values. According to FCENG-23927, new entries added to a shared list are picked up as well. There is additional info on this issue in FCENG-23927 (Shared List are not load to memory). According to that ticket, the issue should be fixed by changing the ootb value of resources.InMemorySharedListJdbcConnection.jdbc.driver parameter in environment.conf from ""h2"" to ""sqllite"". I’ve checked and on our current installations we still have h2. ",,Tatiana Kukushkina,,,,,,,712020:f4cad52f-d917-4420-873b-c485c8d7e994,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FCENG-23927,APPSDEVX-49,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2hg8f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Occasional occurrence of installations with wrong Information for contribution 'Customer Account Types Risk',FCENGX-889,526661,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Trevor Murphy,712020:10f8721f-a33d-4a3f-a17b-ceb1dea60e0e,Tatiana Kukushkina,712020:f4cad52f-d917-4420-873b-c485c8d7e994,Tatiana Kukushkina,712020:f4cad52f-d917-4420-873b-c485c8d7e994,09/Oct/23 10:25 AM,17/Oct/23 8:27 AM,10/Nov/23 6:20 PM,,9.2,,,,,,,,,SMBD,,,,RTDE,,,"This isn't reproducible every time, but periodically we observe strange behavior with the info for a multi-value-scoring scenario on our automations.
Scenario info is defined as:
{noformat}
""Account Types linked to the Customer: "" + algorithm.lookup + "" the total of the contributions "" + algorithm.lookupValues + "" is used""{noformat}
*Expected behavior:*
The info for this contribution is like:
Account Types linked to the Customer: (AT0008,AT0003) the total of the contributions {color:#00875a}(85,30){color} is used

*Actual behavior:*
Account Types linked to the Customer: (AT0008,AT0003) the total of the contributions {color:#de350b}115.0{color} is used

OR (on another day installation):

Account Types linked to the Customer: (AT0008,AT0003) the total of the contributions ({color:#de350b}Mortgage,Cheque/Check{color}) is used

 

It appears that info coming from OB pipeline, including on-demand rescore, is correct. *The info coming from ODD shows the sum of the contributions.* The issue is only spotted on 1 environment 10.222.2.48, and doesn't occur on every installation. On the installation when it does occur, it is reproducible for every ODD rescore.

I've made an image with a backup of such installation: [ami-08d987c85673b35b0|https://eu-west-1.console.aws.amazon.com/ec2/v2/home?region=eu-west-1#ImageDetails:imageId=ami-08d987c85673b35b0]. 

The first time this behavior was logged is 08/09/2023, but I think we've seen it back in May as well. It wasn't analyzed thoroughly until now.

 ",,Michal Kolaczkowski,Tatiana Kukushkina,Trevor Murphy,,,,,712020:d4e1c12f-4c7f-42fe-8c91-16d00090f648,712020:f4cad52f-d917-4420-873b-c485c8d7e994,712020:10f8721f-a33d-4a3f-a17b-ceb1dea60e0e,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPSDEVX-418,,,,,,,,,17/Oct/23 8:24 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;image-2023-10-17-09-24-46-077.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/775024,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2hbfz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-10-13 11:54:28.229,,13/Oct/23 12:54 PM;712020:10f8721f-a33d-4a3f-a17b-ceb1dea60e0e;smart_3 9.2.0.0 release is now available from nexus . Suggest to test with that release and monitor.,"17/Oct/23 8:24 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;[~accountid:712020:10f8721f-a33d-4a3f-a17b-ceb1dea60e0e] , the anomalous behavior occurred again. It is slightly different than what was mentioned in description.

!image-2023-10-17-09-24-46-077.png!

We have seen it before in this variant as well, so it's not related to 9.2.0.0 only. I've updated the description.",,,,,,,,,,,,,,,,To Do
RTDE for OB crashes after Refresh from the UI,FCENGX-887,526569,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Trevor Murphy,712020:10f8721f-a33d-4a3f-a17b-ceb1dea60e0e,Tatiana Kukushkina,712020:f4cad52f-d917-4420-873b-c485c8d7e994,Tatiana Kukushkina,712020:f4cad52f-d917-4420-873b-c485c8d7e994,06/Oct/23 4:53 PM,10/Nov/23 11:48 AM,10/Nov/23 6:20 PM,,9.2,,,,,,,,,SMBD,,,,RTDE,,,"*Steps to reproduce:*

Any of the latest automations with CDD installed can be used. E.g. 10.222.2.48 (may need to start the instance).

Start tailing the log file /opt/netreveal/rtde/obdetarte/logs/smart.log

Login as admin.

Go to Scenario Manager - CDD -> Refresh. Refresh the model.

Expected result: No errors appear in the log.
Actual result: The error appears:
{noformat}ERROR TopicSignalModelRefresher: Processing model cannot be refreshed!
org.apache.spark.sql.AnalysisException: [UNTYPED_SCALA_UDF] You're using untyped Scala UDF, which does not have the input type information. Spark may blindly pass null to the Scala closure with primitive-type argument, and the closure will see the default value of the Java type for the null argument, e.g. `udf((x: Int) => x, IntegerType)`, the result is 0 for null input. To get rid of this error, you could:
1. use typed Scala UDF APIs(without return type parameter), e.g. `udf((x: Int) => x)`.
2. use Java UDF APIs, e.g. `udf(new UDF1[String, Integer] { override def call(s: String): Integer = s.length() }, IntegerType)`, if input types are all non primitive.
3. set ""spark.sql.legacy.allowUntypedScalaUDF"" to ""true"" and use this API with caution.{noformat}

 ",,Michal Kolaczkowski,Olga Zygman,Tatiana Kukushkina,Trevor Murphy,,,,712020:d4e1c12f-4c7f-42fe-8c91-16d00090f648,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,712020:f4cad52f-d917-4420-873b-c485c8d7e994,712020:10f8721f-a33d-4a3f-a17b-ceb1dea60e0e,,,,,,,,,,,,,,,,,,,,,APPSDEVX-558,,,,,,,,,,,,,NGDEX-326,,,,,,,,,,,,,,,,12/Oct/23 10:27 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;OB_smart.log;https://netreveal.atlassian.net/rest/api/3/attachment/content/775028,16/Oct/23 8:01 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;OBsmart-1.log;https://netreveal.atlassian.net/rest/api/3/attachment/content/775029,13/Oct/23 2:24 PM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;OBsmart.log;https://netreveal.atlassian.net/rest/api/3/attachment/content/775030,13/Oct/23 2:29 PM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;kafka_logs.zip;https://netreveal.atlassian.net/rest/api/3/attachment/content/775032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2haqf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-10-12 14:05:51.614,,"12/Oct/23 3:05 PM;712020:10f8721f-a33d-4a3f-a17b-ceb1dea60e0e;Hi [~accountid:712020:f4cad52f-d917-4420-873b-c485c8d7e994]  ,

 Do you know what Kafka version this is on ?

 

Thanks,

 Trevor","12/Oct/23 3:13 PM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;Automations are using the latest version ""1.46.0"" of installer scripts. It comes with kafka v.3.5.0.","13/Oct/23 12:50 PM;712020:10f8721f-a33d-4a3f-a17b-ceb1dea60e0e;Issue related to Kafka version. NGDEX-331 .  NEST team have reverted . 
 ","13/Oct/23 12:54 PM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;Hi Trevor, I've retested now on an installation from last night (10.222.2.48), and I am still able to reproduce the issue.","13/Oct/23 1:09 PM;712020:10f8721f-a33d-4a3f-a17b-ceb1dea60e0e;Hi [~accountid:712020:f4cad52f-d917-4420-873b-c485c8d7e994]  can you add the latest Kafka and smart log please ?

 

Thanks,

 Trevor","13/Oct/23 2:25 PM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;New smart log is attached. I also attached the zipped contents of /opt/netreveal/kafka/storage/broker/logs/. If that's not what you mean by kafka log, can you tell me where I can find it?",16/Oct/23 8:01 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;The issue is reproduced with smart_3.0-9.2.0.0. Log attached.,"10/Nov/23 11:48 AM;712020:05e12f3e-a969-415a-9f16-6effd8f7df7c;Hello,

This issue is still reproducible on Compliance environments. Checked with build run from 09/11/2023.

{noformat}23/11/10 11:44:27 INFO SparkRowScorer: Building score service for dimension: ScoreDimension(5,Product,false,Sum,false,5.0) with scenarios: List(Customer Account Types Risk)
23/11/10 11:44:27 INFO SparkRowScorer: Building score service for dimension: ScoreDimension(7,IndividualScore,false,Sum,false,100.0) with scenarios: List(Individual Customer Score)
23/11/10 11:44:27 INFO SparkRowScorer: Building score service for dimension: ScoreDimension(0,Channel,false,Sum,false,5.0) with scenarios: List(Face-To-Face Risk, Channel Risk)
23/11/10 11:44:28 INFO SparkRowScorer: Building score service for dimension: ScoreDimension(4,Behaviour,false,Sum,false,10.0) with scenarios: List(IU Cash In Volume, IU Cash Out Volume, IU Check In Volume, IU Check Out Volume, IU_Wire In Volume, IU Wire Out Volume, IU_Wire In Number, IU Wire Out Number)
23/11/10 11:44:30 INFO SparkNumericCombiner: Adding column for IndWithNestedBoRisk_score combiner
23/11/10 11:44:30 INFO SparkScoreContributionCombiner: Adding column for IndWithNestedBoRisk_score_contributions combiner
23/11/10 11:44:32 ERROR TopicSignalModelRefresher: Processing model cannot be refreshed!
org.apache.spark.sql.AnalysisException: [UNTYPED_SCALA_UDF] You're using untyped Scala UDF, which does not have the input type information. Spark may blindly pass null to the Scala closure with primitive-type argument, and the closure will see the default value of the Java type for the null argument, e.g. `udf((x: Int) => x, IntegerType)`, the result is 0 for null input. To get rid of this error, you could:
1. use typed Scala UDF APIs(without return type parameter), e.g. `udf((x: Int) => x)`.
2. use Java UDF APIs, e.g. `udf(new UDF1[String, Integer] { override def call(s: String): Integer = s.length() }, IntegerType)`, if input types are all non primitive.
3. set ""spark.sql.legacy.allowUntypedScalaUDF"" to ""true"" and use this API with caution.
        at org.apache.spark.sql.errors.QueryCompilationErrors$.usingUntypedScalaUDFError(QueryCompilationErrors.scala:2976) ~[spark-catalyst_2.12-3.4.0.jar:3.4.0]
        at org.apache.spark.sql.functions$.udf(functions.scala:5576) ~[spark-sql_2.12-3.4.0.jar:3.4.0]
        at com.netreveal.smart.processing.spark.impl.service.score.SparkNestedRowsScoreCombiner.appendChildrenRiskContribution(SparkNestedRowsScoreCombiner.scala:290) ~[smart_3.0-9.2.0.0-all.jar:?]
        at com.netreveal.smart.processing.spark.impl.service.score.SparkNestedRowsScoreCombiner.$anonfun$addChildrenContribution$2(SparkNestedRowsScoreCombiner.scala:242) ~[smart_3.0-9.2.0.0-all.jar:?]
        at org.apache.spark.sql.functions$.createLambda(functions.scala:4098) ~[spark-sql_2.12-3.4.0.jar:3.4.0]
        at org.apache.spark.sql.functions$.transform(functions.scala:4131) ~[spark-sql_2.12-3.4.0.jar:3.4.0]
        at com.netreveal.smart.processing.spark.impl.service.score.SparkNestedRowsScoreCombiner.$anonfun$addChildrenContribution$1(SparkNestedRowsScoreCombiner.scala:242) ~[smart_3.0-9.2.0.0-all.jar:?]
        at scala.collection.LinearSeqOptimized.foldLeft(LinearSeqOptimized.scala:126) ~[scala-library-2.12.17.jar:?]
        at scala.collection.LinearSeqOptimized.foldLeft$(LinearSeqOptimized.scala:122) ~[scala-library-2.12.17.jar:?]
        at scala.collection.immutable.List.foldLeft(List.scala:91) ~[scala-library-2.12.17.jar:?]
        at com.netreveal.smart.processing.spark.impl.service.score.SparkNestedRowsScoreCombiner.addChildrenContribution(SparkNestedRowsScoreCombiner.scala:235) ~[smart_3.0-9.2.0.0-all.jar:?]
        at com.netreveal.smart.processing.spark.impl.service.score.SparkNestedRowsScoreCombiner.apply(SparkNestedRowsScoreCombiner.scala:103) ~[smart_3.0-9.2.0.0-all.jar:?]
        at com.netreveal.smart.processing.spark.impl.service.score.SparkNestedRowsScoreCombiner.apply(SparkNestedRowsScoreCombiner.scala:30) ~[smart_3.0-9.2.0.0-all.jar:?]
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor.executeServiceAction(AbstractSparkProcessor.scala:251) ~[smart_3.0-9.2.0.0-all.jar:?]
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor.$anonfun$buildSingleProcessingQuery$1(AbstractSparkProcessor.scala:247) ~[smart_3.0-9.2.0.0-all.jar:?]
        at scala.collection.LinearSeqOptimized.foldLeft(LinearSeqOptimized.scala:126) ~[scala-library-2.12.17.jar:?]
        at scala.collection.LinearSeqOptimized.foldLeft$(LinearSeqOptimized.scala:122) ~[scala-library-2.12.17.jar:?]
        at scala.collection.immutable.List.foldLeft(List.scala:91) ~[scala-library-2.12.17.jar:?]
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor.buildSingleProcessingQuery(AbstractSparkProcessor.scala:246) ~[smart_3.0-9.2.0.0-all.jar:?]
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor.buildProcess(AbstractSparkProcessor.scala:121) ~[smart_3.0-9.2.0.0-all.jar:?]
        at com.netreveal.smart.processing.spark.AbstractSparkProcessor.$anonfun$inThreadBuildProcesses$3(AbstractSparkProcessor.scala:97) ~[smart_3.0-9.2.0.0-all.jar:?]
        at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23) ~[scala-library-2.12.17.jar:?]
        at scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659) ~[scala-library-2.12.17.jar:?]
        at scala.util.Success.$anonfun$map$1(Try.scala:255) ~[scala-library-2.12.17.jar:?]
        at scala.util.Success.map(Try.scala:213) ~[scala-library-2.12.17.jar:?]
        at scala.concurrent.Future.$anonfun$map$1(Future.scala:292) ~[scala-library-2.12.17.jar:?]
        at scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33) ~[scala-library-2.12.17.jar:?]
        at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33) ~[scala-library-2.12.17.jar:?]
        at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64) ~[scala-library-2.12.17.jar:?]
        at java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402) ~[?:1.8.0_152]
        at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289) ~[?:1.8.0_152]
        at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056) ~[?:1.8.0_152]
        at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692) ~[?:1.8.0_152]
        at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157) ~[?:1.8.0_152]
{noformat}",,,,,,,,,,To Do
UxReStyling-|VisJs|Export Button -not Positioned based on 'exportButtonPosition' Parameter,FCENGX-884,526396,,Bug,In Review,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Kamil Reczek,712020:294366da-96fa-4801-9e23-c83db37f1d0f,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,05/Oct/23 2:49 PM,10/Nov/23 5:21 PM,10/Nov/23 6:20 PM,,,,,,,,,,,Base Platform,,,,,,,"[FCENG-8687] UxReStyling-|VisJs|Export Button -not Positioned based on 'exportButtonPosition' Parameter - Netreveal Jira (v[aliantys.net)|http://valiantys.net]



from [https://netreveal.atlassian.net/browse/FCENG-8687|https://netreveal.atlassian.net/browse/FCENG-8687|smart-link]

Pre-requisite :

Ensure that the exportButtonPosition is set to a different positions other than the default position =Top Right

1.Login as valid user

2.Navigate to a VisJs chart and ensure that the icon/export button is positioned on section based on the parameter value 

 Actual result :Only Top Right Position is  behaving correctly 

Top Left positioned at >Top Right

With Bottom Left settings the button at Bottom Right 

Expected Result: The icon/Button should be positioned on screen based on the section parameter settings",,Kamil Reczek,Rekha John,,,,,,712020:294366da-96fa-4801-9e23-c83db37f1d0f,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,time-tracking;09/Nov/23 7:08 PM;557058:295406f3-a1fc-4733-b906-dd15d021bd79;18000,,,,,,,,,,18000,,,,18000,,,,,,,,FCENG-8687,,,,,,,,,,,,,,,,,,,,,,,,10/Nov/23 10:02 AM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;net_vis_section_exp_button_bottom_right.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/923272,10/Nov/23 10:02 AM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;net_vis_section_exp_button_top_left.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/923271,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2h9c7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Rubik's Sprint 167,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-11-10 10:02:49.705,,"10/Nov/23 10:02 AM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;I’ve discovered additional issue with _Network Visualization Section_. You can set position of the Export button but if Top Left or Bottom Left is chosen, then the button is still placed on the top or bottom right respectively. Once it’s fixed, the left-position button looks fine:

!net_vis_section_exp_button_top_left.png|width=200,height=155!

However, when the button position is set to Right Top or Right Bottom, it’s aligned wrong:

!net_vis_section_exp_button_bottom_right.png|width=175,height=119!","10/Nov/23 3:08 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;I believe this misalignment was introduced by this commit:

{noformat}Revision: 965530
Author: filipe.dasilva
Date: Monday 4 October 2021 11:00:59
Message:
[FCENG-21568] Styles issues - menu button - screen toolbar wraparound
----
Modified : /CoreDev/trunk/subprojects/web/src/main/web/css/css/cs-platform-application-builder.css{noformat}",,,,,,,,,,,,,,,,In Progress
"Drag & drop file upload | CFG-10021 mandatory validation & CFG-20009 success displayed , when document name removed on second file upload attempt",FCENGX-881,526403,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,05/Oct/23 1:56 PM,05/Oct/23 1:57 PM,10/Nov/23 6:20 PM,,9.1,,,,,,,,,,,,,,,,"[FCENG-26358] Drag & drop file upload | CFG-10021 mandatory validation & CFG-20009 success displayed , when document name removed on second file upload attempt - Netreveal Jira (valiantys.net)",,Rekha John,,,,,,,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2h99j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Oct/23 1:57 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;Under Retest,,,,,,,,,,,,,,,,,To Do
SAMLAuthenticationProvider:98 - Error validating SAML message | An application error,FCENGX-840,526112,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,04/Oct/23 5:34 PM,04/Oct/23 5:34 PM,10/Nov/23 6:20 PM,,9.1,,,,,9.2,,,,Base Platform,,,,,,,"Steps to reproduce:

1.Ensure that the latest build is deployed on websphere/oracle

2.Complete SAML set up 

3.Launch Application and ensure user can access the application 

4.First time when application launched there was An application error >detailed logs for today are attached

.Make changes on shibboleth server ,edit metadataprovider.xml

 

5.restart shibboleth ,(Netreveal was not restarted)

6 Login as dubtest001/Norkom098 and observe 

Application error is noticed 

I am raising this since ,have noticed this error a couple of time today 

The Websphere settings are not changed 

-Cookies enabled as required

 

Note:when the page Information to be provided to services is not shown ,is where the error observed .

-If user Send the request url again from same browser session ,the landing page is (as in screen shot) and Application launched .",,Paul Nolan,,,,,,,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FCENG-21130,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,FCENGX-16,EIM Platform Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2h7rr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Rubik's Priority Review,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,526422,EIM Platform Support and Maintenance,To Do
Tracing User Activity feature not working as expected,FCENGX-839,525932,,Bug,In Review,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Kamil Reczek,712020:294366da-96fa-4801-9e23-c83db37f1d0f,Charminda Bandara,712020:7c3de424-5a3a-4d92-b05e-fb48fc4ef25a,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,04/Oct/23 5:30 PM,02/Nov/23 10:22 AM,10/Nov/23 6:20 PM,,8.4,,,,,9.2,,,,Base Platform,,,,,,,"Tracing User Activity is a feature that can enable monitoring for particular users to measure the performance of various application components. You can then monitor the login sessions of those users and determine how long (in milliseconds) the system takes to respond for particular application and workflow components.

When this feature is enabled recently to investigate a performance issue, team noticed the total time of a particular event is not matching to the sum of individual actions/events (see image).

Tracing User Activity feature needs work as described in Base Platform User Guide (e.g 8.3) -  [https://connect/teamshare/NRPM/Solutions/Solutions%20Library/Base%20Platform%20UI%20Guide%208.3.pdf]",,Kamil Reczek,Paul Nolan,,,,,,712020:294366da-96fa-4801-9e23-c83db37f1d0f,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,,,,,Working on issue FCENGX-839;16/Oct/23 10:18 AM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;21600,Working on issue FCENGX-839;16/Oct/23 10:18 AM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;10800,Working on issue FCENGX-839;16/Oct/23 10:18 AM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;21600,Working on issue FCENGX-839;20/Oct/23 8:36 AM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;18000,,,,,,,72000,,,,72000,,,,,,,,,,,,,,,,,,,,,FCENG-21960,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,FCENGX-16,EIM Platform Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2h7rj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Rubik's Sprint 165,Rubik's Sprint 166,Rubik's Sprint 167,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-10-18 13:26:03.712,,"18/Oct/23 2:26 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;[~accountid:712020:29e25286-a601-4d93-a3d2-3e4765f97f42], [~accountid:712020:7c3de424-5a3a-4d92-b05e-fb48fc4ef25a], [~accountid:712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a]
I've prepared confluence page with my findings for better readability.
Note: it's not a fix.
[https://netreveal.atlassian.net/wiki/spaces/Eng/pages/22619026/FCENGX-839+Tracing+User+Activity+feature+not+working+as+expected|https://netreveal.atlassian.net/wiki/spaces/Eng/pages/22619026/FCENGX-839+Tracing+User+Activity+feature+not+working+as+expected|smart-link] ",,,,,,,,,,,,,,,526422,EIM Platform Support and Maintenance,In Progress
services manager imports fails with sax parser error where message-body <![CDATA[<txn>,FCENGX-832,526070,,Bug,In Progress,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,,,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,04/Oct/23 5:12 PM,03/Nov/23 3:39 PM,10/Nov/23 6:20 PM,,9.1,,,,,9.2,,,,Base Platform,,,,,,,"Steps to reproduce:

Test env:
|https://10.222.7.20:8443/norkom|
|DB Server :Oracle19c|
|Tag :9.1.0.0.0-a22Tag|

1.Ensure that services manager exists with KAFKA-FREEFORM MESSAGE Sequence functions and the message-body parameter is as below:

Note: Ensure that the Encoding format is not UTF-8-BOM for the message-body

<Message>
<Id>1001</Id>
<Type>XML</Type>
<Sequence>eim-plat-producer-seq</Sequence>
<Source>Real Time</Source>
<Data>
<![CDATA[<txn>
<id>1000</id>
<f_name>eim-plat-producer_fn</f_name>
<l_name>eim-plat-producer-ln</l_name>
</txn>]]>
</Data>
</Message>

2.export the services configuration 

3.Import the configuration from services manager > services configuration > import configuration and observe 

Observed : The configuration import is failing 

I have validated the xml message-body using a validator tool and format seems a valid one 

Expected Imported configuration where the message-body has <![CDATA[<txn> wrapped 

Please do find the attached logs ",,Kamil Reczek,Paul Nolan,,,,,,712020:294366da-96fa-4801-9e23-c83db37f1d0f,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,,,,,time-tracking;25/Oct/23 12:03 PM;557058:295406f3-a1fc-4733-b906-dd15d021bd79;14400,,,,,,,,,,14400,,,,14400,,,,,,,,,,,,,,,,,,,,,FCENG-26345,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,FCENGX-16,EIM Platform Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2h7pr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-10-26 09:51:14.142,,"26/Oct/23 10:51 AM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;This is a high impact issue, with very little gain. 

Changing the SM import/export logic may have huge impact on this module. Moreover this issue was discovered by platform QA, not APPS or Services.

Moving to backlog.",,,,,,,,,,,,,,,526422,EIM Platform Support and Maintenance,In Progress
Spnego+LDAP | Connection Time out exceptions noticed,FCENGX-827,525913,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,04/Oct/23 4:57 PM,04/Oct/23 4:57 PM,10/Nov/23 6:20 PM,,8.4,,,,,9.2,,,,Base Platform,,,,,,,"Steps to reproduce:

1.Ensure that test environment is up and running with SPNEGO

[https://10.222.7.105:9443/norkom]

[https://10.222.7.10:9443/norkom]

 

2.Login as a LDAP user who is a member of EIM Administration Group & EIM Configurator Group ,But no role-permissions to launch the Netreveal Application(dubtest100Norkom098)

Observed :The Application keeps loading and after  5 minutes a system error thrown

In Norkom.log there is conenction time out exceptions noticed (Please do find the logs attached)

 

3.Delete an LDAP User from AD and try to launch the application logging in as another user 

In above scenario also ,there is a Timeout exception noticed when the user is deleted and USERS Table marked with deleted flag ,UI Keeps loading for long time.

In both scenarios above a server restart is only option to relaunch the Netreveal Application 

 

Expected : An error page when login fails

Deleting a USER in AD shouldn't be leading to Time out exceptions",,Paul Nolan,,,,,,,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FCENG-20513,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,FCENGX-16,EIM Platform Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2h7on:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Rubik's Priority Review,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,526422,EIM Platform Support and Maintenance,To Do
SharedList Pagination | better to have Pagination Report ' Showing 1 of X Page ',FCENGX-806,525958,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,29/Sep/23 9:00 AM,12/Oct/23 5:25 PM,10/Nov/23 6:20 PM,,9.2,,,,,9.2,,,,Base Platform,,,,,,,"With the introduction of Pagination for shared lists there is no pagination report , that display the Showing 1 of X Page etc

Expected: Better User experience.

Total Records on List can be easily seen.

 ",,Rekha John,,,,,,,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,FCENGX-245,Shared List Management Performance Updates,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2h2rz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,526006,Shared List Management Performance Updates,To Do
Shared List UX - Better to highlight the Row that is being edited.,FCENGX-716,526980,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,19/Sep/23 2:30 PM,19/Sep/23 2:30 PM,10/Nov/23 6:20 PM,,9.2,,,,,,,,,Application Builder,Base Platform,,,SharedListData_AddRow,SharedListData_EditRow,,"1.Login to test environment [https://10.222.7.59:9443/norkom]

2.Go to scenario manaer > shared lists management

3.select a config ID and try to edit/Add Row for any List type

Expected : The Row highlighted for better user experience

Observed : we no longer highlight the row that user is working with

 ",,Rekha John,,,,,,,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2gpvj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
List Data DeleteRow Icon shouldn't be available for a List definition with NoKey Columns,FCENGX-708,525912,,Bug,Analysis,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Alec Cornelius,712020:29e25286-a601-4d93-a3d2-3e4765f97f42,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,18/Sep/23 3:10 PM,27/Oct/23 10:37 AM,10/Nov/23 6:20 PM,,9.2,,,,,9.2,,,,Base Platform,,,,,,,"1.Login to [https://10.222.7.59:9443/norkom]

2.Navigate to Shared Lists > and select config id = 1211
3. In Info Lists > Open CountryFlagList  and Go to Manage Data

4.Verify Delete Row icon not displayed

Expected :
eleteRowIconNotDisplayedWithListDefinitionHavingNoKeyColumns
Observed : Delete Icon displayed and not active",,Rekha John,,,,,,,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,FCENGX-245,Shared List Management Performance Updates,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|hyp8eq:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Rubik's Doc Bucket,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,526006,Shared List Management Performance Updates,In Progress
Shared List Data -Toolbar Buttons slightly misaligned,FCENGX-706,526990,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,4 - Low,,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,18/Sep/23 12:52 PM,18/Sep/23 12:52 PM,10/Nov/23 6:20 PM,,8.1,,,,,9.2,,,,Base Platform,,,,,,,"1.Login as a valid user to Netreveal application on any browser

2.Select any Info/Monitoring or Exempt lists and observe the Tool bar buttons

3.The buttons within the toobar container

*Expected-*  ++   The button not over or under the containers.

Fits within the toolbar panes

[https://netreveal.atlassian.net/browse/FCENG-16278|https://netreveal.atlassian.net/browse/FCENG-16278]

 

Observed: since long time we have this slightly off with alignment

!image-2023-09-18-12-52-14-834.png|width=200,height=183!

!image-2023-09-18-12-51-44-222.png|width=200,height=183!",,Rekha John,,,,,,,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Sep/23 12:51 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;image-2023-09-18-12-51-44-222.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/775152,18/Sep/23 12:52 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;image-2023-09-18-12-52-14-834.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/775154,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2goaf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Recorded Match Exclusions screen issues,FCENGX-661,526937,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Monika Donder,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,Ben Princen,712020:d51c111e-3ac8-41ea-9613-0985cb0cbe74,Ben Princen,712020:d51c111e-3ac8-41ea-9613-0985cb0cbe74,06/Jun/23 7:54 PM,05/Sep/23 8:59 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,ReadyToEstimate,,,"Steps to reproduce (you need to run this on env with WLM configuration where you are able to generate alert and match exclusion).
 # Create match exclusion rule set in WLM for Shared and Transaction Filtering.
 # Create first rule in the new ruleset with Name: Test, Match exclusion term: Robert Gabriel Mugabe, List Entity Id: *, and all other fields leave as default.
 # Create second rule in the new ruleset with Name: Test 2, Match exclusion term: Joseph Kony, List Entity Id: *, and all other fields leave as default.
 # Reload Match Exclusion configuration.
 # Send Test Message three times (use data from attached file). 
 # Update data in the table WLM_ME_ALERT_MATCH_DATA in column ALERT_DATE to have excusion from 3 different dates (it is necessary to be able to see the issue).
 # Navigate to Recorded Match Exclusions screen and observe

Issue Description:

When user clicks in the section Match Exclusion Report on chart Exclusion Rule one of names, data in all charts and bottom list is filtered except for chart with name Number of Exclusions per day. It is showing still all data not only data from one Rule (see attached jpg files with all data and with filter applied).

Additionally nothing happens when user clicks Rule name in the legend on this chart (I assume it should work as on all other charts - click on Rule Name should filter data).

 
 
 ",,Ben Princen,Monika Donder,,,,,,712020:d51c111e-3ac8-41ea-9613-0985cb0cbe74,712020:b4b55144-b43b-45ac-aa43-a67818644bc2,,,,,,,,,,,,,,,,,,,,,,,,,BOAWLM-756,,,,,,,,,,,,,,,,,,OCBCNRKYC-396,,,,,,,,,05/Sep/23 8:56 AM;712020:b4b55144-b43b-45ac-aa43-a67818644bc2;CrossFilter_allData.jpg;https://netreveal.atlassian.net/rest/api/3/attachment/content/775166,05/Sep/23 8:56 AM;712020:b4b55144-b43b-45ac-aa43-a67818644bc2;CrossFilter_filterApplied.jpg;https://netreveal.atlassian.net/rest/api/3/attachment/content/775169,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,WLMX-514,Match Exclusion Follow-Ups,,,,,,,,,,,,,,,,,,,,,,8.0.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0|i0l4zo:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPS Development,Engineering,,,,,,,,,,,,,Open Recorded Match Exclusions,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-09-05 07:58:43.144,,"06/Jun/23 8:02 PM;712020:d51c111e-3ac8-41ea-9613-0985cb0cbe74;Moved to PLAT - Cannot move to WLM

Hi Monika, customer has 2 issues on the Recorded match exclusions:
 * Alert ID not always shown, although alert is in the DB. This issue was also logged by OCBC and I linked it in here
 * Match Exclusion Report : Number of exclusions per day (top left): Clicking on the rule does nothing. Customer expects results to be filtered like all other graphs. This is reproducible in all 8.x versions

 

*Please note that the clone of the original ticket is ONLY for the issues here above(alert ID and link not working), ignore the description in the ticket*","05/Sep/23 8:58 AM;712020:b4b55144-b43b-45ac-aa43-a67818644bc2;Hi Ben,

first issue was fixed in later versions of core.

second issue is a cross filter platform problem so I move the ticket to FCENG.",,,,,,,,,,,,,,720101,Match Exclusion Follow-Ups,To Do
LDAP Server configuration | Replicator not working with  User/Group RDN  ,FCENGX-616,526013,,Bug,In Review,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,22/Aug/23 2:31 PM,02/Nov/23 10:22 AM,10/Nov/23 6:20 PM,,9.2,,,,,9.2,,,,Base Platform,,,,,,,"1.Login to [https://10.222.7.176:9443/norkon]

2.Create LDAP Server 

using server url :ldap://ldap.ad.engineering.fs.caws.local:3268

Base DN=OU=Test_Users,DC=LBG,DC=net

Add replicator details 

LDAP Query Users:(objectClass=organizationalPerson)

Group LDAP Query=(objectClass=group)

Group member attribute=member

Login Attribute=sAMAccountName

*User RDN  dc=Users*

*Group RDN dc=Groups*

Observe logs :Replicator stooped running with below error 
{code:java}
 n: [LDAP: error code 32 - 0000208D: NameErr: DSID-03100245, problem 2001 (NO_OBJECT), data 0, best match of:
        'OU=Test_Users,DC=LBG,DC=net'
]; nested exception is javax.naming.NameNotFoundException: [LDAP: error code 32 - 0000208D: NameErr: DSID-03100245, problem 2001 (NO_OBJECT), data 0, best match of:
        'OU=Test_Users,DC=LBG,DC=net'
]; remaining name 'dc=Users'
{code}
 

Groups RDN
{code:java}

22-Aug-2023 14:32:00,067 -  -  WARN  LdapReplicator:807 - LDAP Replication failed against [LDAPServer1] - LDAP Connection problem : org.springframework.ldap.NameNotFoundException: [LDAP: error code 32 - 0000208D: NameErr: DSID-03100245, problem 2001 (NO_OBJECT), data 0, best match of:
        'OU=Test_Users,DC=LBG,DC=net'
]; nested exception is javax.naming.NameNotFoundException: [LDAP: error code 32 - 0000208D: NameErr: DSID-03100245, problem 2001 (NO_OBJECT), data 0, best match of:
        'OU=Test_Users,DC=LBG,DC=net'
]; remaining name 'dc=Groups'
 {code}
This was working during my previous iteration",,Kamil Reczek,Rekha John,,,,,,712020:294366da-96fa-4801-9e23-c83db37f1d0f,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,time-tracking;31/Oct/23 9:29 AM;557058:295406f3-a1fc-4733-b906-dd15d021bd79;21600,,,,,,,,,,21600,,,,21600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/23 4:19 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;engineering_AD_structure.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/919771,27/Oct/23 4:19 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;user_RDN.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/919772,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,FCENGX-16,EIM Platform Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2fv2f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Rubik's Sprint 166,Rubik's Sprint 167,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-10-27 15:19:53.902,,"27/Oct/23 4:19 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;[~accountid:712020:3c31c009-8480-4942-b416-80e22b8447c7] 
I think this is a config error. According to SSO UI Guide:

!user_RDN.png|width=512,height=342!

Using the above LDAP server setting, the replicator will try to find Users in (User RDN + Base DN):

{noformat}dc=Users,OU=Test_Users,DC=LBG,DC=net{noformat}

This is the Engineering AD container structure:

!engineering_AD_structure.png|width=1073,height=643!

In the given Base DN: _LBG.net\Test_Users_ there is no object of type {{dc}} and name {{Users}}
There is a container of type dc and name Users, but it’s not placed in _Test_Users_ (type {{OU}}). But if you want to replicate Users present in that container, you need to use the following settings:
Base DN: {{DC=LBG,DC=net}}
User RDN: {{DC=Users}}

Similarly in the case of Groups:
For the Base DN: {{OU=Test_Users,DC=LBG,DC=net}} object (container) of type dc and name Groups does not exists.

There is such container but it’s ‘one level up’:
Base DN: {{DC=LBG,DC=net}}
Group RDN: {{DC=Groups}}",,,,,,,,,,,,,,,526422,EIM Platform Support and Maintenance,In Progress
LDAP Replicator cannot replicate groups when active directory flag is true ,FCENGX-600,526015,,Bug,Review Complete,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Kamil Reczek,712020:294366da-96fa-4801-9e23-c83db37f1d0f,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,21/Aug/23 5:14 PM,02/Nov/23 5:24 PM,10/Nov/23 6:20 PM,,9.2,,,,,9.2,,,,Base Platform,,,,,,,"1.Login to [https://10.222.7.176:9443/norkom]

2.Ensure that LDAP Replicator is running without Active Directory Flag =False

3.Verify that both Users /Groups are replicated.

4.Now turn the LDAP server , Active directory flag =true

5.Observe logs

6.Go to Active directory and create a  new group for 
|OU=Test_Users_A,DC=LBG,DC=net|

7.Observe Logs a warning is seen and then the Replicator No longer runs
{code:java}
21-Aug-2023 16:56:30,256 -  -  INFO  LdapReplicator:936 - Ldap Replication Run, Duration : 0 secs
                                                                                 - Users Created  : 121-Aug-2023 16:57:00,046 -  -  WARN  LdapUtil:268 - Failed to parse dn [top]
21-Aug-2023 16:57:00,047 -  -  WARN  LdapUtil:268 - Failed to parse dn [group]
21-Aug-2023 16:57:00,050 -  -  WARN  LdapUtil:268 - Failed to parse dn [top]
21-Aug-2023 16:57:00,050 -  -  WARN  LdapUtil:268 - Failed to parse dn [group]
21-Aug-2023 16:57:00,053 -  -  WARN  LdapUtil:268 - Failed to parse dn [top]
21-Aug-2023 16:57:00,053 -  -  WARN  LdapUtil:268 - Failed to parse dn [group]
21-Aug-2023 16:57:00,055 -  -  WARN  LdapUtil:268 - Failed to parse dn [top]
21-Aug-2023 16:57:00,055 -  -  WARN  LdapUtil:268 - Failed to parse dn [group]
21-Aug-2023 16:57:00,058 -  -  WARN  LdapUtil:268 - Failed to parse dn [top]
21-Aug-2023 16:57:00,058 -  -  WARN  LdapUtil:268 - Failed to parse dn [group]
21-Aug-2023 16:57:00,061 -  -  WARN  LdapUtil:268 - Failed to parse dn [top]
21-Aug-2023 16:57:00,061 -  -  WARN  LdapUtil:268 - Failed to parse dn [group]
21-Aug-2023 16:57:00,063 -  -  WARN  LdapUtil:268 - Failed to parse dn [top]
21-Aug-2023 16:57:00,064 -  -  WARN  LdapUtil:268 - Failed to parse dn [group]
21-Aug-2023 16:57:00,066 -  -  WARN  LdapUtil:268 - Failed to parse dn [top]
21-Aug-2023 16:57:00,066 -  -  WARN  LdapUtil:268 - Failed to parse dn [group] {code}
Expected. New Groups replicated as expected.

Note :AML SA Scenario Manager Groups was replicated before the flag was set to true .",,Kamil Reczek,Rekha John,,,,,,712020:294366da-96fa-4801-9e23-c83db37f1d0f,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,time-tracking;01/Nov/23 3:26 PM;557058:295406f3-a1fc-4733-b906-dd15d021bd79;21600,time-tracking;01/Nov/23 3:26 PM;557058:295406f3-a1fc-4733-b906-dd15d021bd79;21600,,,,,,,,,43200,,,,43200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,01/Nov/23 3:09 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;member_objectclass2.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/920628,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2023-11-02T17:23:38.000+0000"",""dataType"":""repository""},""byInstanceType"":{""stash"":{""count"":1,""name"":""Bitbucket Server""}}}}},""isStale"":true}}",,,,,,,,,,,FCENGX-16,EIM Platform Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2fu5z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Rubik's Sprint 166,Rubik's Sprint 167,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-11-01 14:57:24.508,,"01/Nov/23 2:57 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;This issue was caused by _spring-ldap_ update (FCENGX-356). I tried to reproduce this issue on 8.4.1 (locally) with old _spring-ldap:1.2.3_, but wasn’t able to. Once I’ve replaced the library with version 2.4.1, I got the error.

Replication process (simplified):

# Replicate users
# Replicate groups
## Synchronize Group members, for already replicated groups - *This is the part that fails and throws exceptions*

This behaviour is specific only for AD type of LDAP Replicator. Microsoft AD requires _range_ queries, where an attribute contains more than a set limit (i.e. [link|https://learn.microsoft.com/en-us/previous-versions/windows/desktop/ldap/searching-using-range-retrieval]). Therefor different method is used when retrieving Group member:

{noformat}private String[] activeDirectoryRangeRetrieval(final DirContextAdapter context,
                                                   final String groupCN,
                                                   final String groupMembershipAttributeName){noformat}

It’s designed to get users in batches, so the limit is met. Size of that batch currently equals 100 and it’s hard-coded. There are two objects used in that method that are essential:

# SearchControls:
{noformat}SearchControls searchCtls = new SearchControls();
String returnedAtts[] = { groupMembershipAttributeName + "";range="" + Range };
            
searchCtls.setReturningAttributes(returnedAtts);{noformat}
It specifies the list of attributes that should be returned with for the given group. 
# AttributeContextMapper:
Once the AD LDAP query results are fetched, group members are retrieved using the mapper (_attribMapper_)
{noformat}if (StringUtil.isEmpty(ldapServerDetails.getReplicatorGroupRelativeDN()))
   answer = ldapTemplate.search("""", searchFilter, searchCtls, attribMapper);
else
   answer = ldapTemplate.search(ldapServerDetails.getReplicatorGroupRelativeDN(), searchFilter, searchCtls, attribMapper);{noformat}

Here’s the problem. This mapper expects there will be only attributes containing Group members. There might be more than one, as this is the range query, with batch size = 100. Nevertheless, the ‘structure’ of these attribute should be the same, as these should contains only assigned users.

However, when spring-ldap was updated, the context contained additional attribute - _objectclass_, which has value _top; group_. Attribute mapper treated it as a User and added ‘users’ _top_ and _group_ the the result list. Later, elements of that list are parsed into User objects, hance the errors in the logs.

!member_objectclass2.png|width=377,height=448!

The difficult part is I have no idea why additional attribute _objectclass_ is present in the results, even though the SearchControls object specifically lists only ‘member’ attribute.

The fix is to process only attributes which ID starts with _member_ (or any other defined value of {{groupMembershipAttributeName}})",,,,,,,,,,,,,,,526422,EIM Platform Support and Maintenance,In Progress
Command and control Summary view loading sluggish,FCENGX-567,526764,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,10/Aug/23 8:36 AM,10/Aug/23 8:37 AM,10/Nov/23 6:20 PM,,9.2,,,,,9.2,,,,Base Platform,,,,,,,"Chrome is up to date
Version 115.0.5790.171 (Official Build) (64-bit)
 
Steps follows as below:
Login to [https://10.222.7.176:9443/norkom]
2.Go to Command and control report builder 
3.Plot a Chart as given in Current Report, such that there is more data to be loaded
4.Observe , tooks around 1m to load that page ,Initially a blank one and slowly page loaded 
Please do find the screen shot atatched .Issue evient with tab sections on same screen .
 ",,Rekha John,,,,,,,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Aug/23 8:37 AM;712020:3c31c009-8480-4942-b416-80e22b8447c7;Step1Screenshot 2023-08-10 083503.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/775090,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,FCENGX-246,v9.2 Library Upgrades,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2fm4n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,527691,v9.2 Library Upgrades,To Do
Reset to default view doesn't not work automatically,FCENGX-566,526917,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,08/Aug/23 2:15 PM,08/Aug/23 2:20 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"h3. Version Details - project-template-fresh_10.222.2.48-9.1.0.0-a714
Core Version:9.2.0.0-a13
Core Build Date:2023-08-07
Client Version:9.1.0.0
Client Build Number:1
Client Build Date:2023-08-07 19:22:21
 

Steps:
 # I go to Back Office->Subjects->Customers
 # I enter cust% in the Customer ID textfield.
 # I click Search.
 # I click on name link in the first row of Matching Customers list
 # I click Subjects tab.
 # I click on Select to hide or show columns button.
 # I click checkbox %Ownership to show the column and it appears in the section automatically.
 # I close the popup.
 # *{color:#de350b}I click reset to default view button in the Customers section and the column is still in the table (it only disappeared after refreshing the page){color}*

{color:#172b4d}Screen recording attached{color}",,Milena Elzbieta Mietkiewicz,,,,,,,712020:0d464633-ae85-4b20-ace8-1019764d285d,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Aug/23 2:18 PM;712020:0d464633-ae85-4b20-ace8-1019764d285d;Screen Recording 2023-08-08 at 15.14.01.mov;https://netreveal.atlassian.net/rest/api/3/attachment/content/775176,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2fk47:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Interactive List has to display at least one column warning appears when I want to uncheck one of columns,FCENGX-565,526915,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,08/Aug/23 1:48 PM,08/Aug/23 2:21 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"h3. Version Details - project-template-fresh_10.222.2.48-9.1.0.0-a714

Core Version:9.2.0.0-a13
Core Build Date:2023-08-07
Client Version:9.1.0.0
Client Build Number:1
Client Build Date:2023-08-07 19:22:21
 

Steps:
 # I go to Back Office->Subjects->Customers
 # I enter cust% in the Customer ID textfield.
 # I click Search.
 # I click on name link in the first row of Matching Customers list
 # I click Subjects tab.
 # I click reset to default view in the Customers section.
 # I click on Select to hide or show columns button.
 # I click checkbox %Ownership to show the column and it appears in the section automatically.
 # *{color:#de350b}Then I try to uncheck the same column and no action happened. The checkbox is still marked.{color}* 
 # I close the popup and click on Select to hide or show columns button one more time.
 # I click checkbox Customer Type to show the column and it appears in the section automatically.
 # *{color:#de350b}Then I try to uncheck the same column and{color} {color:#de350b}Interactive List has to display at least one column warning appears{color}*

{color:#172b4d}Screen recording attached{color}",,Milena Elzbieta Mietkiewicz,,,,,,,712020:0d464633-ae85-4b20-ace8-1019764d285d,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Aug/23 2:11 PM;712020:0d464633-ae85-4b20-ace8-1019764d285d;Screen Recording 2023-08-08 at 15.08.54.mov;https://netreveal.atlassian.net/rest/api/3/attachment/content/775175,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2fk2n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
EIMDataExporter:428 - Error retrieving PKs to index; FtsDataSource [Case_WF_NOTE_DS] export of DataSource Detla failed ,FCENGX-564,525877,,Bug,Analysis,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Olga Zygman,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,Olga Zygman,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,Olga Zygman,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,08/Aug/23 10:17 AM,10/Nov/23 12:37 PM,10/Nov/23 6:20 PM,,9.2,,,,,9.2,,,,Base Platform,,,,EIM,FTS,,"On 07/08/2023 on all four Full Compliance Automations I have spotted the same error.

Error log below and complete log attached.

{code}

10:30:03,662 -  -  ERROR EIMDataExporter:428 - Error retrieving PKs to index
org.postgresql.util.PSQLException: ERROR: trailing junk after parameter at or near ""$1a""
  Position: 153
    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2422) ~[?:?]
    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2167) ~[?:?]
    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:306) ~[?:?]
    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[?:?]
    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[?:?]
    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:155) ~[?:?]
    at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:118) ~[?:?]
    at org.jboss.jca.adapters.jdbc.CachedPreparedStatement.executeQuery(CachedPreparedStatement.java:113) ~[?:?]
    at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeQuery(WrappedPreparedStatement.java:504) ~[?:?]
    at com.norkom.search.business.engine.elastic.search.EIMDataExporter.retrieveDatasourcePrimaryKeysToIndex(EIMDataExporter.java:388) ~[norkom_search_business.jar:?]
    at com.norkom.search.business.engine.elastic.search.EIMDataExporter.retrieveDatasourcePrimaryKeysToIndex(EIMDataExporter.java:424) ~[norkom_search_business.jar:?]
    at com.norkom.search.business.engine.elastic.search.EIMDataExporter.retrieveEntityKeysToIndex(EIMDataExporter.java:366) ~[norkom_search_business.jar:?]
    at com.norkom.search.business.engine.elastic.search.EIMDataExporter.doDeltaExport(EIMDataExporter.java:173) ~[norkom_search_business.jar:?]
    at com.norkom.search.business.engine.elastic.search.ElasticSearchEngineAdminHelper.mirrorDataChanges(ElasticSearchEngineAdminHelper.java:70) ~[norkom_search_business.jar:?]
    at com.norkom.search.business.engine.elastic.search.ElasticSearchEngine.mirrorDataChanges(ElasticSearchEngine.java:43) ~[norkom_search_business.jar:?]
    at com.norkom.search.business.jobs.FtsDeltaImportIndexJob.executeJob(FtsDeltaImportIndexJob.java:49) ~[norkom_search_business.jar:?]
    at com.norkom.base.business.jobs.ThreadedJob.run(ThreadedJob.java:53) ~[norkom_base_business.jar:?]
    at java.lang.Thread.run(Thread.java:829) ~[?:?]
10:30:03,671 -  -  ERROR EIMDataExporter:584 - FtsDataSource [Case_WF_NOTE_DS] export of DataSource Detla failed with SQLSTATE [42601], ERRORCODE [0], MESSAGE [ERROR: trailing junk after parameter at or near ""$1a""
  Position: 121]
10:30:03,671 -  -  ERROR FtsDeltaImportIndexJob:61 - Indexing failed: Indexing failed
com.norkom.base.services.exceptions.NorkomBaseException: FTS-10018
    at com.norkom.search.business.engine.elastic.search.EIMDataExporter.exportFTSDatasourceDelta(EIMDataExporter.java:586) ~[norkom_search_business.jar:?]
    at com.norkom.search.business.engine.elastic.search.EIMDataExporter.exportFTSDatasourceDelta(EIMDataExporter.java:566) ~[norkom_search_business.jar:?]
    at com.norkom.search.business.engine.elastic.search.EIMDataExporter.exportFTSEntityDelta(EIMDataExporter.java:526) ~[norkom_search_business.jar:?]
    at com.norkom.search.business.engine.elastic.search.EIMDataExporter.doDeltaExport(EIMDataExporter.java:198) ~[norkom_search_business.jar:?]
    at com.norkom.search.business.engine.elastic.search.ElasticSearchEngineAdminHelper.mirrorDataChanges(ElasticSearchEngineAdminHelper.java:70) ~[norkom_search_business.jar:?]
    at com.norkom.search.business.engine.elastic.search.ElasticSearchEngine.mirrorDataChanges(ElasticSearchEngine.java:43) ~[norkom_search_business.jar:?]
    at com.norkom.search.business.jobs.FtsDeltaImportIndexJob.executeJob(FtsDeltaImportIndexJob.java:49) ~[norkom_search_business.jar:?]
    at com.norkom.base.business.jobs.ThreadedJob.run(ThreadedJob.java:53) ~[norkom_base_business.jar:?]
    at java.lang.Thread.run(Thread.java:829) ~[?:?]

[...]
10:30:29,997 -  -  ERROR ScheduledJobsThreadManager:157 - Job FTSDeltaIndexJob failed.

{code}",,Alec Cornelius,Kamil Reczek,Oksana Oleniuk,Olga Zygman,Tatiana Kukushkina,,,712020:29e25286-a601-4d93-a3d2-3e4765f97f42,712020:294366da-96fa-4801-9e23-c83db37f1d0f,712020:a69b1843-2afa-4066-b591-de7548274215,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,712020:f4cad52f-d917-4420-873b-c485c8d7e994,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FCENGX-1025,,,,,,,,,08/Aug/23 10:31 AM;712020:05e12f3e-a969-415a-9f16-6effd8f7df7c;baeai_home_log.log;https://netreveal.atlassian.net/rest/api/3/attachment/content/774900,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,FCENGX-16,EIM Platform Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2fj0n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Rubik's Priority Review,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-08-24 07:40:46.071,,08/Aug/23 10:34 AM;712020:05e12f3e-a969-415a-9f16-6effd8f7df7c;This looks like some issue with Free Text Search. Can it be related to velocity related changes you've made?,24/Aug/23 8:40 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;On 24/08/2023 I didn't spot this error on 10.222.17.211 (NEST Nightly Build - WAS-Oracle (Comp)). Maybe it was a one-time thing.,12/Oct/23 3:55 PM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;The issue is observed on 10.222.17.211 today.,"13/Oct/23 3:57 PM;712020:29e25286-a601-4d93-a3d2-3e4765f97f42;This looks like something in the delta indexing is not creating the sql correctly, possibly not getting correct values from replacements container.

If this persists, set the following the following logs to debug, it should print info about the failing sql.
 * com.norkom.search.business.engine.elastic.search.EIMDataExporter
 * com.norkom.search.business.engine.helpers.EIMDataExporterUtil

{code:java}
Delta indexing FTS Entity: cases
. . . 
FTS Datasource: DataSource
SQL Query: select * from abc
Variable Names and Positions: 1=x, 2=y, 3=z {code}","06/Nov/23 10:54 AM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;[~accountid:712020:f4cad52f-d917-4420-873b-c485c8d7e994] , [~accountid:712020:05e12f3e-a969-415a-9f16-6effd8f7df7c] 
can you provide me with an environment where where error can be seen or reproduced?",06/Nov/23 10:56 AM;712020:a69b1843-2afa-4066-b591-de7548274215;Hi [~accountid:712020:294366da-96fa-4801-9e23-c83db37f1d0f] I am not the right person to address with issue. I am a UX designer. Feel free to ask me questions about UX 🙂 ,"06/Nov/23 10:59 AM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;[~accountid:712020:a69b1843-2afa-4066-b591-de7548274215] 
sorry, my mistake. I meant to mention [~accountid:712020:05e12f3e-a969-415a-9f16-6effd8f7df7c] .",06/Nov/23 6:13 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;This is the same issue as [https://netreveal.atlassian.net/browse/FCENGX-1025|https://netreveal.atlassian.net/browse/FCENGX-1025|smart-link],"10/Nov/23 10:58 AM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;[~accountid:712020:f4cad52f-d917-4420-873b-c485c8d7e994], [~accountid:712020:05e12f3e-a969-415a-9f16-6effd8f7df7c] 

the fix for [https://netreveal.atlassian.net/browse/FCENGX-1025|https://netreveal.atlassian.net/browse/FCENGX-1025|smart-link] is in trunk. I believe this also fixes your issue. Can you please check? 

{noformat}Revision: 1096845
Author: kamil.reczek
Date: Friday 10 November 2023 10:56:39
Message:
[FCENGX-1025] Delta Indexing doesn't work on environments with PostgreSQL
----
Modified : /CoreDev/trunk/subprojects/search/src/main/java/com/norkom/search/business/engine/helpers/EIMDataExporterUtil.java
Modified : /CoreDev/trunk/subprojects/tests/src/test/java/com/norkom/search/business/engine/helpers/EIMDataExporterUtilTest.java{noformat}","10/Nov/23 11:02 AM;712020:05e12f3e-a969-415a-9f16-6effd8f7df7c;Hi [~accountid:712020:294366da-96fa-4801-9e23-c83db37f1d0f] ,

I was on sick leave. I will verify this today. Do you also want me still to point you to instance as well?

Olga","10/Nov/23 12:03 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;[~accountid:712020:05e12f3e-a969-415a-9f16-6effd8f7df7c] 
No need for instance, unless the error is still there. I know you know 🙂 but this fix was checked in just few hours ago, so new build is needed, I can provide you with hotfix if you don’t want to run the pipeline.","10/Nov/23 12:37 PM;712020:05e12f3e-a969-415a-9f16-6effd8f7df7c;[~accountid:712020:294366da-96fa-4801-9e23-c83db37f1d0f] ,

Let’s leave this assigned to me and I will verify Monday morning.",,,,526422,EIM Platform Support and Maintenance,In Progress
After RTDE upgrade to 9.1.0.4 CDD OB performance is not as good as it was for 9.1 release,FCENGX-534,526436,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Eddie Baggott,712020:217d0c7b-0abe-4fba-b017-e69a4261f290,Tomasz Mariusz Domasat,712020:d03aa594-875b-4d79-bf79-6b42a7b18f0e,Tomasz Mariusz Domasat,712020:d03aa594-875b-4d79-bf79-6b42a7b18f0e,27/Jul/23 2:11 PM,27/Sep/23 2:56 PM,10/Nov/23 6:20 PM,,9.2,,,,,,,,,SMBD,,,,RTDE,,,"Note: After the investigation in APPSDEVX-325, the description of this ticket has been updated. [https://netreveal.atlassian.net/secure/DeleteLink.jspa?id=23018340&sourceId=23017476&linkType=22210611&atl_token=ATY1-9OX5-VK89-4Z8H_a90a63a16088a74ee0f079460e30048a729baa96_lin|https://netreveal.atlassian.net/secure/DeleteLink.jspa?id=23018340&sourceId=23017476&linkType=22210611&atl_token=ATY1-9OX5-VK89-4Z8H_a90a63a16088a74ee0f079460e30048a729baa96_lin]

h4. 

 

Since we upgraded our performance environments to use the most recent version of RTDE engine (9.1.0.4), we observed performance degradation for messages with 38 and 64 CPs:

3-14% latency increase for messages with 38CP and

7-20% latency increase for messages with 64CP

The results do not seem stable between the performance test runs, hence the big ranges. 

 

For 0 CPs the results with the new processingcongig are ~8 times better than with the 9.1 version. However, with the growing number of connected parties, the difference in performance is going down, and for 64 CPs it’s worse than it was for 9.1.

 

*RTDE Response*{{*}}{*} AVG{{*}} *latency (ms){*}

|*CPs*|*0*|*1*|*2*|*4*|*5*|*6*|*7*|*8*|*10*|*12*|*15*|*19*|*38*|*64*|*processing config* *NEW/OLD***|
|[+2023_03_31+|http://10.222.2.205/testsResults/10.222.2.211/seleniumResults/netreveal_cdd_mtt/_PerformanceSummaryReports/PerformanceSummaryReport_2023_03_31_1554.html]|314.8|285.4|288.3|328.3|368.4|384.5|429.4|470.9|592.2|682.7|901.2|1236.7|3706.1|9398.1|OLD (9.1 Release with RTDE 9.1.0.2)|
|[+2023_06_30+|http://10.222.2.205/testsResults/10.222.2.211/seleniumResults/netreveal_cdd_mtt/_PerformanceSummaryReports/PerformanceSummaryReport_2023_06_30_1613.html]|282.1|262.4|282.1|319.7|345.6|371.5|425.6|462.4|550.9|663.6|870.4|1230.4|3611.5|9280.0|OLD|
|[+2023_07_11+|http://10.222.2.205/testsResults/10.222.2.211/seleniumResults/netreveal_cdd_mtt/_PerformanceSummaryReports/PerformanceSummaryReport_2023_07_11_0655.html]|39.2|53.6|82.1|126.4|147.6|180.7|220.8|258.5|348.4|470.0|669.5|1013.0|3576.5|10045.1|NEW|
|[+2023_09_09+|http://10.222.2.205/testsResults/10.222.2.211/seleniumResults/netreveal_cdd_mtt/_PerformanceSummaryReports/PerformanceSummaryReport_2023_09_09_2059.html]|36.4|55.9|74.1|129.5|159.0|195.3|237.1|282.4|397.0|508.8|731.2|1110.3|3942.3|11133.9|NEW|
|[+2023_09_16+|http://10.222.2.205/testsResults/10.222.2.211/seleniumResults/netreveal_cdd_mtt/_PerformanceSummaryReports/PerformanceSummaryReport_2023_09_16_2059.html]|37.2|55.5|87.5|122.4|149.9|186.9|229.7|272.5|371.9|494.5|720.1|1067.6|3859.6|10907.3|NEW|
|[+2023_09_18+|http://10.222.2.205/testsResults/10.222.2.211/seleniumResults/netreveal_cdd_mtt/_PerformanceSummaryReports/PerformanceSummaryReport_2023_09_18_0926.html]|276.2|277.6|285.6|334.3|363.7|399.8|435.1|485.3|618.8|710.6|931.5|1257.3|3853.8|9985.2|OLD|
|[+2023_09_19+|http://10.222.2.205/testsResults/10.222.2.211/seleniumResults/netreveal_cdd_mtt/_PerformanceSummaryReports/PerformanceSummaryReport_2023_09_19_0952.html]|296.2|259.0|278.9|320.7|347.9|379.6|430.0|474.0|561.2|689.6|909.1|1239.5|3789.3|9738.2|OLD|

 

*From nr-screened applications to nr-application_response. The latency between nr-application_response_internal and nr-application_response has been analyzed and it is negligeable.

**New processing config with savingToApplicationResponse BATCH->CONTINUOUS, using GET_HEAD_ROW service.

 

*The question to RTDE is why there is no such significant improvement for higher number of CPs as was expected with the 9.1.0.4 release.*

 

Side note: It doesn’t help up explain the decrease in E2E results. For 64 CPs we have a drop of ~8 seconds and RTDE only accounts for 1-2 seconds.",,Olga Zygman,Tomasz Mariusz Domasat,,,,,,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,712020:d03aa594-875b-4d79-bf79-6b42a7b18f0e,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPSDEVX-325,,,,,,,,,,,,,,,,,,27/Jul/23 2:11 PM;712020:d03aa594-875b-4d79-bf79-6b42a7b18f0e;rtde_latency_overview (2).xlsx;https://netreveal.atlassian.net/rest/api/3/attachment/content/775103,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2f8c7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"Font icons for customer nodes (corporateubo, customerubo, corporate) have incorrect color",FCENGX-446,525834,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Filipe Santana Lopes Da Silva,712020:f95f8160-45c2-4cbd-aaf6-b44d27b2e3b8,Olga Zygman,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,Olga Zygman,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,12/Jul/23 8:24 AM,01/Oct/23 7:48 PM,10/Nov/23 6:20 PM,,,,,,,9.2,,,,Application Builder,,,,,,,"We are usinng existing font icons described here: [https://netreveal.atlassian.net/wiki/display/Eng/Network+Visualization|https://netreveal.atlassian.net/wiki/display/Eng/Network+Visualization]
in a popup section.
Icons are black instead of purple.
See screenshot:

!New_Help_content.png|width=200,height=183!

 
After inspecting we observe something like this:
#632254 - correct colour

!correct_col.jpg|width=200,height=183!

 
#4a4d4e - incorrect colour

!incorrect_col.jpg|width=200,height=183!

Please investigate why those icons aren't purple:

* corporate
* customerubo
* corporateubo

Note: icon for personal subject (customer) has a proper colour - see on the screenshot.",,Kirti Yadav,Olga Zygman,Paul Nolan,Tomasz Mariusz Domasat,,,,712020:89e104aa-6884-4ba4-a761-5e3afc2b1d4f,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,712020:d03aa594-875b-4d79-bf79-6b42a7b18f0e,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ENTRES-228,,,,,,,ENTRES-37,ENTRES-193,,,,,,,,,,12/Jul/23 8:27 AM;712020:05e12f3e-a969-415a-9f16-6effd8f7df7c;New_Help_content.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/774941,12/Jul/23 8:22 AM;712020:05e12f3e-a969-415a-9f16-6effd8f7df7c;correct_col.jpg;https://netreveal.atlassian.net/rest/api/3/attachment/content/774942,12/Jul/23 8:22 AM;712020:05e12f3e-a969-415a-9f16-6effd8f7df7c;incorrect_col.jpg;https://netreveal.atlassian.net/rest/api/3/attachment/content/774943,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,FCENGX-16,EIM Platform Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2erq7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-07-13 10:09:06.551,,"13/Jul/23 11:09 AM;712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a;Hi [~accountid:712020:05e12f3e-a969-415a-9f16-6effd8f7df7c] - can you provide some additional information on the configuration of this help screen? Specifically, we would like know how each of the icons on the screen are currently configured - thanks.","13/Jul/23 11:17 AM;712020:05e12f3e-a969-415a-9f16-6effd8f7df7c;Hi Paul,
Thanks for getting back to me so fast. Here are the configuration details:

We use it in a help pop-up which is: *Generic Detils* section
There is an ""*Image Field Formatter* field type used
And we use ""fontIcon"" option there
Values are: 
* corporate
* personal-ubo
* corporate-ubo

Let me know if there is anything else specific you would need to know. I will update it then.

",13/Sep/23 12:34 PM;712020:89e104aa-6884-4ba4-a761-5e3afc2b1d4f;[~accountid:712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a] Is this going to be assigned to Filipe as well? ,"14/Sep/23 1:00 PM;712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a;Yes, Filipe will investigate - a CSS change will be required to resolve this issue","01/Oct/23 7:48 PM;712020:89e104aa-6884-4ba4-a761-5e3afc2b1d4f;[~accountid:712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a]  Filipe can prioritise this work now as we have completed all styling work for Inv Hub, can you please provide a timeline. Thanks.",,,,,,,,,,,526422,EIM Platform Support and Maintenance,To Do
ERROR BatchingBatch:139 - HHH000315: Exception executing batch [org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0];,FCENGX-443,527018,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,11/Jul/23 9:57 AM,12/Jul/23 10:26 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"ENV: 10.222.17.140

{code}

08-Jul-2023 14:35:19,906 -  -  ERROR BatchingBatch:139 - HHH000315: Exception executing batch [org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; statement executed: update Users set SESSION_INSTANCE_COUNT=?, version_id=? where ID=? and version_id=?], SQL: update Users set SESSION_INSTANCE_COUNT=?, version_id=? where ID=? and version_id=?

{code}
h4.  ",,Milena Elzbieta Mietkiewicz,Paul Nolan,,,,,,712020:0d464633-ae85-4b20-ace8-1019764d285d,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPSDEVX-308,,,,,,,,,,,12/Jul/23 10:26 AM;712020:0d464633-ae85-4b20-ace8-1019764d285d;application 18.15.01.log.zip;https://netreveal.atlassian.net/rest/api/3/attachment/content/775191,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2eqdz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-07-11 17:00:56.426,,"11/Jul/23 6:00 PM;712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a;Hi [~accountid:712020:0d464633-ae85-4b20-ace8-1019764d285d] - can you provide a full log for this error? BatchingBatch is a generic Hibernate class, so we'll need the full log to work out where this error is occurring in NetReveal product code - thanks","12/Jul/23 10:25 AM;712020:0d464633-ae85-4b20-ace8-1019764d285d;Attached

This error doesn't occur in logs of the next build, let's wait for another one to make sure",,,,,,,,,,,,,,,,To Do
IL -Nested Rows -CheckBoxes are not in aligned with rest of the Columns(Chrome),FCENGX-394,527031,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,4 - Low,,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,03/Jul/23 11:52 AM,03/Jul/23 11:53 AM,10/Nov/23 6:20 PM,,9.1,,,,,,,,,Application Builder,,,,,,,"1.Login to [https://10.222.7.7:9443/norkom]

2.Go to InteractiveLists_PullQueueApplication_VS

3.View the screenTesting PULL QUEUE Query Action with Mulitple Tabs and sections
 
4.Click on the Nested Rows Header column to Expand All and observe
Expected : The header column is aligned to other columns in List when Nested Rows are all expanded 
Observed : Misaligned slightly ",,Rekha John,,,,,,,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,03/Jul/23 11:53 AM;712020:3c31c009-8480-4942-b416-80e22b8447c7;NestedRowsScreenshot 2023-07-03 115256.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/775197,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2ed9r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jul/23 11:53 AM;712020:3c31c009-8480-4942-b416-80e22b8447c7;This issue was fixed before, couldn't find an open ticket now hence creating one. Thanks",,,,,,,,,,,,,,,,,To Do
CDD: Numbers are shown with scientific notation,FCENGX-387,527028,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Trevor Murphy,712020:10f8721f-a33d-4a3f-a17b-ceb1dea60e0e,Tatiana Kukushkina,712020:f4cad52f-d917-4420-873b-c485c8d7e994,Tatiana Kukushkina,712020:f4cad52f-d917-4420-873b-c485c8d7e994,30/Jun/23 12:18 PM,10/Jul/23 10:22 AM,10/Nov/23 6:20 PM,,9.2,,,,,,,,,SMBD,,,,RTDE,,,"This has been raised by a project (APPS-16482 ) but we are able to reproduce it in the standard configuration.

*Steps to reproduce:*
On an APPS automation run this query:
{noformat}
update customers set CASH_IN_VOLUME = 190000000 WHERE CUSTOMER_ID='CUST-EU-47';{noformat}
Observe that the message on the RTDE input topic *nr-screened_applications* contains non-scientific notation value:
""CashInVolume"":""190000000""


Check the info of the ""IU Cash In Volume"" contribution on the *nr-risk_scores* topic.


*Expected result:*

""Info"":""Volume of cash the customer intends to deposit (monthly): 190000000""

*Actual result:*

""Info"":""Volume of cash the customer intends to deposit (monthly): 1.9E8""

 
Note: I found a similar issue ABSAV8TEST-195 and the fix was to set the following property to 'true' to turn off scientific notation in [SMBD_HOME]/conf/application.conf:#If true, any numbers in alert info will be truncated to a maximum of 2 decimal places
smbd.detection.alert.info.truncate.numbers=false
However, CDD is using RTDE, not SMBD. Is there a similar property for RTDE? ",,Bartlomiej Jan Niemienionek,Eddie Baggott,Izabela Ruszkiewicz,Lorcan Cassidy,Ola Skowron,Tatiana Kukushkina,Trevor Murphy,712020:e5dbcb12-9bec-4640-b290-55f39484a829,712020:217d0c7b-0abe-4fba-b017-e69a4261f290,712020:57de5f6c-5c0f-4c3f-9b0a-768a83fce5ad,712020:2648400f-8710-4ed7-b41d-020399c89d18,712020:99cd5b89-b3ed-4772-ac4a-c2c056a5c550,712020:f4cad52f-d917-4420-873b-c485c8d7e994,712020:10f8721f-a33d-4a3f-a17b-ceb1dea60e0e,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPSDEVX-306,,FCENG-19234,APPSDEVX-263,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2ec0f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-06-30 11:53:21.485,,"30/Jun/23 12:53 PM;712020:10f8721f-a33d-4a3f-a17b-ceb1dea60e0e;[~accountid:712020:f4cad52f-d917-4420-873b-c485c8d7e994]   can you confirm that this effects info only and not the determination of the score output or scenarios etc ?

 

Thanks,

 Trevor ","30/Jun/23 1:33 PM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;Yes, the project confirmed in APPS-16482 that only Info is affected.","30/Jun/23 1:56 PM;712020:e5dbcb12-9bec-4640-b290-55f39484a829;I did some tests and it looks like with every conversion to String decimal value may get scientific notation. It looks like it can work with combination of format_string and trim functions.

Example expressions:

 
{code:java}
val columnNames = Array(""sub_idx"", ""a_score"")
val columnsValues = List(
(""A"", 190000000.05555),
(""B"", 190000000.0005000),
(""C"", 1000000000.0))
val df = sparkSession.createDataFrame(columnsValues).toDF(columnNames: _*)
df.select(col(""sub_idx""), col(""a_score""),
format_string(""%f"", col(""a_score"")).as(""format_string""),
to_json(struct(col(""sub_idx""), col(""a_score""))).as(""JSON""),
to_json(struct(col(""sub_idx""),
trim(
trim(format_string(""%f"", col(""a_score"")), ""TRAILING '0'""),
""TRAILING '.'"").as(""a_score"")
)).as(""trimmed_json"")
).show(false)
 
{code}
 

 
|sub_idx|a_score|format_string|JSON|trimmed_json|
|A|1.9000000005555E8|190000000.055550|{""sub_idx"":""A"",""a_score"":1.9000000005555E8}|{""sub_idx"":""A"",""a_score"":""190000000.05555""}|
|B|1.900000000005E8|190000000.000500|{""sub_idx"":""B"",""a_score"":1.900000000005E8}|{""sub_idx"":""B"",""a_score"":""190000000.0005""}|
|C|1.0E9|1000000000.000000|{""sub_idx"":""C"",""a_score"":1.0E9}|{""sub_idx"":""C"",""a_score"":""1000000000""}|",30/Jun/23 3:56 PM;712020:217d0c7b-0abe-4fba-b017-e69a4261f290;Can  we  see if  the spark native  FORMAT  function helps?,"03/Jul/23 7:10 AM;712020:e5dbcb12-9bec-4640-b290-55f39484a829;Based on: [https://spark.apache.org/docs/2.4.4/api/sql/index.html |https://spark.apache.org/docs/2.4.4/api/sql/index.html]I'm not sure if Spark has native Format function.

There is *date format, format_number, format_string.*","03/Jul/23 7:52 AM;712020:217d0c7b-0abe-4fba-b017-e69a4261f290;
 FORMAT_NUMBER  is what I meant in this case  

see NGDEX-119",03/Jul/23 9:41 AM;712020:e5dbcb12-9bec-4640-b290-55f39484a829;FORMAT_NUMBER will work but it is expecting number of decimal places and it won't support all of the cases (if we need mode decimal places),,,,,,,,,,,To Do
Error during db upgrade from 9.1 to 9.2 - Oracle,FCENGX-342,526960,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Ashok Manayangath,712020:4eb24e29-73db-4f2a-a700-fe2c768313d2,Tomasz Mariusz Domasat,712020:d03aa594-875b-4d79-bf79-6b42a7b18f0e,Tomasz Mariusz Domasat,712020:d03aa594-875b-4d79-bf79-6b42a7b18f0e,21/Jun/23 3:58 PM,24/Aug/23 9:35 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"While testing the upgrade path from 9.1 to 9.2 on Oracle, we are seeing following error:

 
{code:java}
u'u01/app/oracle/oradata/dbconfig/ORCLCDB/\\nu01/app/oracle/oradata/dbconfig/ORCLCDB/sqlnet.ora\\nu01/app/oracle/oradata/dbconfig/ORCLCDB/listener.ora\\nu01/app/oracle/oradata/dbconfig/ORCLCDB/tnsnames.ora\\nu01/app/oracle/oradata/dbconfig/ORCLCDB/oratab\\n', u'\\x1b[91m/opt/install_db_tmp/database/run_sql.sh: line 36: cd: /opt/install_db_tmp/database_upgrade: No such file or directory\\n\\x1b[0m', u'\\nSQL*Plus: Release 19.0.0.0.0 - Production on Wed Jun 21 14:02:54 2023\\nVersion 19.3.0.0.0\\n\\nCopyright (c) 1982, 2019, Oracle.  All rights reserved.\\n\\n', u'\\nConnected to:\\nOracle Database 19c Standard Edition 2 Release 19.0.0.0.0 - Production\\nVersion 19.3.0.0.0\\n\\n', u'SQL> ', u'Database closed.\\n', u'Database dismounted.\\n', u'ORACLE instance shut down.\\n', u'SQL> ', u'Disconnected from Oracle Database 19c Standard Edition 2 Release 19.0.0.0.0 - Production\\nVersion 19.3.0.0.0\\n', u'\\nLSNRCTL for Linux: Version 19.0.0.0.0 - Production on 21-JUN-2023 14:03:46\\n\\nCopyright (c) 1991, 2019, Oracle.  All rights reserved.\\n\\n', u'Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=IPC)(KEY=EXTPROC1)))\\n', u'The command completed successfully\\n', u\""\\x1b[91mtar: Removing leading `/' from member names\\n\\x1b[0m\"", u'/u01/app/oracle/oradata/\\n', u'/u01/app/oracle/oradata/XE/\\n/u01/app/oracle/oradata/XE/system01.dbf\\n', u'/u01/app/oracle/oradata/XE/sysaux01.dbf\\n', u'/u01/app/oracle/oradata/XE/undotbs01.dbf\\n', u'/u01/app/oracle/oradata/XE/users01.dbf\\n', u'/u01/app/oracle/oradata/XE/control01.ctl\\n', u'/u01/app/oracle/oradata/XE/control02.ctl\\n', u'/u01/app/oracle/oradata/XE/redo01.log\\n', u'/u01/app/oracle/oradata/XE/redo02.log\\n', u'/u01/app/oracle/oradata/XE/redo03.log\\n', u'/u01/app/oracle/oradata/XE/temp01.dbf\\n', u'/u01/app/oracle/oradata/XE/eim_main.dbf\\n', u'/u01/app/oracle/oradata/XE/eim_index.dbf\\n', u'/u01/app/oracle/oradata/dbconfig/\\n/u01/app/oracle/oradata/dbconfig/ORCLCDB/\\n/u01/app/oracle/oradata/dbconfig/ORCLCDB/sqlnet.ora\\n', u'/u01/app/oracle/oradata/dbconfig/ORCLCDB/listener.ora\\n/u01/app/oracle/oradata/dbconfig/ORCLCDB/tnsnames.ora\\n/u01/app/oracle/oradata/dbconfig/ORCLCDB/oratab\\n', u'Removing intermediate container f06ff65eb62b\\n', u' ---> fda1c82a9892\\n', u'Step 15/20 : RUN cd /opt/install_db_tmp/installer/database/tmp &&     if grep -q -e \""ORA-\"" -e \""SQL[0-9]*N\"" -e \""SP2-\"" *.log; then         echo \""************Error has been found in the SQL scripts.*********************\"";         grep -e \""ORA-\"" -e \""SQL[0-9]*N\"" -e \""SP2-\"" *.log;         exit 1;     fi', u'\\n', u' ---> Running in 020a95c56deb\\n', u'************Error has been found in the SQL scripts.*********************\\n', u'From_9.1_to_9.2.lst.log:ORA-01756: quoted string not properly terminated\\n', u'Removing intermediate container 020a95c56deb\\n']""}{code}
 

I've checked the pipeline build logs and I can see that the issue possibly started occurring around 15-20 days ago:

June 1 - ""From_9.1_to_9.2.lst.log:ORA-00942: table or view does not exist"", fixed by WLMX-351 - [http://10.222.2.106:8080/blue/rest/organizations/jenkins/pipelines/Compliance/pipelines/Upgrade%20path/pipelines/Upgrade%20path%20from%20COMPL%209.1%20to%20COMPL%209.2%20-%20Oracle/runs/7/nodes/256/steps/742/log/?start=0]

 

June 6 - next build, ""From_9.1_to_9.2.lst.log:ORA-01756: quoted string not properly terminated"" - [http://10.222.2.106:8080/blue/rest/organizations/jenkins/pipelines/Compliance/pipelines/Upgrade%20path/pipelines/Upgrade%20path%20from%20COMPL%209.1%20to%20COMPL%209.2%20-%20Oracle/runs/8/nodes/256/steps/711/log/?start=0]

 

Currently its possible to reproduce the issue on these pipelines:

[Upgrade path from COMPL 9.1 to COMPL 9.2 - Oracle|http://10.222.2.106:8080/job/Compliance/job/Upgrade%20path/job/Upgrade%20path%20from%20COMPL%209.1%20to%20COMPL%209.2%20-%20Oracle/]

[Upgrade path from Core 9.1 to Core 9.2 - Oracle|http://10.222.2.106:8080/job/Compliance/job/Upgrade%20path/job/Upgrade%20path%20from%20Core%209.1%20to%20Core%209.2%20-%20Oracle/]

 ",,Ashok Manayangath,Bartosz Breninek,Ewa Bartkowiak,Michal Kolaczkowski,Paul Nolan,Tatiana Kukushkina,Tomasz Mariusz Domasat,712020:4eb24e29-73db-4f2a-a700-fe2c768313d2,712020:7b059614-3892-4fd4-ab51-ca630a8e97be,712020:f99647dd-2cee-4387-bfba-df53a26239c3,712020:d4e1c12f-4c7f-42fe-8c91-16d00090f648,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,712020:f4cad52f-d917-4420-873b-c485c8d7e994,712020:d03aa594-875b-4d79-bf79-6b42a7b18f0e,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CETASKS-3916,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2e0yn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-06-22 09:50:11.972,,"22/Jun/23 10:50 AM;712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a;Ashok, this issue appears to be related to a problem with the WLM upgrade script {_}subprojects/database/dbscripts/Oracle/updates/From_9.1_to_9.2/04_update_wlm.sql{_}. 

Can someone from the WLM team take a look? Thanks...","03/Jul/23 1:10 PM;712020:f99647dd-2cee-4387-bfba-df53a26239c3;Having working Upgrade Path pipeline is important to all engineering teams. After each change in database upgrade scripts each team should run these pipelines as a validation test for these changes. 

Upgrade path pipelines for 9.1->9.2 were created at the end of May, and since then there are still errors occurs. 

Please prioritise this, because it is blocking other teams also.","17/Jul/23 12:19 PM;712020:7b059614-3892-4fd4-ab51-ca630a8e97be;Hey, [~accountid:712020:3d43f638-9e46-4d5e-beba-aaadc4763cc9], could you please look at this? It looks very similar to an error that you were fixing in FCENGX-333. It worked for postgres, but still appears for the oracle.","17/Jul/23 3:06 PM;712020:3d43f638-9e46-4d5e-beba-aaadc4763cc9;[~accountid:712020:7b059614-3892-4fd4-ab51-ca630a8e97be] 

i have checked that SQLPlus fails on a SQL insert with multiline strings - I have updated the query to contain single-line strings only.

Please run the pipelines again as I have no privileges.","18/Jul/23 12:52 PM;712020:7b059614-3892-4fd4-ab51-ca630a8e97be;Core 9.1 to 9.2 is passing now. Is it possible that for COMPL to go through we need to some how include new changes from CORE into COMPL build? [~accountid:712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a] 
If yes, then we already have solution for the issue, so it may be closed.","27/Jul/23 10:39 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;The conclusion is that it's fixed, we just need to use the latest tag. It will help to see the exact version in which the fix became available.","27/Jul/23 10:40 AM;712020:4eb24e29-73db-4f2a-a700-fe2c768313d2;Hi [~accountid:712020:7b059614-3892-4fd4-ab51-ca630a8e97be] , [~accountid:712020:3d43f638-9e46-4d5e-beba-aaadc4763cc9] 

Please can we include the fix / commit details and which tag / build this will be addressed from etc to this ticket - it would be a huge help!

thanks,

Ashok.","27/Jul/23 1:22 PM;712020:7b059614-3892-4fd4-ab51-ca630a8e97be;Hi,

the first part of the bug (WLMX-351) was fixed in revision: 1072245",27/Jul/23 1:46 PM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;I don't see WLMX-351 in the release notes for any of the [9.2 internal releases|http://tools.nest.fs.caws.local/notes/9.2/internal-releases/].,"24/Aug/23 9:31 AM;712020:4eb24e29-73db-4f2a-a700-fe2c768313d2;Hi Tatiana,

Going by SVN logs, the fixes should have been picked up by  9.2.0.0-a6.

regards,

Ashok.","24/Aug/23 9:35 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;Thanks, Ashok! I confirm that it's working now.",,,,,,,To Do
Network Graph labels are not internationalized,FCENGX-332,526607,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Michal Andrzej Sobkowiak,712020:f3a6a923-3e8b-4d48-9f70-f1ac71caa90f,Tatiana Kukushkina,712020:f4cad52f-d917-4420-873b-c485c8d7e994,Tatiana Kukushkina,712020:f4cad52f-d917-4420-873b-c485c8d7e994,15/Jun/23 1:45 PM,08/Nov/23 1:58 PM,10/Nov/23 6:20 PM,,9.2,,,,,9.2,,,,Application Builder,,,,Apps,EIM-Screens,EntityResolution,"There is no place in the existing APPS configuration to reproduce this as all labels come from data, but we need to have a static label for Entity Resolution extension to Customer network graph (the existing ""Network"" tab in Customer details). The label in English would be ""Possibly Same Subject?"", but it needs to be internationalized.

I tried using a resource code in the procedure query, like:
{noformat}
SELECT ...
'node.PossiblySameSubject.label' AS LABEL,...{noformat}
and also using a variable populated via a) screen variables, b) section query + internationalized text field:
{noformat}
SELECT ...
[NODE_LABEL_PSS] AS LABEL,...{noformat}
In all cases the resource code is displayed on the graph (see the screenshot).

 ",,Michal Andrzej Sobkowiak,Michal Kolaczkowski,Paul Nolan,Tatiana Kukushkina,,,,712020:f3a6a923-3e8b-4d48-9f70-f1ac71caa90f,712020:d4e1c12f-4c7f-42fe-8c91-16d00090f648,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,712020:f4cad52f-d917-4420-873b-c485c8d7e994,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CETASKS-3897,ENTRES-36,,,,,ENTRES-119,,,,ENTRES-119,15/Jun/23 1:46 PM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;screenshot-1.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/774991,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,FCENGX-16,EIM Platform Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2dwcn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-06-22 09:51:18.08,,"22/Jun/23 10:51 AM;712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a;Alan, please add this App Builder issue to the CE queue - thanks","11/Jul/23 2:57 PM;712020:f3a6a923-3e8b-4d48-9f70-f1ac71caa90f;Hi [~accountid:712020:f4cad52f-d917-4420-873b-c485c8d7e994] 

Please provide some environment to reproduce as I need to debug the code

Also exact steps to reproduce

Thanks

Michal","11/Jul/23 3:28 PM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;You can use 10.222.2.30, for example. Note: it is rebuilt every night. If the instance is stopped, you can start it using [NEST - Instance Control Panel|http://10.222.2.121:4545/].

*Steps to reproduce* (we need to change configuration as we don't have an example in the standard configuration):

Go to Application Builder - > Procedures.

Modify procedure EIM_KeyLines_Customer_Node line ""Main Customer node"": replace 
{noformat}
CUSTOMER_NAME AS LABEL,
{noformat}
with
{noformat}
'field.EIM_SearchCustomerName_7.caption' AS LABEL,
{noformat}
Reload applications.

Go to Back Office -> Subjects. Look for customer CUST-LIST-35 and go to the Network graph in customer details.

{*}Expected result{*}: the central node (yellow) on the graph has label ""Customer Name""

{*}Actual result{*}: the central node (yellow) on the graph has label ""field.EIM_SearchCustomerName_7.caption""

 ","12/Jul/23 4:07 PM;712020:f3a6a923-3e8b-4d48-9f70-f1ac71caa90f;Please confirm I understand your intention

You'd like to be able to put in SQL statement a resource bundle and get result? e.g as LABEL ?

For example 

*field.EIM_SearchCustomerName_7.caption=CUSTOMER_NAME*

*'field.EIM_SearchCustomerName_7.caption' AS LABEL*

*So the LABEL = CUSTOMER_NAME column value*

*or*

{*}field.EIM_SearchCustomerName_7.caption=""Customer Name""{*}{*}{*}

*'field.EIM_SearchCustomerName_7.caption' AS LABEL*

*So the LABEL = ""Customer Name""*

Which one is correct version ?

Thanks","13/Jul/23 7:53 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;Hi,

Please mind that I used a simple example to illustrate the incorrect system behavior so that you can reproduce it. There is no business logic behind this example. Where we really needed to use internationalization is described in the issue description. 

To answer your question, it's option 2. After the configuration changes the central node should displays text ""Customer Name"", i.e. the value associated with the resource code field.EIM_SearchCustomerName_7.caption in messages.properties.",19/Jul/23 11:54 AM;712020:f3a6a923-3e8b-4d48-9f70-f1ac71caa90f;Waiting for feedback from PE,"04/Sep/23 7:38 AM;712020:f3a6a923-3e8b-4d48-9f70-f1ac71caa90f;Hi [~accountid:712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a] 

The investigation conclusions are that there is no functionality for internationalization a parts of the SQL statements (some reserved function e.g)

In that case we can enhance product with implementing a reserved function for internationalization SQL statements elements

Are you agree?

Thanks

Michal",,,,,,,,,526422,EIM Platform Support and Maintenance,To Do
Command & Control  CSV Export  throws error,FCENGX-302,526432,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,13/Jun/23 4:33 PM,28/Sep/23 9:46 PM,10/Nov/23 6:20 PM,,9.2,,,,,9.2,,,,Base Platform,Batch Bridge,,,,,,"Test Env:[https://10.222.7.59:9443/norkom]

2.Go to Command and control > Report builder>

3. Plot a chart for case and Click on Export summary view

Export Detailed View

Expected CSV Exported

Observed :

There has been an exception generating this report. CBP-13000

And environment where this is working 

[https://10.222.7.176:9443/norkom|https://10.222.7.226:9443/norkom]

 ",,Rekha John,,,,,,,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jun/23 4:34 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;CommandControlScreenshot 2023-06-13 163346.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/775100,13/Jun/23 4:35 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;application.log;https://netreveal.atlassian.net/rest/api/3/attachment/content/775101,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-06-08,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2dtvr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Sep/23 9:46 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;[https://netreveal.atlassian.net/browse/FCENGX-794|https://netreveal.atlassian.net/browse/FCENGX-794],,,,,,,,,,,,,,,,,To Do
CSV Reports - Exported CSV has distorted data columns (special char in list data),FCENGX-299,527224,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,12/Jun/23 11:31 AM,24/Oct/23 4:09 PM,10/Nov/23 6:20 PM,,9.2,,,,,9.2,,,,Base Platform,,,,,,,"Test environment :[https://10.222.7.176:9443/norkom]

Steps to reproduce:

 

Login as admin/password

2.Go to InteractivelistMemoImageURL853menu and in case Memo and Image screen click on he export icon after selecting all columns

3.Observed the exported list after opening it 

 

Steps4 .filter only on 21668 case and export again open the csv list and observe the columns

Observed : The data is not confined to the respective table columns , for eaxmple , case description text and Case description columns (here the description has special characters)

Expected : we should see the data confined to their respective columns as in UI

If I export from administration >authentication >users lists ,Exported list looks fine",,Kamil Reczek,Paul Nolan,Rekha John,,,,,712020:294366da-96fa-4801-9e23-c83db37f1d0f,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,,,,,,,,,,,,,,,,FCENGX-916,,,,,,,,FCENGX-107,,,,,,,,,,,,,,,,,,,,,12/Jun/23 11:31 AM;712020:3c31c009-8480-4942-b416-80e22b8447c7;20230612-CSV List Report (2).csv;https://netreveal.atlassian.net/rest/api/3/attachment/content/775214,12/Jun/23 11:31 AM;712020:3c31c009-8480-4942-b416-80e22b8447c7;20230612-CSV List Report (3).csv;https://netreveal.atlassian.net/rest/api/3/attachment/content/775215,12/Jun/23 11:32 AM;712020:3c31c009-8480-4942-b416-80e22b8447c7;20230612-CSV List Report (5).csv;https://netreveal.atlassian.net/rest/api/3/attachment/content/775216,13/Jun/23 7:11 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;20230613-CSV List Report_user_with_commas.csv;https://netreveal.atlassian.net/rest/api/3/attachment/content/775217,14/Jun/23 12:36 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;20230614-CSV List Report_user_with_commas_10.222.7.80.csv;https://netreveal.atlassian.net/rest/api/3/attachment/content/775218,13/Jun/23 7:11 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;user_with_comma.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/775219,14/Jun/23 12:37 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;user_with_comma_10.222.7.80.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/775220,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,230608.1104,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2dsbb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-06-13 18:11:45.944,,"13/Jun/23 7:11 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;I can confirm this behaviour, however it's not related to Velocity upgrade. I was able to reproduce it with old Velocity 1.6.2:
- locally (trunk)
- 10.222.7.80 (9.1)

It can be done with Users screen, the section with the list of users is of type _Inateractive List_. The simplest way is to create a users, whose first name (or last or both) contains a comma ',' character. Then, export the users list - no filtering is needed.
!user_with_comma.png|thumbnail! 

Report:
[^20230613-CSV List Report_user_with_commas.csv] ","14/Jun/23 12:27 PM;712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a;Just to confirm, this is an issue on v9.1 as well?","14/Jun/23 12:37 PM;712020:294366da-96fa-4801-9e23-c83db37f1d0f;[~accountid:712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a] 
yes, this is the version details (10.222.7.80):
{code}
Version Details - Base_Platform
Core Version: 9.1.0.0-a19
Core Build Date: 2023-02-13
Client Version: ${ref2.project.version}
Client Build Number: ${build.number}
Client Build Date: 2023-02-13
{code}
User (aaa.test.user.1):
!user_with_comma_10.222.7.80.png|thumbnail! 
Exported CSV file:
[^20230614-CSV List Report_user_with_commas_10.222.7.80.csv] ",,,,,,,,,,,,,,,To Do
Uncaught TypeError: Cannot set properties of undefined (setting 'innerHTML'),FCENGX-252,526621,,Bug,Failed QA,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,26/May/23 3:27 PM,27/Sep/23 7:27 PM,10/Nov/23 6:20 PM,,9.2,,,,,9.1.1,9.2,,,Application Builder,,,,,,,"{color:#172b4d}*9.2.0.0-a3 version*{color}

{color:#de350b}Uncaught TypeError: Cannot set properties of undefined (setting 'innerHTML'){color}",,Alan Duggan,Dawid Piasecki,Milena Elzbieta Mietkiewicz,Paul Nolan,,,,712020:7c2e4a30-e8a9-435d-82f6-0975c7f78353,712020:85e41f54-81f0-433a-85b1-a9e5f7f1c493,712020:0d464633-ae85-4b20-ace8-1019764d285d,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CETASKS-3904,,APPSDEVX-37,,,,,,,,,26/May/23 3:27 PM;712020:0d464633-ae85-4b20-ace8-1019764d285d;Screenshot 2023-05-26 at 15.46.46.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/775016,30/May/23 10:20 AM;712020:0d464633-ae85-4b20-ace8-1019764d285d;Screenshot 2023-05-30 at 11.18.31.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/775018,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,FCENGX-16,EIM Platform Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2dgm7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-05-30 09:24:27.541,,"30/May/23 10:21 AM;712020:0d464633-ae85-4b20-ace8-1019764d285d;!Screenshot 2023-05-30 at 11.18.31.png|thumbnail!

The error also occurs in the 9.1.0.3 version","30/May/23 10:24 AM;712020:3d43f638-9e46-4d5e-beba-aaadc4763cc9;HI Paul,

I've discussed this with Milena, and it looks like this exact error was previously present on 9.1, and so it's not really related to CSP.

I'll unlink this from FCENGX-110, so please assign this for proper investigation and fix.","20/Jun/23 8:31 AM;712020:0d464633-ae85-4b20-ace8-1019764d285d;Hi, [~accountid:712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a], when can we excect the bug fix?

Test failed on: (x)
Core Version:9.2.0.0-a5
Core Build Date:2023-06-05",20/Jun/23 10:09 AM;712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a;Hi [~accountid:712020:0d464633-ae85-4b20-ace8-1019764d285d] - I'm afraid I can't set an expected date on this as all App Builder issues need to be reviewed and prioritised by CE. I will ask them to add this to their queue for review.,"20/Jun/23 10:10 AM;712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a;Alan, please add this App Builder issue to the CE queue for review - thanks","20/Jul/23 10:00 AM;712020:7c2e4a30-e8a9-435d-82f6-0975c7f78353;Hi Milena

What is the project *WBS code* so I can have this investigated.

Cheers",20/Jul/23 10:08 AM;712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a;Hi [~accountid:712020:7c2e4a30-e8a9-435d-82f6-0975c7f78353] - this is an internal issue raised by the APPS team during their recent testing of the new CSP feature in App Builder (although it's not directly related to that feature),"27/Sep/23 7:26 PM;712020:85e41f54-81f0-433a-85b1-a9e5f7f1c493;Hi, 
I've debugged both front and backend code on the provided environment and found out there are missing parameters due to the lack of configuration.
The issue was reported for 9.2 and 9.1 versions, but I found the same behaviour on my local 8.4.1 that has only initial configuration.
I confirmed that there are no problems on fully configured environments, and the ""Uncaught TypeError"" does not appear - tested on Fresh team's automation env. 
https://10.222.2.48:8443/netreveal 

In my opinion there is no issue since the error appears due to the lack of proper Report Builder configuration and also doesn't show any functional problems on neither UI nor server side.

Regards,
Dawid",,,,,,,,526422,EIM Platform Support and Maintenance,In Progress
Invalid token response message differs,FCENGX-238,527218,,Bug,New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,,,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,25/May/23 8:02 AM,27/Oct/23 8:45 AM,10/Nov/23 6:20 PM,,9.2,,,,,9.2,,,,Base Platform,,,,,,,"Steps to reproduce:

[https://10.222.7.138:8443/norkom]

htps://10.222.7.176:9443/norkom

 

Run the selenium tests for external rest calls and verify that the response messages are same as before .

 

Observed: When we try to send a request using an Invalid token /Expired token the actual token value no longer include the actual token 

Expected:

{""error"":""invalid-token"",""error_description"":""Access token expired :<actual token value>

 

 ",,Rekha John,,,,,,,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,FCENGX-246,v9.2 Library Upgrades,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2d5a7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,527691,v9.2 Library Upgrades,To Do
Test Dummy,FCENGX-8,527194,527193,Bug (sub-task),New,FCENGX,NR Product EngineeringX,software,Paul Nolan,712020:a988f1d2-9bb0-47bc-aba9-8c5d2af56e9a,,3 - Medium,,Charminda Bandara,712020:7c3de424-5a3a-4d92-b05e-fb48fc4ef25a,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,Rekha John,712020:3c31c009-8480-4942-b416-80e22b8447c7,23/Apr/23 2:43 PM,23/Apr/23 4:40 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,Platform,,,Bug task,,Alec Cornelius,Rekha John,,,,,,712020:29e25286-a601-4d93-a3d2-3e4765f97f42,712020:3c31c009-8480-4942-b416-80e22b8447c7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Apr/23 2:44 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;Screenshot 2023-04-13 084857.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/775262,23/Apr/23 2:44 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;Screenshot 2023-04-23 132622.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/775263,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0kjtz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-04-23 15:40:16.196,,23/Apr/23 2:44 PM;712020:3c31c009-8480-4942-b416-80e22b8447c7;Test only,23/Apr/23 4:40 PM;712020:29e25286-a601-4d93-a3d2-3e4765f97f42;testing,,,,,,,,,,,,,,527193,Dummy-UAT,To Do
Address sub-building cleansing is not deterministic using CDD config,ENTRES-534,727812,,Bug,New,ENTRES,Entity Resolution,software,Kirti Yadav,712020:89e104aa-6884-4ba4-a761-5e3afc2b1d4f,,3 - Medium,,,,Mark Withycombe,712020:cee9aa0e-3799-4486-af83-0b3c506c5dcd,Mark Withycombe,712020:cee9aa0e-3799-4486-af83-0b3c506c5dcd,03/Nov/23 5:09 PM,09/Nov/23 2:01 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"*Test environment:* local workspace

*Steps to Replicate:*

# Get master CDD bundle
# Deploy to two separate workspaces
# Run initial builds in both environments
# Check compound key data in Spark Shell; or
# Run through doc XML in fact gen test tool

*Expected:* Compound keys and cleansed doc XML are identical in both environments.

*Actual:* Compound keys and cleansed doc XML are not identical.

*Impact:* This could lead to customers being linked and unlinked randomly between update builds. It also makes verification of changes during dev much more difficult because it is difficult to know whether differences in output are due to non-deterministic cleansing behaviour or actual code changes.

*_Report:_* 

See attached files for an example doc XML sent through the fact gen test tool twice to demonstrate that cleansed doc XML and compound keys can be different, given the same initial doc XML.

Possible fix might be to adjust address cleansing concept weights such that there is always a clear winner, or ensure that concepts are ordered in a deterministic fashion such that if weights are the same, that one option is always preferred over another.",,Mark Withycombe,,,,,,,712020:cee9aa0e-3799-4486-af83-0b3c506c5dcd,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ENTRES-523,,,,,,,,,03/Nov/23 5:10 PM;712020:cee9aa0e-3799-4486-af83-0b3c506c5dcd;fact-output-differences-1.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/921321,03/Nov/23 5:10 PM;712020:cee9aa0e-3799-4486-af83-0b3c506c5dcd;fact-output-differences-2.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/921320,03/Nov/23 5:10 PM;712020:cee9aa0e-3799-4486-af83-0b3c506c5dcd;fact-output-differences-3.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/921319,03/Nov/23 5:10 PM;712020:cee9aa0e-3799-4486-af83-0b3c506c5dcd;non-deterministc CDD subbuilding cleansing.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/921318,03/Nov/23 5:10 PM;712020:cee9aa0e-3799-4486-af83-0b3c506c5dcd;xml difference.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/921322,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,ENTRES-479,Build Tuning and Stabilisation,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0kk1j:q0i,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,630490,Build Tuning and Stabilisation,To Do
[FCENGX-446] Incorrect colors of some icons in the Network Help pop-up,ENTRES-228,630524,,Bug,New,ENTRES,Entity Resolution,software,Kirti Yadav,712020:89e104aa-6884-4ba4-a761-5e3afc2b1d4f,,3 - Medium,,,,Tomasz Mariusz Domasat,712020:d03aa594-875b-4d79-bf79-6b42a7b18f0e,Tomasz Mariusz Domasat,712020:d03aa594-875b-4d79-bf79-6b42a7b18f0e,13/Jul/23 11:43 AM,24/Oct/23 9:40 PM,10/Nov/23 6:20 PM,,,,,,,9.2.0.0,,,,,,,,ER_Apps,readyToEstimate,,"Icons are black for following items:

* Corporate Subject
* Personal UBO
* Corporate UBO

 

This is waiting to be resolved on the platform side, as part of [https://netreveal.atlassian.net/browse/FCENGX-446|https://netreveal.atlassian.net/browse/FCENGX-446]",,Tomasz Mariusz Domasat,,,,,,,712020:d03aa594-875b-4d79-bf79-6b42a7b18f0e,,,,,,,Working on issue ENTRES-228;31/Jul/23 4:55 PM;712020:d03aa594-875b-4d79-bf79-6b42a7b18f0e;1800,,,,,,,,,,1800,,,,1800,,,,,,,,,,,,,,,FCENGX-446,,,,,,ENTRES-37,,,,,,,,,,ENTRES-191,13/Jul/23 11:44 AM;712020:d03aa594-875b-4d79-bf79-6b42a7b18f0e;Screenshot 2023-07-13 at 12.31.14.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/875871,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,ENTRES-10,Improving Investigations Efficiency - Visualisation,,,,,,,,,,,,,,,,,,,Impediment,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0kk1j:qo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,630793,Improving Investigations Efficiency - Visualisation,To Do
[Test-tool] Create Date Field new function,APPSDEVX-634,728997,727784,Bug (sub-task),Open,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,09/Nov/23 3:49 PM,09/Nov/23 3:54 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"Extend the following methods to allow setting “TODAY” and “NOW”. See the {{setDatePickerInTextRangeFieldOnSection}}() function as an example.

Then Field: I verify that the """" Date Field present on the """" popup displays the following date: ""TODAY""

Then Field: I verify that the """" Date Field present on the """" section displays the following date: ""NOW""

Then Field: I verify that the """" Date Field present on the """" section divider of ““ _section displays the following date: ““_",,Milena Elzbieta Mietkiewicz,,,,,,,712020:0d464633-ae85-4b20-ace8-1019764d285d,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2id47:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,727784,Selenium Test Tool improvements,To Do
Error topics are missing on some performance environments,APPSDEVX-629,728581,660089,Bug (sub-task),Development Complete,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Mariusz Ratajczyk,712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e,Mariusz Ratajczyk,712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e,08/Nov/23 8:54 AM,08/Nov/23 8:59 AM,10/Nov/23 6:20 PM,,COMPL 9.2,,,,,,,,,,,,,ER_Apps,,,Spotted e.g. on OB2.,,Mariusz Ratajczyk,,,,,,,712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2ib07:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,660089,Fresh Sprint 41 Continuous Integration and General Tasks,In Progress
CDDNSS can remove from a message CP which is in scope,APPSDEVX-625,727502,,Bug,New,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Mariusz Ratajczyk,712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e,Mariusz Ratajczyk,712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e,02/Nov/23 12:34 PM,10/Nov/23 2:08 PM,10/Nov/23 6:20 PM,,COMPL 8.4,COMPL 8.4.1,COMPL 9.1,,,,,,,,,,,ER_Apps,,,"*Steps to reproduce:*

# Send to topic nr-applications a message which contains 2 CPS with the same id, where 1st CP is in scope and second is not.

*Expected result:*

A message with CP in scope is sent to CDDNSS.

*Actual result:*

A message with CP not in scope is sent to CDDNSS.



The services manager function _CDDES_RemoveNotInScopeConnectedParty_ is supposed to remove a CP, which is not in scope, but xpath expression being a parametr of the function does take into account only _CustomerSourceUniqueId_ thereby ignoring other attributes like link type, to timestamp of a link etc, which define if CP is in scope or not.
XPATH-REMOVE-NODE function works this way that it removes first maching node in object graph, so if second CP is not in scope, first CP being in scope is removed. 
An example of a message attached.",,Mariusz Ratajczyk,Michal Kolaczkowski,,,,,,712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e,712020:d4e1c12f-4c7f-42fe-8c91-16d00090f648,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Nov/23 1:06 PM;712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e;a5CPs.xml;https://netreveal.atlassian.net/rest/api/3/attachment/content/920905,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,APPSDEVX-119,Apps S&M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i53z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,660677,Apps S&M,To Do
Deadlocks on CUSTOMER_DYNAMIC,APPSDEVX-624,727478,,Bug,New,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Mariusz Ratajczyk,712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e,Mariusz Ratajczyk,712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e,02/Nov/23 11:39 AM,10/Nov/23 2:08 PM,10/Nov/23 6:20 PM,,COMPL 9.1,,,,,,,,,CDD,EIM Framework,WLM,,ER_Apps,,,"Deadlocks have been spotted during testing a solution allowing to process messages in CDDNSS in many threads (see [APPSDEVX-309|https://netreveal.atlassian.net/browse/APPSDEVX-309]). It allowed to send a number of requests to WLM at the same time.
It looks there are too few resources when CDD services are running and WLM receives many requests at the same time. It results in errors like:

{noformat}31-Oct-2023 09:41:04,199 -  -  ERROR RealTimeLogicFacadeImpl:1909 - Unable to execute function [CDDCPS_UpdateCustomerDynamic (DATABASE-UPDATE - 20)]: CFG-10016 - There was an error executing the update . - CFG-10016
com.norkom.acquisition.exception.RealTimeException: CFG-10016
	at com.norkom.acquisition.business.realtime.impl.DatabaseUpdateRealTimeFunction$2.doInTransaction(DatabaseUpdateRealTimeFunction.java:318) ~[norkom_acq_business.jar:?]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.3.27.jar:5.3.27]{noformat}

Deeper investigation showed they are related to deadlocks on database side.


{noformat}*** 2023-10-31T09:40:45.979674+00:00
*** SESSION ID:(886.1245) 2023-10-31T09:40:45.979694+00:00
*** CLIENT ID:() 2023-10-31T09:40:45.979701+00:00
*** SERVICE NAME:(SYS$USERS) 2023-10-31T09:40:45.979708+00:00
*** MODULE NAME:(JDBC Thin Client) 2023-10-31T09:40:45.979714+00:00
*** ACTION NAME:() 2023-10-31T09:40:45.979720+00:00
*** CLIENT DRIVER:(jdbcthin : 19.3.0.0.0) 2023-10-31T09:40:45.979726+00:00
 
2023-10-31 09:40:45.978*:ksq.c@13204:ksqdld_hdr_dump(): 
DEADLOCK DETECTED ( ORA-00060 )
See Note 60.1 at My Oracle Support for Troubleshooting ORA-60 Errors

[Transaction Deadlock]
 
The following deadlock is not an ORACLE error. It is a
deadlock due to user error in the design of an application
or from issuing incorrect ad-hoc SQL. The following
information may aid in determining the deadlock:
 
Deadlock graph:
                                          ------------Blocker(s)-----------  ------------Waiter(s)------------
Resource Name                             process session holds waits serial  process session holds waits serial
TX-00020005-000644F6-00000000-00000000         79     886     X         1245     117     643           X  55813
TX-000C0006-0005179F-00000000-00000000        117     643     X        55813      79     886           X   1245
 
----- Information for waiting sessions -----
Session 886:
Holds resource TX-00020005-000644F6-00000000-00000000 acquired 3 seconds ago.
  sid: 886 ser: 1245 audsid: 2020265 user: 190/APPS_EIM
    flags: (0x8000041) USR/- flags2: (0x40009) -/-/INC
    flags_idl: (0x1) status: BSY/-/-/- kill: -/-/-/-
  pid: 79 O/S info: user: oracle, term: UNKNOWN, ospid: 14935
    image: oracle@ip-10-222-2-192
  client details:
    O/S info: user: root, term: unknown, ospid: 1234
    machine: standalone program: JDBC Thin Client
    application name: JDBC Thin Client, hash value=2546894660
  current SQL:
  UPDATE CUSTOMER_DYNAMIC
SET
CALCULATED_RISK_LEVEL = CASE WHEN CAST(:1  AS VARCHAR2(80)) IS NOT NULL THEN CAST(:2  AS VARCHAR2(80)) ELSE CALCULATED_RISK_LEVEL END,
CALCULATED_SCORE = CASE WHEN TO_NUMBER(CAST(:3  AS VARCHAR2(100))) IS NOT NULL THEN TO_NUMBER(CAST(:4  AS VARCHAR2(100))) ELSE CALCULATED_SCORE END,
CALCULATED_IND_SCORE = CASE WHEN TO_NUMBER(CAST(:5  AS VARCHAR2(100))) IS NOT NULL THEN TO_NUMBER(CAST(:6  AS VARCHAR2(100))) ELSE CALCULATED_IND_SCORE END,
RISK_LEVEL = CASE WHEN CAST(:7  AS VARCHAR2(80)) IS NOT NULL THEN :8  ELSE RISK_LEVEL END,
LAST_SCORE_TIMESTAMP = CASE WHEN :9  IS NOT NULL THEN CURRENT_TIMESTAMP ELSE LAST_SCORE_TIMESTAMP END,
REVIEW_DUE_TIMESTAMP =
  CASE
    WHEN :10  IS NOT NULL THEN
      CASE
        WHEN EXISTS (SELECT 1 FROM RISK_LEVEL RL WHERE RL.ID = :
 
Session 643:
Holds resource TX-000C0006-0005179F-00000000-00000000 acquired 3 seconds ago.
  sid: 643 ser: 55813 audsid: 2020285 user: 190/APPS_EIM
    flags: (0x41) USR/- flags2: (0x40009) -/-/INC
    flags_idl: (0x1) status: BSY/-/-/- kill: -/-/-/-
  pid: 117 O/S info: user: oracle, term: UNKNOWN, ospid: 14980
    image: oracle@ip-10-222-2-192
  client details:
    O/S info: user: root, term: unknown, ospid: 1234
    machine: standalone program: JDBC Thin Client
    application name: JDBC Thin Client, hash value=2546894660
  current SQL:
  UPDATE
    CUSTOMER_DYNAMIC
SET
    PEP_FLAG = CAST(:1   AS VARCHAR2(1)),
    RCA_FLAG = CAST(:2   AS VARCHAR2(1)),
    SANCTIONED_FLAG = CAST(:3   AS VARCHAR2(1)),
    PEP_TYPE = CAST(:4   AS VARCHAR2(30)),
    BLACK_LISTED_FLAG = CAST(:5   AS VARCHAR2(1)),
    NEED_RESCORE_FLAG = CASE when CAST(:6   AS VARCHAR2(1)) = 'Y' then 'Y' when CAST(:7   AS VARCHAR2(1)) = 'N' then NEED_RESCORE_FLAG when (FP_CDD_WLM <> :8 ) then 'Y' else NEED_RESCORE_FLAG end,
    NEED_RESCORE_TIMESTAMP = CASE when CAST(:9   AS VARCHAR2(1)) = 'Y' then current_timestamp when CAST(:10   AS VARCHAR2(1)) = 'N' then NEED_RESCORE_TIMESTAMP when (FP_CDD_WLM <> :11 ) then current_timestamp else NEED_RESCORE_TIMESTAMP end,
	WLM_ACTIVE_ALERTS_FLAG = :12 ,
	WLM_BO_OPEN_ALERTS_FLAG = :13 ,
	FP_CDD_WLM = :14 ,
	LAST_UPDATED_TI
 
----- End of information for waiting sessions -----
{noformat}

See the attached ORA190DV_ora_14935.trc (from OB2 i.e. 10.222.2.186) and application.log.30.gz.",,Mariusz Ratajczyk,Michal Kolaczkowski,,,,,,712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e,712020:d4e1c12f-4c7f-42fe-8c91-16d00090f648,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPSDEVX-309,,,,,,,,,,,02/Nov/23 11:44 AM;712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e;ORA190DV_ora_14935.trc;https://netreveal.atlassian.net/rest/api/3/attachment/content/920844,02/Nov/23 11:46 AM;712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e;application.log.30.gz;https://netreveal.atlassian.net/rest/api/3/attachment/content/920846,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i50f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,CDD Backlog,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
[DOC][APPS-16707]Note on Org Unit under Listing All Alerts to be removed ,APPSDEVX-623,727282,,Bug,New,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,4 - Low,,,,Jennifer Lalor,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,Jennifer Lalor,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,01/Nov/23 12:33 PM,09/Nov/23 12:16 PM,10/Nov/23 6:20 PM,,,,,,,COMPL 9.1,COMPL 9.2,,,EIM Framework,,,,,,,"In the Listing All Alerts section of the UI Guide.

The Organization Unit field has a note on it: 

_Note: This is a multi-select drop-down field, allowing you to select more than one value if required_

This should be removed as it is not true.",,Jennifer Lalor,,,,,,,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPS-16707,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,APPSDEVX-207,Archeo Support & Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i3yv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Archeo Documentation,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,660190,Archeo Support & Maintenance,To Do
[DOC][APPS-16728] AML Detection Spec - Section 3.3 update to remove reference to MON_ALERT,APPSDEVX-620,727277,,Bug,New,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Jennifer Lalor,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,Jennifer Lalor,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,01/Nov/23 12:16 PM,01/Nov/23 12:16 PM,10/Nov/23 6:20 PM,,,,,,,COMPL 9.1,COMPL 9.2,,,AML Transaction Monitoring,,,,,,,"Section 3.3 of the AML TM Detection Specifcation referes incorrectly yo MON_ALERT table which is o longer used:

_AGT periodically reads the detections saved in the_ {color:#ff5630}_MON_ALER_{color}_T table and generates AML alerts in the ALERT_HEADER table. This process includes rollup on Customer level and alert decoration. Individual detections are enriched and saved as ALERT_REASONS records and presented to investigators in an interactive list of contributing detections on the AML Alert Details screen._

This should be replaced with ALERT_REASONS - but verify with Dev team first that this is an accurate representation of what happens.",,Jennifer Lalor,,,,,,,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPS-16728,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,APPSDEVX-207,Archeo Support & Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2i3xr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Archeo Documentation,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,660190,Archeo Support & Maintenance,To Do
Exception occured during batch eFiling job.,APPSDEVX-595,660687,,Bug,In Retest,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,4 - Low,,Deirdre Cooper,712020:d0c9fa04-4867-427a-b686-277bffdec5f9,Lukasz Konieczka,712020:a4459b5e-329c-4830-be7d-7e23cf688f88,Lukasz Konieczka,712020:a4459b5e-329c-4830-be7d-7e23cf688f88,18/Oct/23 11:08 AM,08/Nov/23 3:19 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"error found during log monitoring
env 10.222.2.187
{code}
00:36:00,243 -  -  ERROR GenerateBatchEFileJob:180 - Exception occured during batch eFiling job.
com.norkom.base.services.exceptions.NorkomBaseException: CFG-80040
	at com.norkom.configurator.business.facades.impl.WorkflowExecutionLogicFacadeImpl.executeWizard(WorkflowExecutionLogicFacadeImpl.java:246) ~[norkom_configurator_business.jar:?]
	at com.norkom.apps.dfin.business.jobs.GenerateBatchEFileJob.executeJob(GenerateBatchEFileJob.java:177) ~[solution.compliance_dfin.jar:?]
	at com.norkom.base.business.jobs.ThreadedJob.run(ThreadedJob.java:53) ~[norkom_base_business.jar:?]
	at java.lang.Thread.run(Thread.java:829) ~[?:?]
00:36:27,754 -  -  ERROR ScheduledJobsThreadManager:157 - Job FINCEN Batch Efiling Job failed.
{code}",,Deirdre Cooper,Lukasz Konieczka,Milena Elzbieta Mietkiewicz,,,,,712020:d0c9fa04-4867-427a-b686-277bffdec5f9,712020:a4459b5e-329c-4830-be7d-7e23cf688f88,712020:0d464633-ae85-4b20-ace8-1019764d285d,,,,,time-tracking;08/Nov/23 3:19 PM;557058:295406f3-a1fc-4733-b906-dd15d021bd79;36000,,,,,,,,,,36000,,,,36000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Nov/23 9:34 AM;712020:0d464633-ae85-4b20-ace8-1019764d285d;application.log;https://netreveal.atlassian.net/rest/api/3/attachment/content/922314,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,project-template-archeo_jboss_oracle-9.2.0.0-a757,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2hmj3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Archeo Sprint 8,Archeo Sprint 9,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-11-01 13:15:30.085,,18/Oct/23 3:48 PM;712020:a4459b5e-329c-4830-be7d-7e23cf688f88;it looks like efiles are created,"01/Nov/23 1:15 PM;712020:d0c9fa04-4867-427a-b686-277bffdec5f9;I followed the exact selenium test steps. 

From the Disclosures Home  . My Disclosures  - Pending Approval tab i selected my disclosure (1021) and Approved. 
the workflow completed without error - nothing in the logs 

However - the disclosure is not visible from the Disclosures Approved tab. 



In my case (C231101312) in the disclosures tab i can see disclosure status is ‘Added To Efile’

No errors in logs





However - automation ran last night and same error is displayed .That said all efiles were present.  But when trying to reproduce manually i cant recreate. 

I do see this warning repeatedly in logs however: 



01-Nov-2023 00:06:06,658 - User-0 - Session-1449 {color:#bf2600}*WARN  DynamicDataSourceClassPathXmlApplicationContext:310 - bean not found: Key Value Selector*{color}
{color:#bf2600}*01-Nov-2023 00:06:06,819 - User-0 - Session-1449 INFO  AbstractSectionController:3809 - Lock logic check for entity:[1009:null] in section:[DFRM_SearchDisclosuresResults]*{color}
01-Nov-2023 00:06:09,748 - User-0 - Session-1449 INFO  AbstractSectionController:3809 - Lock logic check for entity:[1009:null] in section:[DFRM_SearchDisclosuresResults]
01-Nov-2023 00:07:00,236 -  -  ERROR GenerateBatchEFileJob:180 - Exception occured during batch eFiling job.
com.norkom.base.services.exceptions.NorkomBaseException: CFG-80040
	at com.norkom.configurator.business.facades.impl.WorkflowExecutionLogicFacadeImpl.executeWizard(WorkflowExecutionLogicFacadeImpl.java:246) ~[norkom_configurator_business.jar:?]
	at com.norkom.apps.dfin.business.jobs.GenerateBatchEFileJob.executeJob(GenerateBatchEFileJob.java:177) ~[solution.compliance_dfin.jar:?]
	at com.norkom.base.business.jobs.ThreadedJob.run(ThreadedJob.java:53) ~[norkom_base_business.jar:?]
	at java.lang.Thread.run(Thread.java:829) ~[?:?]
01-Nov-2023 00:07:13,100 - User-0 - Session-1449 INFO  AbstractSectionController:3809 - Lock logic check for entity:[1009:null] in section:[DFRM_SearchDisclosuresResults]
01-Nov-2023 00:07:13,456 -  -  INFO  ImapMailConsumer:118 - [eim@localhost.localdomain.com|mailto:eim@localhost.localdomain.com]/james.netreveal - Reading emails from INBOX.
01-Nov-2023 00:07:13,471 -  -  INFO  ImapMailConsumer:124 - [eim@localhost.localdomain.com|mailto:eim@localhost.localdomain.com]/james.netreveal - Emails read: 0.
01-Nov-2023 00:07:18,124 -  -  ERROR ScheduledJobsThreadManager:157 - Job FINCEN Batch Efiling Job failed.
01-Nov-2023 00:08:00,254 -  -  ERROR GenerateBatchEFileJob:180 - Exception occured during batch eFiling job.
com.norkom.base.services.exceptions.NorkomBaseException: CFG-80040





investigating further..",07/Nov/23 10:28 AM;712020:d0c9fa04-4867-427a-b686-277bffdec5f9;I have enabled debug and ran the selenium test on an automated environment. Test passed and nothing reported in the application logs. It would seem that this is an issue caused by selenium test but its hard to pinpoint how. Functionally from front end and logs there is no issue when trying to reproduce manually. Lowering priority - will continue to monitor during log monitoring activities.,"08/Nov/23 9:16 AM;712020:0d464633-ae85-4b20-ace8-1019764d285d;Today I verified 10.2.222.4 env, the automated tests related to efile functionality failed. The tests wait is set to *10 minutes*. If the status does not change to 'Added to efile within this time, the test is failed.

There are 47 occurrences of batch eFiling job (run every minute).

*08-Nov-2023 00:22:00,293* -  -  ERROR GenerateBatchEFileJob:180 - Exception occured during batch eFiling job.
com.norkom.base.services.exceptions.NorkomBaseException: CFG-80040
	at com.norkom.configurator.business.facades.impl.WorkflowExecutionLogicFacadeImpl.executeWizard(WorkflowExecutionLogicFacadeImpl.java:246) ~[norkom_configurator_business.jar:?]
	at com.norkom.apps.dfin.business.jobs.GenerateBatchEFileJob.executeJob(GenerateBatchEFileJob.java:177) ~[solution.compliance_dfin.jar:?]
	at com.norkom.base.business.jobs.ThreadedJob.run(ThreadedJob.java:53) ~[norkom_base_business.jar:?]
	at java.lang.Thread.run(Thread.java:829) ~[?:?]

…

*08-Nov-2023 01:08:00,283* -  -  ERROR GenerateBatchEFileJob:180 - Exception occured during batch eFiling job.
com.norkom.base.services.exceptions.NorkomBaseException: CFG-80040
	at com.norkom.configurator.business.facades.impl.WorkflowExecutionLogicFacadeImpl.executeWizard(WorkflowExecutionLogicFacadeImpl.java:246) ~[norkom_configurator_business.jar:?]
	at com.norkom.apps.dfin.business.jobs.GenerateBatchEFileJob.executeJob(GenerateBatchEFileJob.java:177) ~[solution.compliance_dfin.jar:?]
	at com.norkom.base.business.jobs.ThreadedJob.run(ThreadedJob.java:53) ~[norkom_base_business.jar:?]
	at java.lang.Thread.run(Thread.java:829) ~[?:?]
08-Nov-2023 01:08:20,412 -  -  INFO  ImapMailConsumer:118 - [eim@localhost.localdomain.com|mailto:eim@localhost.localdomain.com]/james.netreveal - Reading emails from INBOX.
08-Nov-2023 01:08:20,423 -  -  INFO  ImapMailConsumer:124 - [eim@localhost.localdomain.com|mailto:eim@localhost.localdomain.com]/james.netreveal - Emails read: 0.
*08-Nov-2023 01:08:26,115* -  -  {color:#ff5630}*ERROR ScheduledJobsThreadManager:157 - Job FINCEN Batch Efiling Job failed.*{color}

…

The job finished successfully only in the morning, when I started the environment.

*08-Nov-2023 08:35:06,467* -  -  {color:#36b37e}*INFO  GenerateBatchEFileJob:185 - Batch Efiling job finished successfully.*{color}

 ",,,,,,,,,,,,,,In Progress
EIM_MinorGroup_MyMinorGroups - Missing warning for Add Note button,APPSDEVX-564,660683,,Bug,New,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,4 - Low,,,,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,10/Oct/23 3:28 PM,11/Oct/23 10:49 AM,10/Nov/23 6:20 PM,,,,,,,,,,,EIM Framework,,,,,,,"*Framework automated test:* 
EIM_MinorGroup_MyMinorGroups - Screen sections verification
*Steps:*
I log into application by login: ""frmsupervisor"" and password: ""Password1""
I select menu option: ""My Work->My Minor Groups->My Minor Groups""I click button having defined tooltip: ""Add Note"" placed on section having label: ""My Minor Groups""
*{color:#de350b}The ""CFG-10033 - No items are selected"" warning does not appear when there are no rows in the section.{color}*

 ",,Milena Elzbieta Mietkiewicz,,,,,,,712020:0d464633-ae85-4b20-ace8-1019764d285d,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Oct/23 3:30 PM;712020:0d464633-ae85-4b20-ace8-1019764d285d;Screenshot 2023-10-10 at 16.30.01.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/887066,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2hdvj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
EIM__AlertingSubjects - Missing popup for Pep Type,APPSDEVX-553,660696,,Bug,New,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,03/Oct/23 3:44 PM,04/Oct/23 9:26 AM,10/Nov/23 6:20 PM,,,,,,,,,,,EIM Framework,,,,,,,"I think there should be possibility to change PEP Type,
!image-2023-10-03-16-44-37-063.png|thumbnail!

as it is already done on EIM__PersonalCustomerSummary
 !screenshot-1.png|thumbnail! ",,Milena Elzbieta Mietkiewicz,,,,,,,712020:0d464633-ae85-4b20-ace8-1019764d285d,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,03/Oct/23 3:44 PM;712020:0d464633-ae85-4b20-ace8-1019764d285d;image-2023-10-03-16-44-37-063.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/887067,03/Oct/23 3:47 PM;712020:0d464633-ae85-4b20-ace8-1019764d285d;screenshot-1.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/887068,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2dh7y:zzy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Archeo Planning,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
EIM__AlertingSubjects - Fields are displayed even though any subject is not selected,APPSDEVX-547,660695,,Bug,New,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,4 - Low,,,,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,03/Oct/23 10:49 AM,31/Oct/23 10:55 AM,10/Nov/23 6:20 PM,,,,,,,,,,,EIM Framework,,,,,,,"I think 
|Subject Type |Subject Type Code| 
fields should be not visible when no subject is selected.
 !Screenshot 2023-10-03 at 11.46.48.png|thumbnail! ",,Milena Elzbieta Mietkiewicz,,,,,,,712020:0d464633-ae85-4b20-ace8-1019764d285d,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,03/Oct/23 10:50 AM;712020:0d464633-ae85-4b20-ace8-1019764d285d;Screenshot 2023-10-03 at 11.46.48.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/887064,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2dh7y:zzxf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Archeo Planning,,,,,,Awaiting Information,,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
OB Chaos Monkey Kill DB Test: missing messages on different topics ,APPSDEVX-538,661070,,Bug,Selected for Development,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Ewa Bartkowiak,712020:f99647dd-2cee-4387-bfba-df53a26239c3,Ewa Bartkowiak,712020:f99647dd-2cee-4387-bfba-df53a26239c3,28/Sep/23 12:20 PM,24/Oct/23 9:21 AM,10/Nov/23 6:20 PM,,COMPL 9.2,,,,,,,,,CDD,,,,ER_Apps,,,"Test OB Chaos Monkey Kill DB has failed because of missing 2 messages on nr-application_response topic. After further analysis I have found that:

For first missing message on response topic for id: CUST-DB4-234: 
- message wasn't delivered to nr-enriched_applications,
- on topic nr-normalized_applications_error there are 2 messages. For id: CUST-DB4-234 and id: CUST-DB4-233, where response for id: CUST-DB4-233 is present.

Second message for id: CUST-DB4-001 was delivered to nr-screened_applications topic , but on response topic not.

When I analysed timestamps form topics, these missing messages should appear on the topics exactly in the time when in the logs I see errors related to killing DB.
 I attached what I have read from topics, and logs.

It may be related to APPSDEVX-233",,Ewa Bartkowiak,,,,,,,712020:f99647dd-2cee-4387-bfba-df53a26239c3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPSDEVX-212,,,,,,,,,,,,APPSDEVX-430,,,,,,,,,,,28/Sep/23 12:20 PM;712020:f99647dd-2cee-4387-bfba-df53a26239c3;app1.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/887235,28/Sep/23 12:20 PM;712020:f99647dd-2cee-4387-bfba-df53a26239c3;enr_time1.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/887236,28/Sep/23 12:23 PM;712020:f99647dd-2cee-4387-bfba-df53a26239c3;logs.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/887237,28/Sep/23 12:20 PM;712020:f99647dd-2cee-4387-bfba-df53a26239c3;resp_full1.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/887239,28/Sep/23 12:20 PM;712020:f99647dd-2cee-4387-bfba-df53a26239c3;scr_time1.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/887240,28/Sep/23 12:20 PM;712020:f99647dd-2cee-4387-bfba-df53a26239c3;val_time1.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/887241,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2h1r3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,CDD Backlog,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"Drop down value ""Yes"" for RCA, AdverseMedia and others is not Internationalizes",APPSDEVX-527,660180,,Bug,Selected for Development,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Olga Zygman,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,Olga Zygman,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,21/Sep/23 12:20 PM,21/Sep/23 12:20 PM,10/Nov/23 6:20 PM,,COMPL 9.0,COMPL 9.1,,,,COMPL 9.2,,,,,,,,ER_Apps,readyToEstimate,," can see on the Customer Search section that ""Yes"" is not internationalized. ""No"" has a correct prefix: ""NL_No"" , but ""Yes"" doesn't.

This issue exists for all fields with dropdown No/Yes/empty.

",,Olga Zygman,,,,,,,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPSDEV-12331,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,APPSDEVX-119,Apps S&M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2gs7j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,660677,Apps S&M,To Do
[RETEST] [APPSDEV-12487] Cross-filter donut chart vs negative values,APPSDEVX-526,660154,,Bug,Selected for Development,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Olga Zygman,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,Olga Zygman,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,21/Sep/23 12:19 PM,21/Sep/23 12:20 PM,10/Nov/23 6:20 PM,,COMPL 9.0,COMPL 9.1,,,,COMPL 9.2,,,,,,,,ER_Apps,readyToEstimate,,"Please take a look at the attachment (screenshot taken for customer CUST-UNIQ-BO-00002 on an env with weighted scores functionality applied; at the time of creation of this ticket this functionality wasn't exported from dev env yet).
Due to the big negative adjustment, we have:

111% of contribution in overall score.
no legend for related parties
customer group not visible on donut chart
Take into account other cases when a group score has a negative value.",,Olga Zygman,,,,,,,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPSDEV-12487,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,APPSDEVX-119,Apps S&M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2gs7b:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,660677,Apps S&M,To Do
[APPSDEV-12576] Related As pop-up shows Valid From inconsistently,APPSDEVX-523,660158,,Bug,Selected for Development,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Olga Zygman,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,Olga Zygman,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,21/Sep/23 12:12 PM,21/Sep/23 12:21 PM,10/Nov/23 6:20 PM,,COMPL 9.0,COMPL 9.1,,,,COMPL 9.2,,,,,,,,ER_Apps,readyToEstimate,,"Steps to reproduce:

Follow the steps 1, 6 and 7 of the test APPSDEV-9738.
Follow the step 13 of the test APPSDEV-9738.
Follow the steps 16 and 17 of the test APPSDEV-9738.
Expected result:

For step 7 and 17 above Valid from = 23/02/2016
For step 13 above Valid from = 23/02/2016
Actual result:

For step 7 and 17 above Valid from = 24/02/2016
For step 13 above Valid from = 23/02/2016
It looks that in BO List section has MIN(X.FROM_TIMESTAMP) AS FROM_TIMESTAMP
and Customers section MAX(X.FROM_TIMESTAMP) AS FROM_TIMESTAMP.

Once it's fixed update the test APPSDEV-9738 accordingly.
Additionally steps 14 and 15 are no longer valid as BO Relationships section doesn't exist any more and was replaced by BO List and Relationship sections which are displayed only for corporate customers.",,Olga Zygman,,,,,,,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,APPSDEVX-119,Apps S&M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2gs6n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,660677,Apps S&M,To Do
[DOC] Cases Dashboard/Alerts Dashboard-->Unable to drag the time range for cross filtering,APPSDEVX-521,660302,,Bug,New,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Jennifer Lalor,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,Jennifer Lalor,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,20/Sep/23 2:05 PM,20/Sep/23 2:05 PM,10/Nov/23 6:20 PM,,COMPL 8.4.1,,,,,COMPL 8.4.1,COMPL 9.1.1,COMPL 9.2,EIM_FRA 9.0,EIM Framework,,,,,,,"Section 3.9 of the EIM User Guide Cross-Filter Charts

I think we need to add a note that whilst there is general functionalities for Cross filters - not all of them may incorporate all of them!

See APPS-16641.

",,Jennifer Lalor,,,,,,,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPS-16641,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,APPSDEVX-207,Archeo Support & Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2gqzz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Archeo Documentation,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,660190,Archeo Support & Maintenance,To Do
Performance report always displays a big negative number for IND RTDE duration,APPSDEVX-489,660068,,Bug,New,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Mariusz Ratajczyk,712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e,Mariusz Ratajczyk,712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e,11/Sep/23 1:53 PM,26/Sep/23 8:51 AM,10/Nov/23 6:20 PM,,COMPL 9.2,,,,,,,,,,,,,ER_Apps,readyToEstimate,,"See last reports:
[http://10.222.2.205/testsResults/10.222.2.120/seleniumResults/netreveal_cdd_mtt/_PerformanceSummaryReports/]

One can spot the negative value for IND RTDE duration but also that E2E duration is shorter than IND E2E + AGG E2E.

!image-2023-09-11-14-50-38-912.png!

The negative value comes from the fact that MTT uses topic nr-internal_ind_score_odd which is not in use in proessing config.",,Mariusz Ratajczyk,Michal Kolaczkowski,Tatiana Kukushkina,,,,,712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e,712020:d4e1c12f-4c7f-42fe-8c91-16d00090f648,712020:f4cad52f-d917-4420-873b-c485c8d7e994,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPSDEV-12515,,,,,,,,,,,,,,,,11/Sep/23 1:50 PM;712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e;image-2023-09-11-14-50-38-912.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/887039,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,APPSDEVX-131,CDD Performance Testing Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2ggn3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,CDD Backlog,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-09-26 07:51:27.629,,26/Sep/23 8:51 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;Example of a report where negative numbers also occur in other P2P results: http://10.222.2.205/testsResults/10.222.2.120/seleniumResults/netreveal_cdd_mtt/_PerformanceSummaryReports/PerformanceSummaryReport_2023_09_25_0842.html,,,,,,,,,,,,,,,660603,CDD Performance Testing Support and Maintenance,To Do
Extend selenium tests for Compare Possible Duplicates,APPSDEVX-426,660294,660125,Bug (sub-task),Open,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Ewa Bartkowiak,712020:f99647dd-2cee-4387-bfba-df53a26239c3,Ewa Bartkowiak,712020:f99647dd-2cee-4387-bfba-df53a26239c3,05/Sep/23 1:12 PM,20/Sep/23 9:31 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"On the popup for compare posible duplicate subjects we have on both sides of the popup fields with the same captions. For selenium test data validation we need to have methods in the selenium test tool which use field name instead of Field caption. 

We are waiting for changes in selenium test tool made by Tomasz Kazmierczak",,Ewa Bartkowiak,,,,,,,712020:f99647dd-2cee-4387-bfba-df53a26239c3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2g9z3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Sep/23 9:31 AM;712020:f99647dd-2cee-4387-bfba-df53a26239c3;I have information from [~accountid:712020:441b8702-be38-4fe9-9b76-6c77e8cfcc31] that all methods in the Selenium Test Tool are ready for this.

It can be started if someone is free.",,,,,,,,,,,,,,,660125,[TIMEBOX] Fresh Sprint 41: Maintain automated tests for CDD,To Do
[FCENGX-889] Information for contribution 'Customer Account Types Risk' not consistent,APPSDEVX-418,660162,,Bug,Selected for Development,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,4 - Low,,,,Ewa Bartkowiak,712020:f99647dd-2cee-4387-bfba-df53a26239c3,Ewa Bartkowiak,712020:f99647dd-2cee-4387-bfba-df53a26239c3,30/Aug/23 7:58 AM,17/Oct/23 8:28 AM,10/Nov/23 6:20 PM,,COMPL 9.1,COMPL 9.2,,,,,,,,CDD,,,,ER_Apps,readyToEstimate,,"For the contribution: 'Customer Account Types Risk' 
column Information sometimes looks like that:

*'Account Types linked to the Customer:* *(AT0013) the total of the contributions 100.00 is used'* 
(see [http://10.222.2.205/testsResults/10.222.2.48/seleniumResults/netreveal_cdd/2023_05_10_1819]) 
and sometimes looks like that: 
*'Account Types linked to the Customer: (AT0013) the total of the contributions (100) is used'*
(see: [http://10.222.2.205/testsResults/10.222.2.48/seleniumResults/netreveal_cdd/2023_05_17_1819]
[http://10.222.2.205/testsResults/10.222.2.48/seleniumResults/netreveal_cdd/2023_08_29_1819/#suites/1598de7d2f9ae5edaf236b96e63d7b28/a451e017180019b9/])

 

06/09/2023 we have observed another issue:

APPSDEVX-418 Information for contribution 'Customer Account Types Risk' not consistent - Netreveal Jira (valiantys.net)

Issues were seen for two days, and 08/09/2023 disappeared.

 

Needs to be observed.",,Ewa Bartkowiak,Olga Zygman,Tatiana Kukushkina,,,,,712020:f99647dd-2cee-4387-bfba-df53a26239c3,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,712020:f4cad52f-d917-4420-873b-c485c8d7e994,,,,,Working on issue APPSDEVX-418;29/Sep/23 10:03 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;1800,;29/Sep/23 11:16 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;600,Working on issue APPSDEVX-418;03/Oct/23 9:01 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;1200,Working on issue APPSDEVX-418;03/Oct/23 4:17 PM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;1500,Working on issue APPSDEVX-418;05/Oct/23 8:13 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;5400,Working on issue APPSDEVX-418;05/Oct/23 8:45 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;900,;09/Oct/23 10:30 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;3600,Working on issue APPSDEVX-418;17/Oct/23 8:28 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;900,,,15900,,,,15900,,,,,,,,,,,,,,,,APPSDEVX-476,,,,,FCENGX-889,,NGDEX-230,,,,,,,,,03/Oct/23 9:00 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;image-2023-10-03-10-00-47-979.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/887001,09/Oct/23 9:19 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;image-2023-10-09-10-19-34-440.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/887002,04/Oct/23 8:56 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;screenshot-1.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/887003,04/Oct/23 10:10 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;screenshot-2.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/887004,04/Oct/23 10:15 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;screenshot-3.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/887005,04/Oct/23 10:25 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;screenshot-4.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/887006,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2023-10-02T10:38:42.715+0100"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""stash"":{""count"":1,""name"":""Bitbucket Server""}}}}},""isStale"":true}}",,,,,,,,,,,APPSDEVX-119,Apps S&M,,,,,,,,,,,,,,,,,,,Impediment,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2g3pj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-09-08 13:50:32.826,,"08/Sep/23 2:50 PM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;Next week a new RTDE version containing a potential fix for ISP  issues, which seem similar to the issue is this ticket (NGDEX-230) is going to be released. We have agreed with Trevor to link this ticket to NGDEX-230 and to monitor if the issue re-occurs after  the release.","21/Sep/23 11:13 AM;712020:05e12f3e-a969-415a-9f16-6effd8f7df7c;Needs to be observed. If it occurs again, needs to be raided with rtde.","29/Sep/23 8:57 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;Currently the automated test is failing on .48:

The test expect no brackets: INFORMATION=Account Types linked to the Customer: (AT0013) the total of the contributions 100
The actual result is with brackets: [http://10.222.2.205/testsResults/10.222.2.48/seleniumResults/netreveal_cdd/2023_09_28_1819/#suites/b512766c17deac0fd72849e088bf20cf/bca2002ec62eeb22/?attachment=1f052cd1e2d223ca]

I have checked this scenario info from different scoring channels (OB, ODD, on-demand). In all cases the total of contributions is shown in brackets.

Same behavior on Postgres environment .56.

The failing test: https://netreveal-bitbucket.valiantys.net/projects/APPS/repos/selenium-tests/browse/tests/resources/features/CDD/Screens/CDD_Screens_006_CDD_GroupingODDAlertsPersonalCustomer.feature?at=compliance. 
Before this commit [3b84533d12a|https://netreveal-bitbucket.valiantys.net/projects/APPS/repos/selenium-tests/commits/3b84533d12a10a60267353f71f4b7d0a3633514f#tests/resources/features/CDD/Screens/CDD_Screens_006_CDD_GroupingODDAlertsPersonalCustomer.feature] on 11 May 2023 it had the brackets. Probably, the commit was a reaction to a failing test back then, but before that the score info contained the brackets, and it does so now. We should change it back and observe if the test will start failing because the brackets ARE present.

 ",02/Oct/23 10:39 AM;712020:f99647dd-2cee-4387-bfba-df53a26239c3;PR approved and merged,"03/Oct/23 9:00 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;The changes are present on the automation .48, but the test failed and the actual result is bizzar:

""Account Types linked to the Customer: (AT0013) the total of the contributions (Unknown) is used""

I see all king of strange values for this scenario info in the database:

!image-2023-10-03-10-00-47-979.png!

Example of customer is: CUST700220. The info on .48 is: ""Account Types linked to the Customer: (AT0008,AT0003) the total of the contributions (Mortgage,Cheque/Check) is used"".

On .56 the issue is not present. The score info for CUST700220 is ""Account Types linked to the Customer: (AT0003,AT0008) the total of the contributions (30,85) is used""","04/Oct/23 9:00 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;After a new run the contribution info for CUST700220 on .48 is: ""Account Types linked to the Customer: (AT0008,AT0003) the total of the contributions 115.0 is used"".

*It reveals another problem. It is not only about the brackets, but the number shown is the sum of the contributions.*

After an on-demand rescore of the same customer the info is: ""Account Types linked to the Customer: (AT0008,AT0003) the total of the contributions (85,30) is used"".

The inconsistent behavior is only happening on .48. Not on .30, .56, 10.222.17.204 (full compliance Jboss- Postgres), 10.222.2.67 (full compliance + fraud Jboss - Oracle). Yesterday I checked, and the configuration doesn't look customized. The processing model is read from the database, and the ootb configuration is in production.

 

Next steps:

Check full installations

Check input topics for RTDE.

nr-screened_applications: ""LinkedAccountTypes"": ""AT0008,AT0003""

nr-ind_scoring: ""LinkedAccountTypes"": ""AT0008,AT0003""

 

It appears that info coming from OB pipeline, including on-demand, is correct. The info coming from ODD shows the sum of the contributions. The issue is only spotted on 1 environment.

 ","05/Oct/23 8:45 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;05/10: the issue on .48 was not reproduced;
06/10: same.
09/10: the issue is reproduced:

!image-2023-10-09-10-19-34-440.png!

I've create a backup image of the instance ([ami-08d987c85673b35b0|https://eu-west-1.console.aws.amazon.com/ec2/v2/home?region=eu-west-1#ImageDetails:imageId=ami-08d987c85673b35b0]) and have raises an FCENGX ticket for the RTDE team: FCENGX-889.",13/Oct/23 2:37 PM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;Recommendation from RTDE: smart_3 9.2.0.0 release is now available from nexus . Suggest to test with that release and monitor.,16/Oct/23 8:02 AM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;On the installation with smart_3.0-9.2.0.0 from 13/10/2023 the issue is not reproduced.,,,,,,,660677,Apps S&M,To Do
CDD Performance: Kafka topics on the RTDE/Kafka instances are not refreshed at all during the installation,APPSDEVX-387,660072,,Bug,New,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Tatiana Kukushkina,712020:f4cad52f-d917-4420-873b-c485c8d7e994,Tatiana Kukushkina,712020:f4cad52f-d917-4420-873b-c485c8d7e994,08/Aug/23 8:44 AM,21/Sep/23 11:16 AM,10/Nov/23 6:20 PM,,COMPL 9.2,,,,,,,,,CDD,,,,ER_Apps,readyToEstimate,,"As the outcome of the investigation of APPSDEVX-384 (Missing topics on ODD performance installations) and then APPSDEVX-385 (OB1 and OB2 pipelines failed: no kafka topics are present) I discovered that Kafka topics on the RTDE/Kafka instances are not refreshed at all during the installation. This is the case for all Fresh perf installations for backend perf testing. 

*The impact from this issue* is that our testing results may be affected by incorrect topics configuration, such as missing topics and incorrect number of partitions, leading to failing installations and requiring time for investigation as well as the risk of returning misleading performance results.

When investigating the abovementioned issues I found references to the previous work related to the same issue: NEST-1948, APPSDEV-12324. It looks like that work isn't complete or got corrupted.

The current situation:
The topics on OB1 and OB2 have been recreated manually as part of APPSDEVX-385 (OB1 and OB2 pipelines failed: no kafka topics are present).
Topics on ODD1 and ODD2 are not in line with what is expected based on topics.txt, but it is OK for performance testing and no effort was spent on recreating the missing topics manually.

*AC*
What we expect as an outcome of fixing this bug is that topics on perf installations should be fully refreshed with every installation based on topics.txt files for different vertical, with the addition of partitions settings for CDD topics specific to certain number of cores (4 cores and 8 cores).",,Tatiana Kukushkina,,,,,,,712020:f4cad52f-d917-4420-873b-c485c8d7e994,,,,,,,Working on issue APPSDEVX-387;09/Aug/23 1:12 PM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;2400,,,,,,,,,,2400,,,,2400,,,,,,,,,APPSDEVX-384,,,,,,,,,,,,APPSDEVX-385,,NEST-1948,APPSDEV-12324,,,,,,,,09/Aug/23 1:04 PM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;ODD2_Postfres_20230808_topics.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/887042,09/Aug/23 1:04 PM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;ODD_existing_topics.txt;https://netreveal.atlassian.net/rest/api/3/attachment/content/887043,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,APPSDEVX-131,CDD Performance Testing Support and Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2fiun:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Sep/23 12:08 PM;712020:f4cad52f-d917-4420-873b-c485c8d7e994;We need to recreate the NEST ticket in the new project and ask NEST to review and prioritize.,,,,,,,,,,,,,,,660603,CDD Performance Testing Support and Maintenance,To Do
Tests for AAT do not working - need to align customer scores ,APPSDEVX-351,660137,660125,Bug (sub-task),Selected for Development,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Ewa Bartkowiak,712020:f99647dd-2cee-4387-bfba-df53a26239c3,Ewa Bartkowiak,712020:f99647dd-2cee-4387-bfba-df53a26239c3,27/Jul/23 8:57 AM,10/Oct/23 9:10 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"Tests for AAT are failing since we provide weightings for the scores.

We need to align scores for test customers to make it working.

[http://10.222.2.205/testsResults/10.222.2.48/seleniumResults/netreveal_cdd/2023_07_26_1919/#suites/1598de7d2f9ae5edaf236b96e63d7b28/139616a6e7dbfd51/]

[http://10.222.2.205/testsResults/10.222.2.48/seleniumResults/netreveal_cdd/2023_07_26_1919/#suites/1598de7d2f9ae5edaf236b96e63d7b28/4712f576896bc4a3/]

Features:

CDD_Screens_012_CDD_AAT_RecommendToReject.feature

CDD_Screens_013_CDD_AAT_RecommendToAccept.feature",,Ewa Bartkowiak,,,,,,,712020:f99647dd-2cee-4387-bfba-df53a26239c3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2f7nz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,660125,[TIMEBOX] Fresh Sprint 41: Maintain automated tests for CDD,To Do
Selenium Test Tool - xpath problem : can't find cell on the list by column name and value,APPSDEVX-349,661083,,Bug,In Review,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,Ewa Bartkowiak,712020:f99647dd-2cee-4387-bfba-df53a26239c3,Ewa Bartkowiak,712020:f99647dd-2cee-4387-bfba-df53a26239c3,27/Jul/23 8:35 AM,10/Oct/23 7:09 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,selenium,,,"{{Test is failing since may 2023.}}

{{Everithing seems to be fine, but still failing.}}

{{The expected text: ""cddadmin"" is not present in the column with caption: ""Actioned By""}}

[http://10.222.2.205/testsResults/10.222.2.48/seleniumResults/netreveal_cdd/2023_07_26_1919/#suites/1598de7d2f9ae5edaf236b96e63d7b28/85e5d9c4c4e1e7cb/]

 ",,Ewa Bartkowiak,Milena Elzbieta Mietkiewicz,,,,,,712020:f99647dd-2cee-4387-bfba-df53a26239c3,712020:0d464633-ae85-4b20-ace8-1019764d285d,,,,,,Working on issue APPSDEVX-349;09/Aug/23 12:56 PM;712020:0d464633-ae85-4b20-ace8-1019764d285d;10800,Working on issue APPSDEVX-349;09/Aug/23 3:21 PM;712020:0d464633-ae85-4b20-ace8-1019764d285d;3600,,,,,,,,,14400,,,,14400,,,,,,,,,,,,,,,,,,,,,APPSDEVX-334,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2f7m7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-08-09 11:55:58.701,,09/Aug/23 12:55 PM;712020:0d464633-ae85-4b20-ace8-1019764d285d;PR: https://netreveal-bitbucket.valiantys.net/projects/APPS/repos/selenium-test-tool/pull-requests/376/overview,"09/Aug/23 3:23 PM;712020:0d464633-ae85-4b20-ace8-1019764d285d;There was also problem with 
And Field: I verify that part of text: ""Chemicals"" is present in the column: ""Final State"" located in the section ""User Activity"" where reference text is: ""CDD_RescoreSubjects"" and reference column is: ""Affected Object""
because 'Chemicals' value is outside tag, the xpath has been updated to cover that case

+ the test update
https://netreveal-bitbucket.valiantys.net/projects/APPS/repos/selenium-tests/pull-requests/941/overview","30/Aug/23 7:52 AM;712020:f99647dd-2cee-4387-bfba-df53a26239c3;Test is still failing :( at the same step.

http://10.222.2.205/testsResults/10.222.2.48/seleniumResults/netreveal_cdd/2023_08_29_1819/#suites/1598de7d2f9ae5edaf236b96e63d7b28/144d2e80cf10b6bb/","11/Sep/23 3:43 PM;712020:0d464633-ae85-4b20-ace8-1019764d285d;[~accountid:712020:f99647dd-2cee-4387-bfba-df53a26239c3] 

The change has been merged today :)

[https://netreveal-bitbucket.valiantys.net/projects/APPS/repos/selenium-test-tool/pull-requests/395/overview]

Sorry for delay!

The latest Selenium Test Tool version has been sent to Nexus as well ","29/Sep/23 12:37 PM;712020:f99647dd-2cee-4387-bfba-df53a26239c3;Test still do not work. But on the other step:
And Field: I verify that part of text: ""Chemicals"" is present in the column: ""Final State"" located in the section ""User Activity"" where reference text is: ""CDD_RescoreSubjects"" and reference column is: ""Affected Object""

The expected text: ""Chemicals"" is not present in the column with caption: ""Final State""
Element XPath: (.//table[(contains(@id, 'listTable') or contains(@id, 'interactiveListTable') or contains(@class, 'multi-value-field-table') or contains(@id,'dcDataTable') or contains(@class, 'data standard')) and not(contains(@id, ....",,,,,,,,,,,,,In Progress
Error in amlopt.log: ERROR [DetectionLogic (DetectionLogic.scala:164)] An error occurred: skipping current scenario AML09 Several cash deposits in multiple accounts:,APPSDEVX-318,660656,,Bug,New,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,Margaret Cashman,712020:d7742f6e-d4d7-4e0a-9227-6466459459c7,Olga Zygman,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,Olga Zygman,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,20/Jul/23 7:56 AM,08/Aug/23 8:24 AM,10/Nov/23 6:20 PM,,,,,,,,,,,AML Optimization,,,,AML-Optimizer,,,"On 10.222.17.50 on istallation from 18/07/2023 there was a following error identified:
 [^smbd.log] 
{code}

localhost

07:58:08,307 ERROR [DetectionLogic (DetectionLogic.scala:164)] An error occurred: skipping current scenario AML09 Several cash deposits in multiple accounts: Job 73 cancelled because SparkContext was shut down
07:58:08,784 ERROR [TaskContextImpl (Logging.scala:91)] Error in TaskCompletionListener
java.lang.IllegalStateException: Block broadcast_93 not found
	at org.apache.spark.storage.BlockInfoManager$$anonfun$2.apply(BlockInfoManager.scala:293) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.storage.BlockInfoManager$$anonfun$2.apply(BlockInfoManager.scala:293) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at scala.Option.getOrElse(Option.scala:121) ~[smbd_2.0-Spark_2.4.4-9.1.0.0.jar:?]
	at org.apache.spark.storage.BlockInfoManager.unlock(BlockInfoManager.scala:292) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.storage.BlockManager.releaseLock(BlockManager.scala:842) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.broadcast.TorrentBroadcast$$anonfun$org$apache$spark$broadcast$TorrentBroadcast$$releaseLock$1.apply(TorrentBroadcast.scala:265) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.broadcast.TorrentBroadcast$$anonfun$org$apache$spark$broadcast$TorrentBroadcast$$releaseLock$1.apply(TorrentBroadcast.scala:265) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.TaskContext$$anon$1.onTaskCompletion(TaskContext.scala:131) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.TaskContextImpl$$anonfun$markTaskCompleted$1.apply(TaskContextImpl.scala:117) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.TaskContextImpl$$anonfun$markTaskCompleted$1.apply(TaskContextImpl.scala:117) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.TaskContextImpl$$anonfun$invokeListeners$1.apply(TaskContextImpl.scala:130) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.TaskContextImpl$$anonfun$invokeListeners$1.apply(TaskContextImpl.scala:128) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59) ~[smbd_2.0-Spark_2.4.4-9.1.0.0.jar:?]
	at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48) ~[smbd_2.0-Spark_2.4.4-9.1.0.0.jar:?]
	at org.apache.spark.TaskContextImpl.invokeListeners(TaskContextImpl.scala:128) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.TaskContextImpl.markTaskCompleted(TaskContextImpl.scala:116) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.scheduler.Task.run(Task.scala:133) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_152]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_152]
	at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_152]
07:58:08,860 ERROR [Executor (Logging.scala:91)] Exception in task 1.0 in stage 93.0 (TID 99)
java.lang.IllegalArgumentException: Task 99 called remove() on non-existent block rdd_369_1
	at org.apache.spark.storage.BlockInfoManager.removeBlock(BlockInfoManager.scala:426) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.storage.BlockManager.removeBlockInternal(BlockManager.scala:1592) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.storage.BlockManager.doPut(BlockManager.scala:1118) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.storage.BlockManager.doPutIterator(BlockManager.scala:1156) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.storage.BlockManager.getOrElseUpdate(BlockManager.scala:882) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.rdd.RDD.getOrCompute(RDD.scala:335) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:286) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.scheduler.Task.run(Task.scala:123) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_152]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_152]
	at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_152]
07:58:08,861 ERROR [Executor (Logging.scala:91)] Exception in task 0.0 in stage 93.0 (TID 98)
org.apache.spark.util.TaskCompletionListenerException: Block broadcast_93 not found
Previous exception in task: Task 98 called remove() on non-existent block rdd_369_0
	org.apache.spark.storage.BlockInfoManager.removeBlock(BlockInfoManager.scala:426)
	org.apache.spark.storage.BlockManager.removeBlockInternal(BlockManager.scala:1592)
	org.apache.spark.storage.BlockManager.doPut(BlockManager.scala:1118)
	org.apache.spark.storage.BlockManager.doPutIterator(BlockManager.scala:1156)
	org.apache.spark.storage.BlockManager.getOrElseUpdate(BlockManager.scala:882)
	org.apache.spark.rdd.RDD.getOrCompute(RDD.scala:335)
	org.apache.spark.rdd.RDD.iterator(RDD.scala:286)
	org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)
	org.apache.spark.scheduler.Task.run(Task.scala:123)
	org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)
	org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360)
	org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)
	java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	java.lang.Thread.run(Thread.java:748)
	at org.apache.spark.TaskContextImpl.invokeListeners(TaskContextImpl.scala:138) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.TaskContextImpl.markTaskCompleted(TaskContextImpl.scala:116) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.scheduler.Task.run(Task.scala:133) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414) ~[spark-core_2.11-2.4.4.jar:2.4.4]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_152]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_152]
	at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_152]

{code}",,Olga Zygman,,,,,,,712020:05e12f3e-a969-415a-9f16-6effd8f7df7c,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Jul/23 7:58 AM;712020:05e12f3e-a969-415a-9f16-6effd8f7df7c;smbd.log;https://netreveal.atlassian.net/rest/api/3/attachment/content/887079,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2f0lr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Aug/23 8:24 AM;712020:05e12f3e-a969-415a-9f16-6effd8f7df7c;Hi, this is still present.

I have spotted corresponding entries in amlopt log:

{code}

ERROR [DetectionLogic (DetectionLogic.scala:164)] An error occurred: skipping current scenario AML09 Several cash deposits in multiple accounts: execute, tree: Exchange hashpartitioning(profileKey#2975, 2) +- *(1) HashAggregate(keys=[profileKey#2975], functions=[partial_sum(CashCreditCount_cnt_day#3044L)], output=[profileKey#2975, sum#3377L]) +- *(1) Project [profileKey#2975, CashCreditCount_cnt_day#3044L] +- *(1) Filter (isnotnull(CashCreditCount_cnt_day#3044L) && isnotnull(profileKey#2975)) +- *(1) FileScan parquet [profileKey#2975,CashCreditCount_cnt_day#3044L,entity_name#3064,profile_date#3065,dataSource#3066] Batched: true, Format: Parquet, Location: InMemoryFileIndex[file:/opt/netreveal/amloptsmbd/SMID1000_PSID1003_Start20160105_End20160105/day], PartitionCount: 0, PartitionFilters: [isnotnull(entity_name#3064), (entity_name#3064 = Customer_Client), (date_format(cast(profile_dat..., PushedFilters: [IsNotNull(CashCreditCount_cnt_day), IsNotNull(profileKey)], ReadSchema: struct<profileKey:string,CashCreditCount_cnt_day:bigint>

{code}",,,,,,,,,,,,,,,,,To Do
[APPS-16607] Transaction view: Graph view not working (blocked by FCENGX-665),APPSDEVX-317,660449,,Bug,In Review,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,4 - Low,,Tomasz Kazmierczak,712020:441b8702-be38-4fe9-9b76-6c77e8cfcc31,Jennifer Lalor,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,Jennifer Lalor,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,19/Jul/23 3:06 PM,10/Oct/23 10:27 AM,10/Nov/23 6:20 PM,,EIM_FRA 9.1,,,,,,,,,EIM Framework,,,,readyToEstimate,,,"h3. Background.

Navigate to Back Office > Customers > Transactions > Graphical View

Look at the Date axis - the format is incorrect appearing like a long number rather than a date.

I am sure we had this issue before but I can't find the bug.

h3. Aceptance Criteria
1. Can we provide a patch to resolve this for the project (APPS-16607)
2. Fix for 9.2",,Deirdre Cooper,Jennifer Lalor,Lukasz Konieczka,Nupur Sinha,Tomasz Kazmierczak,,,712020:d0c9fa04-4867-427a-b686-277bffdec5f9,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,712020:a4459b5e-329c-4830-be7d-7e23cf688f88,712020:2cab0942-4f6c-4a8e-9d90-93835672dc12,712020:441b8702-be38-4fe9-9b76-6c77e8cfcc31,,,;28/Aug/23 3:07 PM;712020:2cab0942-4f6c-4a8e-9d90-93835672dc12;18000,;05/Sep/23 2:34 PM;712020:d0c9fa04-4867-427a-b686-277bffdec5f9;43200,,,,,,,,,61200,,,,61200,,FCENGX-665,,,,,,,APPS-16607,,,,,ZKBAMLCDD-1146,,,,,,,,,,,,,,,,,,05/Sep/23 2:33 PM;712020:d0c9fa04-4867-427a-b686-277bffdec5f9;application-configuration-appsdevx-317.xml;https://netreveal.atlassian.net/rest/api/3/attachment/content/886980,29/Aug/23 2:02 PM;712020:441b8702-be38-4fe9-9b76-6c77e8cfcc31;chart.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/886981,05/Sep/23 2:08 PM;712020:d0c9fa04-4867-427a-b686-277bffdec5f9;image-2023-09-05-14-08-26-078.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/886982,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,APPSDEVX-207,Archeo Support & Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2dh7y:zzx9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Archeo Sprint 5,Archeo Sprint 6,Archeo Planning,,,,Awaiting Information,,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-08-03 13:32:43.021,,02/Aug/23 12:06 PM;712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5;Could this be related: [https://netreveal.atlassian.net/browse/FCENG-24259|https://netreveal.atlassian.net/browse/FCENG-24259],"03/Aug/23 2:32 PM;712020:a4459b5e-329c-4830-be7d-7e23cf688f88;i have removed format from section parameter and added in query:

to_char(TRANSACTION_DATE,[reserved.localizedDateFormat]) AS label,

 

it seems to be ok - i wll test it more

 

page mentioned by Andrew:

[https://netreveal.atlassian.net/wiki/pages/viewpage.action?pageId=22610104|https://netreveal.atlassian.net/wiki/pages/viewpage.action?pageId=22610104]","28/Aug/23 3:06 PM;712020:2cab0942-4f6c-4a8e-9d90-93835672dc12;Framework :[https://10.222.2.6:8443/netreveal/screen/view.do]

EIM_Change_APPSDEVX-317

Updated EIM_CustomerTransGraph Query for label.

removed xAxisDataFormat in section parameters

This is tested on 10.222.2.4","29/Aug/23 2:04 PM;712020:441b8702-be38-4fe9-9b76-6c77e8cfcc31;Applying the formatting inside the SQL query is not enough - for some combinations of dates and user locale settings, the dates are ordered incorrectly on the chart:
 !chart.png|thumbnail! 

Also there seems to be no other way to format the dates for a ""Chart Section"" (the confluence page linked above claims that dates are formatted automatically, but that doesn't seem to be working).

The only way to fix this bug seems to be converting the section type to ""Charts LineBarArea Section"". We use this new section type on the ML Dashboard, which can be used as an example.","29/Aug/23 2:52 PM;712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5;Nupur, can you make this change and ensure it functions correctly and if it does can we create a patch we can add to APPS-16607.","05/Sep/23 2:08 PM;712020:d0c9fa04-4867-427a-b686-277bffdec5f9;Changed section type to use Charts LineBarArea Section
Tested it is working correctly for  
|Corporate Customer: PENN CARR: CUST-000032| |

!image-2023-09-05-14-08-26-078.png|width=638,height=508!","05/Sep/23 2:31 PM;712020:d0c9fa04-4867-427a-b686-277bffdec5f9;Changes made on Framework Dev. I have tested also by importing on compliance dev and works on both.
Patch Attached","07/Sep/23 9:26 AM;712020:441b8702-be38-4fe9-9b76-6c77e8cfcc31;An issue with the section controller has been found during review: FCENGX-665

This needs to be fixed before we can progress with this ticket.",,,,,,,,660190,Archeo Support & Maintenance,In Progress
CDDRAS_ErrorHandling doesn't send a message to a response topic,APPSDEVX-232,660408,,Bug,New,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Mariusz Ratajczyk,712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e,Mariusz Ratajczyk,712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e,05/Jun/23 12:26 PM,06/Oct/23 8:41 AM,10/Nov/23 6:20 PM,,COMPL 8.3,COMPL 8.4,COMPL 8.4.1,COMPL 9.0,COMPL 9.1,,,,,CDD,,,,ER_Apps,readyToEstimate,,"*Steps to reproduce:*
 # Send a message 1 to _nr-application_response_internal_ topic.
 # Kill/stop db.
 # Send a message 2 to _nr-application_response_internal_ topic.

*Expected result:*

There is a message related to message 2 on _nr-application_response_ topic.

*Actual result:*

There is no message related to message 2 on _nr-application_response_ topic.
There is a warning like below in a log:
WARN  NetworkClient:1119 - [Producer clientId=EIM-Default-Producer] Error while fetching metadata with correlation id 60 : \{null=UNKNOWN_TOPIC_OR_PARTITION}

_CDDRAS_ApplicationResponseAdaptation_ sequence sets _targetTopic_ variable.
If settings fails for any reason _CDDRAS_ErrorHandling_ sequence sends an error message nowhere. It affects all sequences of CDDRAS. 
In order to solve it CDDRAS should be refactored so that target topic for error sequence is provided directly in error sequence function sending the error message like in other services.
Bear in mind FCENGX-282.

 ",,Mariusz Ratajczyk,,,,,,,712020:77b0f8d9-cab5-43cf-adf4-bfc200e6761e,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPSDEVX-430,APPSDEVX-10,FCENGX-282,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,APPSDEVX-183,Reliability and Resilience of CDD - v9.2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2do87:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,660094,Reliability and Resilience of CDD - v9.2,To Do
[APPS-16364] [DOC] Discrepancies between NetReveal Investigator UI Guide and screen configuration,APPSDEVX-211,660413,,Bug,New,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,Gareth Power,712020:dff00b4d-2469-4b49-ac32-4025d31333c7,Jennifer Lalor,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,Jennifer Lalor,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,29/May/23 4:54 PM,02/Jun/23 11:12 AM,10/Nov/23 6:20 PM,,,,,,,,,,,EIM Framework,,,,,,,"During a traceability exercise as part of an upgrade to Version 8.4.1, Virgin Money have highlighted a number of discrepancies that were noticed when comparing the NetReveal Investigator UI Guide and the information presented in the application. Rather than raise separate tickets for each, I have provided a summary of the discrepancies noticed in this one ticket.

h3. Section 8.2 Listing Associated Parties

The list of fields presented in the Matching Associated Parties section does not align with the available fields in the application (there are a large number of fields hidden by default which are not detailed here). 

h3. Section 12.3.5 Working with Accounts -> Alerts Section

The guide states {panel} This screen is identical to the Customer Details > Alerts section. {panel}

This is not the case, and the user is instead taken to a different screen with bespoke sections.

h3. Section 12.1.1 Set Next Review Date

There are a couple of read-only fields on the screen presented to the user (Hint/Earliest Review Date) which are not detailed in this section. 

h3. Section 12.2.5.3 Customer Details - Alerts Sections - Open CDDKYC Alerts

The guide states: {panel} From this section, you can perform the same actions as those described in ""Customer Details - Alerts Sections - All Alerts"" on page 1, except for the following actions: {panel}

This section does not have a 'Send Email' button in the same way as the All Alerts section, so this needs to be added to the list of exceptions.

h3. Section 12.2.7.3.1 Customer Details: All Subjects: Tree View or List View

There are a number of actions listed in this section, which are not applicable to this section (For example: Link employee to alert). I think these are applicable to the Alert Details: Subjects: Tree View or List View. 

The only action applicable to this section should be the ""View As: Tree/List"" button.

h3. Section 12.2.3.4 Customer Details: Txn Type Summary

In the table of fields, the final field is labelled as '% of all', while in the application is '% of all Txn'.",,Jennifer Lalor,,,,,,,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPS-16364,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,APPSDEVX-207,Archeo Support & Maintenance,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0l40f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Archeo Documentation,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,660190,Archeo Support & Maintenance,To Do
[DOC] EIM Framework Alert Actions That May Use Vertical-Specific Versions inconsistency,APPSDEVX-169,660821,,Bug,New,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Jennifer Lalor,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,Jennifer Lalor,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,19/May/23 11:46 AM,21/Sep/23 4:18 PM,10/Nov/23 6:20 PM,,,,,,,,,,,AML Transaction Monitoring,CDD,EIM Framework,,,,,"There is a section in the Workflow spec called:
""EIM Framework Alert Actions That May Use Vertical-Specific Versions""

This has incorrect Status Before/After Actions as Before action should always be Linked but After Status can vary from solution to solution - should we update these to reflect that as it could be taken that you can carry out the action from any status and also some may think the Any status actually relates to the Case status.  A query around this did come up form a service project.
Also I can see that some of these actions refer to the specific are where the action is described for CDD.  The same should be done for the other solutions.
Though this is done in 8.4 version of the document and not 9.1.

OR

Do we remove the detail for this section as it is mentioned at solution level anyway and just have a summary of F/W actions that exist at solution level to remove any confusion.


ALSO
Do we have it documented anywhere that if the Case is closed (or Reported??) then the Unlink action will not be available.

",,Jennifer Lalor,,,,,,,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i2glb1:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Archeo Documentation,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
[FinCEN] Missing permissions,APPSDEVX-151,660651,,Bug,New,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,4 - Low,,,,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,17/May/23 9:14 AM,18/May/23 4:26 PM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,,,,"*I've spotted that {color:#00875a}/Login{color} permission is needed for user account to work* (login; logout; menu access). I'm not sure which roles are to assign the permission. 

 

Generally users are assigned to FinCEN groups and those groups have assigned three roles:

> FINCEN SAR Reviewer/Investigator/Administrator/Approver/E-Filter

> SAR Reviewer/Investigator/Administrator/Approver/E-Filter

> SNA_search_search (only /eimOrgDomainFiltering permission assigned)

 

Permissions which are already assigned to the following roles (please note duplicate permissions):
||FINCEN SAR Administrator||FINCEN SAR Investigator||FINCEN SAR Reviewer||FINCEN SAR Approver||FINCEN SAR E-Filter||
|> {color:#00875a}/Login{color}|> {color:#00875a}/Login{color}| | | |
| |> /Login/Logout|> /Login/Logout|> /Login/Logout|> /Login/Logout|
|> /eimOrgDomainFiltering| | | | |
| | | | |/E-File/Menu/eimAllEFiles|
||SAR Administrator||SAR Investigator||SAR Reviewer||SAR Approver||SAR E-Filter||
|> /Login/Logout|> /Login/Logout|> /Login/Logout|> /Login/Logout|> /Login/Logout|
|> /eimOrgDomainFiltering|> /eimOrgDomainFiltering|> /eimOrgDomainFiltering|> /eimOrgDomainFiltering|> /eimOrgDomainFiltering|
| | | | |> /E-File/Menu/eimAllEFiles|

 

 ",,Milena Elzbieta Mietkiewicz,,,,,,,712020:0d464633-ae85-4b20-ace8-1019764d285d,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i1i64n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
[SymphonySensa/web/issues/844] Sensa Network - No data found for this Entity ,APPSDEVX-123,660644,,Bug,New,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,Milena Elzbieta Mietkiewicz,712020:0d464633-ae85-4b20-ace8-1019764d285d,10/May/23 11:02 AM,08/Sep/23 10:56 AM,10/Nov/23 6:20 PM,,,,,,,,,,,,,,,ReadyToEstimate,,,"https://100.91.130.32:8443/

I got two errors in the console
-> {color:#DE350B}Error: Bad Request Exception{color}
 -> {color:#DE350B}Error: Cannot read properties of undefined (reading 'sourceId'){color}


# Log in as amlsupervisor user.
# Go to Back Office->Subjects->Customers
# Filter alerts by: Main Customer Name: *SENSA CUST2 (SENSA-Party_750028)* or *BAXTER SAYER (CUST-000090)*
# Click on Name in the Matching Customers section.
# Click on Sensa Network tab.
# {color:#DE350B}No data found for this Entity{color} message is displayed. I should see the data for those customers",,Jennifer Lalor,Milena Elzbieta Mietkiewicz,,,,,,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,712020:0d464633-ae85-4b20-ace8-1019764d285d,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPSDEVX-112,,10/May/23 11:03 AM;712020:0d464633-ae85-4b20-ace8-1019764d285d;Screenshot 2023-05-10 at 11.58.52.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/887076,10/May/23 11:03 AM;712020:0d464633-ae85-4b20-ace8-1019764d285d;Screenshot 2023-05-10 at 11.59.52.png;https://netreveal.atlassian.net/rest/api/3/attachment/content/887077,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0kk1j:ohy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Engineering,,,,,,Sensa Int Backlog,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-05-17 12:30:57.775,,"17/May/23 1:30 PM;712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5;This bug was rasied initially as the Sensa test environment  was down.
That is now fixed but there is still an issue populating the Sensa Network section.
This is out of scope for now as Sensa are doing some work on the Entity Links Explorer so we will pick this up again once that work has been completed.",,,,,,,,,,,,,,,,,To Do
[SENSINT-140] SENSA API - too many request,APPSDEVX-73,660654,,Bug,New,APPSDEVX,NR Solutions DevX,software,Valiantys Support,557058:1c35a9aa-e5cd-4d83-abb6-de010d15925d,,3 - Medium,,,,Jennifer Lalor,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,Jennifer Lalor,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,27/Apr/23 11:19 AM,08/Sep/23 10:56 AM,10/Nov/23 6:20 PM,,,,,,,COMPL 9.1.1,,,,AML Transaction Monitoring,,,,ReadyToEstimate,,,"email from Janusz:

Hi Lukasz,

I suspect this is throttling on API side and we got in such case xml instead of JSON response.

I saw something like this from API Gateway on AWS – of course Sensa is not using AWS API Gateway but there must be a reverse proxy (I guess nginx) which when being overloaded gives errors in xml format

 

We need to check if we can catch 429 (too many request) and handle properly as error instead of let go ahead with a sequence execution.

 

Regards,

Janusz

From: Lukasz Konieczka <lukasz.konieczka@netreveal.ai>
Date: Friday, 3 March 2023 at 16:37
To: Janusz Perek <janusz.perek@netreveal.ai>, Michal Kolaczkowski <michal.kolaczkowski@netreveal.ai>, Eddie Baggott <eddie.baggott@netreveal.ai>
Cc: Jennifer Lalor <jennifer.lalor@netreveal.ai>
Subject: JSON error

 

hi

sometimes on Azure env we have json error from Sensa. it appears sometimes, and I'm not able to reproduce and 

 

3-Mar-2023 15:15:49,926 -  -  INFO  LogJob:132 - SENSA Run Config: for the day: 20160106 Total Jobs count:      1

03-Mar-2023 15:16:07,892 -  -  ERROR RealTimeLogicFacadeImpl:2092 - Unable to execute function [COMPL_Sensa_GetAllRisksUpdate (DATABASE-UPDATE - 40)]: PreparedStatementCallback; SQL [update sensa_customer_score sens set last_updated_timestamp = CURRENT_TIMESTAMP, original_overall_risk_score = ""original_compositeScore"", original_anomaly_detection_score = ""original_anomalyScore"", original_change_behaviour_score = ""original_cibScore"", original_hotspot_score = ""original_hotspotScore"", overall_risk_score = ""compositeScore_rnd"", anomaly_detection_score = ""anomalyScore_rnd"", change_behaviour_score = ""cibScore_rnd"", hotspot_score = ""hotspotScore_rnd"" from ( select ""entityId"" , ""compositeScore"" as ""original_compositeScore"" , ""anomalyScore"" as ""original_anomalyScore"" , ""cibScore"" as ""original_cibScore"" , ""hotspotScore"" as ""original_hotspotScore""  , cast(""compositeScore"" as Decimal(38,2)) * 100 as ""compositeScore_rnd"" , cast(""anomalyScore"" as Decimal(38,2)) * 100 as ""anomalyScore_rnd"" , cast(""cibScore"" as Decimal(38,2)) * 100 as ""cibScore_rnd"" , cast(""hotspotScore"" as Decimal(38,2)) * 100 as ""hotspotScore_rnd""    from ( SELECT   jt.* FROM (   SELECT ? AS DATA   FROM V_DUAL) ""JSON"",        json_to_recordset(DATA::json #>'{data, getAllRiskScores, records}') as jt(""hotspotScore"" decimal(38,9), ""anomalyScore"" decimal(38,9), ""entityId"" varchar(100), ""cibScore"" decimal(38,9), ""compositeScore"" decimal(38,9))  )x ) zz where sens.customer_id=""entityId""]; ERROR: invalid input syntax for type json   Detail: Token ""<"" is invalid.   Where: JSON data, line 1: <...; nested exception is org.postgresql.util.PSQLException: ERROR: invalid input syntax for type json   Detail: Token ""<"" is invalid.   Where: JSON data, line 1: <...

org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [update sensa_customer_score sens

set

last_updated_timestamp = CURRENT_TIMESTAMP,

original_overall_risk_score = ""original_compositeScore"",

original_anomaly_detection_score = ""original_anomalyScore"",

original_change_behaviour_score = ""original_cibScore"",

original_hotspot_score = ""original_hotspotScore"",

overall_risk_score = ""compositeScore_rnd"",

anomaly_detection_score = ""anomalyScore_rnd"",

change_behaviour_score = ""cibScore_rnd"",

hotspot_score = ""hotspotScore_rnd""

from

(

select ""entityId""

, ""compositeScore"" as ""original_compositeScore""

, ""anomalyScore"" as ""original_anomalyScore""

, ""cibScore"" as ""original_cibScore""

, ""hotspotScore"" as ""original_hotspotScore"" 

, cast(""compositeScore"" as Decimal(38,2)) * 100 as ""compositeScore_rnd""

, cast(""anomalyScore"" as Decimal(38,2)) * 100 as ""anomalyScore_rnd""

, cast(""cibScore"" as Decimal(38,2)) * 100 as ""cibScore_rnd""

, cast(""hotspotScore"" as Decimal(38,2)) * 100 as ""hotspotScore_rnd""   

from

(

SELECT

  jt.*

FROM (

  SELECT ? AS DATA

  FROM V_DUAL) ""JSON"",

       json_to_recordset(DATA::json #>'{data, getAllRiskScores, records}') as jt(""hotspotScore"" decimal(38,9), ""anomalyScore"" decimal(38,9), ""entityId"" varchar(100), ""cibScore"" decimal(38,9), ""compositeScore"" decimal(38,9))

)x

) zz where sens.customer_id=""entityId""]; ERROR: invalid input syntax for type json

  Detail: Token ""<"" is invalid.

  Where: JSON data, line 1: <...; nested exception is org.postgresql.util.PSQLException: ERROR: invalid input syntax for type json

  Detail: Token ""<"" is invalid.

  Where: JSON data, line 1: <...

  at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:104) ~[spring-jdbc-5.3.25.jar:5.3.25]

  at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70) ~[spring-jdbc-5.3.25.jar:5.3.25]

  at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79) ~[spring-jdbc-5.3.25.jar:5.3.25]

  at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79) ~[spring-jdbc-5.3.25.jar:5.3.25]

  at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541) ~[spring-jdbc-5.3.25.jar:5.3.25]

  at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667) ~[spring-jdbc-5.3.25.jar:5.3.25]

  at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960) ~[spring-jdbc-5.3.25.jar:5.3.25]

  at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1015) ~[spring-jdbc-5.3.25.jar:5.3.25]

  at com.norkom.acquisition.business.realtime.impl.DatabaseUpdateRealTimeFunction$1.doInTransaction(DatabaseUpdateRealTimeFunction.java:130) ~[norkom_acq_business.jar:?]

  at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.3.25.jar:5.3.25]

  at com.norkom.acquisition.business.realtime.impl.DatabaseUpdateRealTimeFunction.process(DatabaseUpdateRealTimeFunction.java:82) ~[norkom_acq_business.jar:?]

  at com.norkom.acquisition.business.facades.impl.RealTimeLogicFacadeImpl.processSequence(RealTimeLogicFacadeImpl.java:1993) ~[norkom_acq_business.jar:?]

  at com.norkom.acquisition.business.facades.impl.RealTimeLogicFacadeImpl.processSequenceUngrouped(RealTimeLogicFacadeImpl.java:1758) ~[norkom_acq_business.jar:?]

  at com.norkom.acquisition.business.facades.impl.RealTimeLogicFacadeImpl.processUngrouped(RealTimeLogicFacadeImpl.java:1651) ~[norkom_acq_business.jar:?]

  at com.norkom.acquisition.business.facades.impl.RealTimeLogicFacadeImpl.processRealTimeInputMessage(RealTimeLogicFacadeImpl.java:1442) ~[norkom_acq_business.jar:?]

  at com.norkom.acquisition.business.facades.impl.RealTimeLogicFacadeImpl.access$000(RealTimeLogicFacadeImpl.java:106) ~[norkom_acq_business.jar:?]

  at com.norkom.acquisition.business.facades.impl.RealTimeLogicFacadeImpl$5.doInTransaction(RealTimeLogicFacadeImpl.java:1295) ~[norkom_acq_business.jar:?]

  at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.3.25.jar:5.3.25]

  at com.norkom.acquisition.business.facades.impl.RealTimeLogicFacadeImpl.processMessage(RealTimeLogicFacadeImpl.java:1288) ~[norkom_acq_business.jar:?]

  at com.norkom.acquisition.business.scheduler.batchbridge.MessageHandlerDirectThread.run(MessageHandlerDirectThread.java:75) ~[norkom_acq_business.jar:?]

Caused by: org.postgresql.util.PSQLException: ERROR: invalid input syntax for type json

  Detail: Token ""<"" is invalid.

  Where: JSON data, line 1: <...

  at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2422) ~[postgresql.jar:42.2.1]

  at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2167) ~[postgresql.jar:42.2.1]

  at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:306) ~[postgresql.jar:42.2.1]

  at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql.jar:42.2.1]

  at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql.jar:42.2.1]

  at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:155) ~[postgresql.jar:42.2.1]

  at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:132) ~[postgresql.jar:42.2.1]

  at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.4.2.jar:?]

  at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.4.2.jar:?]

  at org.springframework.jdbc.core.JdbcTemplate.lambda$update$2(JdbcTemplate.java:965) ~[spring-jdbc-5.3.25.jar:5.3.25]

  at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651) ~[spring-jdbc-5.3.25.jar:5.3.25]

  ... 14 more

03-Mar-2023 15:16:07,912 -  -  INFO  BatchBridgeJob:1365 - Found errors for 1 record(s) in reply message. Logging them as bad records.

03-Mar-2023 15:16:07,912 -  -  INFO  DatabaseReader:305 - Bad record at 0. Reason : PreparedStatementCallback; SQL [update sensa_customer_score sens set last_updated_timestamp = CURRENT_TIMESTAMP, original_overall_risk_score = ""original_compositeScore"", original_anomaly_detection_score = ""original_anomalyScore"", original_change_behaviour_score = ""original_cibScore"", original_hotspot_score = ""original_hotspotScore"", overall_risk_score = ""compositeScore_rnd"", anomaly_detection_score = ""anomalyScore_rnd"", change_behaviour_score = ""cibScore_rnd"", hotspot_score = ""hotspotScore_rnd"" from ( select ""entityId"" , ""compositeScore"" as ""original_compositeScore"" , ""anomalyScore"" as ""original_anomalyScore"" , ""cibScore"" as ""original_cibScore"" , ""hotspotScore"" as ""original_hotspotScore"" , cast(""compositeScore"" as Decimal(38,2)) * 100 as ""compositeScore_rnd"" , cast(""anomalyScore"" as Decimal(38,2)) * 100 as ""anomalyScore_rnd"" , cast(""cibScore"" as Decimal(38,2)) * 100 as ""cibScore_rnd"" , cast(""hotspotScore"" as Decimal(38,2)) * 100 as ""hotspotScore_rnd"" from ( SELECT jt.* FROM ( SELECT ? AS DATA FROM V_DUAL) ""JSON"", json_to_recordset(DATA::json #>'{data, getAllRiskScores, records}') as jt(""hotspotScore"" decimal(38,9), ""anomalyScore"" decimal(38,9), ""entityId"" varchar(100), ""cibScore"" decimal(38,9), ""compositeScore"" decimal(38,9)) )x ) zz where sens.customer_id=""entityId""]; ERROR: invalid input syntax for type json Detail: Token ""<"" is invalid. Where: JSON data, line 1: <...; nested exception is org.postgresql.util.PSQLException: ERROR: invalid input syntax for type json Detail: Token ""<"" is invalid. Where: JSON data, line 1: <...

03-Mar-2023 15:16:49,878 -  -  INFO  LogJob:132 - SENSA Run Config: for the day: 20160106 Job status:            RUNNING


NOTE: Sensa are working on functionality that may resolves this so we should wait for this to be completed and then retest this.",,Jennifer Lalor,Michal Kolaczkowski,,,,,,712020:5b08a3c2-e691-483e-89b7-1314d0ff50f5,712020:d4e1c12f-4c7f-42fe-8c91-16d00090f648,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,APPSDEVX-400,APPSDEVX-101,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,APPSDEVX-210,NetReveal Sensa Integration 9.1 Follow Ups,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Internal,,,,,,,,,,,0|i0kk1j:ohi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Sensa Int Backlog,,,,,,Awaiting Information,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,661078,NetReveal Sensa Integration 9.1 Follow Ups,To Do
